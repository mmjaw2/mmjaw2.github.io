"use strict";

// Copyright 2021-2024, University of Colorado Boulder

/**
 * @author Michael Kauzmann (PhET Interactive Simulations)
 */

var qunit = require('qunit');
var assert = require('assert');
var _phetioCompareAPIs = require('./phetioCompareAPIs'); // eslint-disable-line require-statement-match
var _ = require('lodash');
qunit.module('phetioCompareAPIs');

/**
 * @param referenceAPI
 * @param proposedAPI
 * @param options
 * @returns {{breakingProblems: string[], designedProblems: string[], newAPI: Object}}
 */
var phetioCompareAPIs = function phetioCompareAPIs(referenceAPI, proposedAPI, options) {
  return _phetioCompareAPIs(referenceAPI, proposedAPI, _, assert, options);
};

// To cover the boilerplate that will be largely copied around otherwise.
var DEFAULT_API = {
  phetioElements: {},
  phetioFullAPI: true,
  phetioTypes: {
    ObjectIO: {
      documentation: 'The root of the PhET-iO Type hierarchy',
      events: [],
      metadataDefaults: {
        phetioArchetypePhetioID: null,
        phetioDesigned: false,
        phetioDocumentation: '',
        phetioDynamicElement: false,
        phetioEventType: 'MODEL',
        phetioFeatured: false,
        phetioHighFrequency: false,
        phetioIsArchetype: false,
        phetioPlayback: false,
        phetioReadOnly: false,
        phetioState: true,
        phetioTypeName: 'ObjectIO'
      },
      methodOrder: [],
      methods: {},
      parameterTypes: [],
      supertype: null,
      typeName: 'ObjectIO'
    }
  },
  sim: 'natural-selection',
  version: {
    major: 1,
    minor: 0
  }
};
qunit.test('basics', function (assert) {
  var referenceAPI = _.merge({
    phetioElements: {
      phetioEngine: {
        _metadata: {
          phetioDocumentation: 'Central point for PhET-iO interoperability. Please see the PhET-iO Type Documentation for API details.',
          phetioEventType: 'MODEL',
          phetioState: false,
          phetioTypeName: 'ObjectIO'
        }
      }
    }
  }, DEFAULT_API);
  var proposedAPI = _.cloneDeep(referenceAPI);
  var report = phetioCompareAPIs(referenceAPI, proposedAPI);
  assert.ok(report.breakingProblems.length === 0, 'no breaking problems when compare to self');
  assert.ok(report.designedProblems.length === 0, 'no designed problems when compare to self');
  proposedAPI.phetioElements.phetioEngine._metadata.phetioPlayback = true;
  report = phetioCompareAPIs(referenceAPI, proposedAPI);
  assert.ok(report.breakingProblems.length === 1, 'no breaking problems when compare to self');
  assert.ok(report.designedProblems.length === 0, 'no designed problems when compare to self');
});
qunit.test('designed changes', function (assert) {
  var referenceAPI = _.merge({
    phetioElements: {
      designedElement: {
        _metadata: {
          phetioDesigned: true
        },
        designedChild: {
          _metadata: {}
        }
      }
    }
  }, DEFAULT_API);
  var proposedAPI = _.cloneDeep(referenceAPI);
  proposedAPI.phetioElements.designedElement._metadata.phetioDocumentation = 'changed though I am designed, oh boy, this cannot be good.';
  var report = phetioCompareAPIs(referenceAPI, proposedAPI);
  assert.ok(report.breakingProblems.length === 0, 'no breaking problems when compare to design change');
  assert.ok(report.designedProblems.length === 1, 'no designed problems when changing designed problem');
  proposedAPI.phetioElements.designedElement.designedChild._metadata.phetioDocumentation = 'changed though I am a child of designed, oh boy, this cannot be good.';
  report = phetioCompareAPIs(referenceAPI, proposedAPI);
  assert.ok(report.breakingProblems.length === 0, 'no breaking problems when compare to design change');
  assert.ok(report.designedProblems.length === 2, 'no designed problems when changing designed problem on child');

  // in the reference, but not the proposed
  referenceAPI.phetioElements.designedElement.otherChild = {
    _metadata: {}
  };
  report = phetioCompareAPIs(referenceAPI, proposedAPI);
  assert.ok(report.breakingProblems.length === 1, 'cannot delete children like otherChild');

  // test shut off switch suppresses problems
  report = phetioCompareAPIs(referenceAPI, proposedAPI, {
    compareDesignedAPIChanges: false,
    compareBreakingAPIChanges: false
  });
  assert.ok(report.breakingProblems.length === 0, 'no breaking problems if not testing for them');
  assert.ok(report.designedProblems.length === 0, 'no designed problems if not testing for them');
});
qunit.test('breaking element API changes', function (assert) {
  var referenceAPI = _.merge({
    phetioElements: {
      breakingElement: {
        _metadata: {
          phetioDesigned: true
        },
        designedChild: {
          _metadata: {}
        }
      }
    }
  }, DEFAULT_API);
  var proposedAPI = _.cloneDeep(referenceAPI);
  delete proposedAPI.phetioElements.breakingElement.designedChild;
  var report = phetioCompareAPIs(referenceAPI, proposedAPI);
  assert.ok(report.breakingProblems.length === 1, 'missing an element');
  assert.ok(report.designedProblems.length === 1, 'missing element is also a designed problem');
  referenceAPI.phetioElements.breakingElement._metadata.phetioDesigned = false;
  report = phetioCompareAPIs(referenceAPI, proposedAPI);
  assert.ok(report.breakingProblems.length === 1, 'missing an element');
  assert.ok(report.designedProblems.length === 0, 'not a problem if not designed in the reference');
  var testMetadataKeyChange = function testMetadataKeyChange(metadataKey, valueThatBreaksAPI) {
    proposedAPI = _.cloneDeep(referenceAPI);
    proposedAPI.phetioElements.breakingElement._metadata[metadataKey] = valueThatBreaksAPI;
    report = phetioCompareAPIs(referenceAPI, proposedAPI, {
      compareDesignedAPIChanges: false
    });
    assert.ok(report.breakingProblems.length === 1, "it is a breaking change for ".concat(metadataKey, " to become ").concat(valueThatBreaksAPI));
  };

  // All values that would constitute a breaking change, sometimes breaking the comparison task with an assertion.
  var metadataBreakingData = [{
    metadataKey: 'phetioTypeName',
    value: 'OtherTypeIO',
    assert: true
  }, {
    metadataKey: 'phetioTypeName',
    value: true,
    assert: true
  }, {
    metadataKey: 'phetioEventType',
    value: true
  }, {
    metadataKey: 'phetioEventType',
    value: 'MOdDEL'
  }, {
    metadataKey: 'phetioEventType',
    value: 'USER'
  }, {
    metadataKey: 'phetioPlayback',
    value: true
  }, {
    metadataKey: 'phetioPlayback',
    value: '"a string"'
  }, {
    metadataKey: 'phetioDynamicElement',
    value: true
  }, {
    metadataKey: 'phetioIsArchetype',
    value: true
  }, {
    metadataKey: 'phetioIsArchetype',
    value: 'hi'
  }, {
    metadataKey: 'phetioArchetypePhetioID',
    value: true
  }, {
    metadataKey: 'phetioArchetypePhetioID',
    value: false
  }, {
    metadataKey: 'phetioArchetypePhetioID',
    value: 'wrongPhetioID'
  }, {
    metadataKey: 'phetioState',
    value: false
  }, {
    metadataKey: 'phetioReadOnly',
    value: true
  }];
  metadataBreakingData.forEach(function (testData) {
    var test = function test() {
      return testMetadataKeyChange(testData.metadataKey, testData.value);
    };
    if (testData.assert) {
      assert["throws"](function () {
        test();
      }, "assertion expected with key: ".concat(testData.key, ", and wrong value: ").concat(testData.value));
    } else {
      test();
    }
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJxdW5pdCIsInJlcXVpcmUiLCJhc3NlcnQiLCJfcGhldGlvQ29tcGFyZUFQSXMiLCJfIiwibW9kdWxlIiwicGhldGlvQ29tcGFyZUFQSXMiLCJyZWZlcmVuY2VBUEkiLCJwcm9wb3NlZEFQSSIsIm9wdGlvbnMiLCJERUZBVUxUX0FQSSIsInBoZXRpb0VsZW1lbnRzIiwicGhldGlvRnVsbEFQSSIsInBoZXRpb1R5cGVzIiwiT2JqZWN0SU8iLCJkb2N1bWVudGF0aW9uIiwiZXZlbnRzIiwibWV0YWRhdGFEZWZhdWx0cyIsInBoZXRpb0FyY2hldHlwZVBoZXRpb0lEIiwicGhldGlvRGVzaWduZWQiLCJwaGV0aW9Eb2N1bWVudGF0aW9uIiwicGhldGlvRHluYW1pY0VsZW1lbnQiLCJwaGV0aW9FdmVudFR5cGUiLCJwaGV0aW9GZWF0dXJlZCIsInBoZXRpb0hpZ2hGcmVxdWVuY3kiLCJwaGV0aW9Jc0FyY2hldHlwZSIsInBoZXRpb1BsYXliYWNrIiwicGhldGlvUmVhZE9ubHkiLCJwaGV0aW9TdGF0ZSIsInBoZXRpb1R5cGVOYW1lIiwibWV0aG9kT3JkZXIiLCJtZXRob2RzIiwicGFyYW1ldGVyVHlwZXMiLCJzdXBlcnR5cGUiLCJ0eXBlTmFtZSIsInNpbSIsInZlcnNpb24iLCJtYWpvciIsIm1pbm9yIiwidGVzdCIsIm1lcmdlIiwicGhldGlvRW5naW5lIiwiX21ldGFkYXRhIiwiY2xvbmVEZWVwIiwicmVwb3J0Iiwib2siLCJicmVha2luZ1Byb2JsZW1zIiwibGVuZ3RoIiwiZGVzaWduZWRQcm9ibGVtcyIsImRlc2lnbmVkRWxlbWVudCIsImRlc2lnbmVkQ2hpbGQiLCJvdGhlckNoaWxkIiwiY29tcGFyZURlc2lnbmVkQVBJQ2hhbmdlcyIsImNvbXBhcmVCcmVha2luZ0FQSUNoYW5nZXMiLCJicmVha2luZ0VsZW1lbnQiLCJ0ZXN0TWV0YWRhdGFLZXlDaGFuZ2UiLCJtZXRhZGF0YUtleSIsInZhbHVlVGhhdEJyZWFrc0FQSSIsImNvbmNhdCIsIm1ldGFkYXRhQnJlYWtpbmdEYXRhIiwidmFsdWUiLCJmb3JFYWNoIiwidGVzdERhdGEiLCJrZXkiXSwic291cmNlcyI6WyJwaGV0aW9Db21wYXJlQVBJc1Rlc3RzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIEBhdXRob3IgTWljaGFlbCBLYXV6bWFubiAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5cclxuY29uc3QgcXVuaXQgPSByZXF1aXJlKCAncXVuaXQnICk7XHJcbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoICdhc3NlcnQnICk7XHJcbmNvbnN0IF9waGV0aW9Db21wYXJlQVBJcyA9IHJlcXVpcmUoICcuL3BoZXRpb0NvbXBhcmVBUElzJyApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtc3RhdGVtZW50LW1hdGNoXHJcbmNvbnN0IF8gPSByZXF1aXJlKCAnbG9kYXNoJyApO1xyXG5cclxucXVuaXQubW9kdWxlKCAncGhldGlvQ29tcGFyZUFQSXMnICk7XHJcblxyXG4vKipcclxuICogQHBhcmFtIHJlZmVyZW5jZUFQSVxyXG4gKiBAcGFyYW0gcHJvcG9zZWRBUElcclxuICogQHBhcmFtIG9wdGlvbnNcclxuICogQHJldHVybnMge3ticmVha2luZ1Byb2JsZW1zOiBzdHJpbmdbXSwgZGVzaWduZWRQcm9ibGVtczogc3RyaW5nW10sIG5ld0FQSTogT2JqZWN0fX1cclxuICovXHJcbmNvbnN0IHBoZXRpb0NvbXBhcmVBUElzID0gKCByZWZlcmVuY2VBUEksIHByb3Bvc2VkQVBJLCBvcHRpb25zICkgPT4ge1xyXG4gIHJldHVybiBfcGhldGlvQ29tcGFyZUFQSXMoIHJlZmVyZW5jZUFQSSwgcHJvcG9zZWRBUEksIF8sIGFzc2VydCwgb3B0aW9ucyApO1xyXG59O1xyXG5cclxuLy8gVG8gY292ZXIgdGhlIGJvaWxlcnBsYXRlIHRoYXQgd2lsbCBiZSBsYXJnZWx5IGNvcGllZCBhcm91bmQgb3RoZXJ3aXNlLlxyXG5jb25zdCBERUZBVUxUX0FQSSA9IHtcclxuICBwaGV0aW9FbGVtZW50czoge30sXHJcbiAgcGhldGlvRnVsbEFQSTogdHJ1ZSxcclxuICBwaGV0aW9UeXBlczoge1xyXG4gICAgT2JqZWN0SU86IHtcclxuICAgICAgZG9jdW1lbnRhdGlvbjogJ1RoZSByb290IG9mIHRoZSBQaEVULWlPIFR5cGUgaGllcmFyY2h5JyxcclxuICAgICAgZXZlbnRzOiBbXSxcclxuICAgICAgbWV0YWRhdGFEZWZhdWx0czoge1xyXG4gICAgICAgIHBoZXRpb0FyY2hldHlwZVBoZXRpb0lEOiBudWxsLFxyXG4gICAgICAgIHBoZXRpb0Rlc2lnbmVkOiBmYWxzZSxcclxuICAgICAgICBwaGV0aW9Eb2N1bWVudGF0aW9uOiAnJyxcclxuICAgICAgICBwaGV0aW9EeW5hbWljRWxlbWVudDogZmFsc2UsXHJcbiAgICAgICAgcGhldGlvRXZlbnRUeXBlOiAnTU9ERUwnLFxyXG4gICAgICAgIHBoZXRpb0ZlYXR1cmVkOiBmYWxzZSxcclxuICAgICAgICBwaGV0aW9IaWdoRnJlcXVlbmN5OiBmYWxzZSxcclxuICAgICAgICBwaGV0aW9Jc0FyY2hldHlwZTogZmFsc2UsXHJcbiAgICAgICAgcGhldGlvUGxheWJhY2s6IGZhbHNlLFxyXG4gICAgICAgIHBoZXRpb1JlYWRPbmx5OiBmYWxzZSxcclxuICAgICAgICBwaGV0aW9TdGF0ZTogdHJ1ZSxcclxuICAgICAgICBwaGV0aW9UeXBlTmFtZTogJ09iamVjdElPJ1xyXG4gICAgICB9LFxyXG4gICAgICBtZXRob2RPcmRlcjogW10sXHJcbiAgICAgIG1ldGhvZHM6IHt9LFxyXG4gICAgICBwYXJhbWV0ZXJUeXBlczogW10sXHJcbiAgICAgIHN1cGVydHlwZTogbnVsbCxcclxuICAgICAgdHlwZU5hbWU6ICdPYmplY3RJTydcclxuICAgIH1cclxuICB9LFxyXG4gIHNpbTogJ25hdHVyYWwtc2VsZWN0aW9uJyxcclxuICB2ZXJzaW9uOiB7XHJcbiAgICBtYWpvcjogMSxcclxuICAgIG1pbm9yOiAwXHJcbiAgfVxyXG59O1xyXG5cclxuXHJcbnF1bml0LnRlc3QoICdiYXNpY3MnLCBhc3NlcnQgPT4ge1xyXG5cclxuICBjb25zdCByZWZlcmVuY2VBUEkgPSBfLm1lcmdlKCB7XHJcbiAgICBwaGV0aW9FbGVtZW50czoge1xyXG4gICAgICBwaGV0aW9FbmdpbmU6IHtcclxuICAgICAgICBfbWV0YWRhdGE6IHtcclxuICAgICAgICAgIHBoZXRpb0RvY3VtZW50YXRpb246ICdDZW50cmFsIHBvaW50IGZvciBQaEVULWlPIGludGVyb3BlcmFiaWxpdHkuIFBsZWFzZSBzZWUgdGhlIFBoRVQtaU8gVHlwZSBEb2N1bWVudGF0aW9uIGZvciBBUEkgZGV0YWlscy4nLFxyXG4gICAgICAgICAgcGhldGlvRXZlbnRUeXBlOiAnTU9ERUwnLFxyXG4gICAgICAgICAgcGhldGlvU3RhdGU6IGZhbHNlLFxyXG4gICAgICAgICAgcGhldGlvVHlwZU5hbWU6ICdPYmplY3RJTydcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBERUZBVUxUX0FQSSApO1xyXG5cclxuICBjb25zdCBwcm9wb3NlZEFQSSA9IF8uY2xvbmVEZWVwKCByZWZlcmVuY2VBUEkgKTtcclxuXHJcbiAgbGV0IHJlcG9ydCA9IHBoZXRpb0NvbXBhcmVBUElzKCByZWZlcmVuY2VBUEksIHByb3Bvc2VkQVBJICk7XHJcblxyXG4gIGFzc2VydC5vayggcmVwb3J0LmJyZWFraW5nUHJvYmxlbXMubGVuZ3RoID09PSAwLCAnbm8gYnJlYWtpbmcgcHJvYmxlbXMgd2hlbiBjb21wYXJlIHRvIHNlbGYnICk7XHJcbiAgYXNzZXJ0Lm9rKCByZXBvcnQuZGVzaWduZWRQcm9ibGVtcy5sZW5ndGggPT09IDAsICdubyBkZXNpZ25lZCBwcm9ibGVtcyB3aGVuIGNvbXBhcmUgdG8gc2VsZicgKTtcclxuXHJcblxyXG4gIHByb3Bvc2VkQVBJLnBoZXRpb0VsZW1lbnRzLnBoZXRpb0VuZ2luZS5fbWV0YWRhdGEucGhldGlvUGxheWJhY2sgPSB0cnVlO1xyXG5cclxuICByZXBvcnQgPSBwaGV0aW9Db21wYXJlQVBJcyggcmVmZXJlbmNlQVBJLCBwcm9wb3NlZEFQSSApO1xyXG5cclxuICBhc3NlcnQub2soIHJlcG9ydC5icmVha2luZ1Byb2JsZW1zLmxlbmd0aCA9PT0gMSwgJ25vIGJyZWFraW5nIHByb2JsZW1zIHdoZW4gY29tcGFyZSB0byBzZWxmJyApO1xyXG4gIGFzc2VydC5vayggcmVwb3J0LmRlc2lnbmVkUHJvYmxlbXMubGVuZ3RoID09PSAwLCAnbm8gZGVzaWduZWQgcHJvYmxlbXMgd2hlbiBjb21wYXJlIHRvIHNlbGYnICk7XHJcbn0gKTtcclxuXHJcblxyXG5xdW5pdC50ZXN0KCAnZGVzaWduZWQgY2hhbmdlcycsIGFzc2VydCA9PiB7XHJcbiAgY29uc3QgcmVmZXJlbmNlQVBJID0gXy5tZXJnZSgge1xyXG4gICAgcGhldGlvRWxlbWVudHM6IHtcclxuICAgICAgZGVzaWduZWRFbGVtZW50OiB7XHJcbiAgICAgICAgX21ldGFkYXRhOiB7XHJcbiAgICAgICAgICBwaGV0aW9EZXNpZ25lZDogdHJ1ZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGVzaWduZWRDaGlsZDoge1xyXG4gICAgICAgICAgX21ldGFkYXRhOiB7fVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sIERFRkFVTFRfQVBJICk7XHJcblxyXG4gIGNvbnN0IHByb3Bvc2VkQVBJID0gXy5jbG9uZURlZXAoIHJlZmVyZW5jZUFQSSApO1xyXG5cclxuICBwcm9wb3NlZEFQSS5waGV0aW9FbGVtZW50cy5kZXNpZ25lZEVsZW1lbnQuX21ldGFkYXRhLnBoZXRpb0RvY3VtZW50YXRpb24gPSAnY2hhbmdlZCB0aG91Z2ggSSBhbSBkZXNpZ25lZCwgb2ggYm95LCB0aGlzIGNhbm5vdCBiZSBnb29kLic7XHJcblxyXG4gIGxldCByZXBvcnQgPSBwaGV0aW9Db21wYXJlQVBJcyggcmVmZXJlbmNlQVBJLCBwcm9wb3NlZEFQSSApO1xyXG4gIGFzc2VydC5vayggcmVwb3J0LmJyZWFraW5nUHJvYmxlbXMubGVuZ3RoID09PSAwLCAnbm8gYnJlYWtpbmcgcHJvYmxlbXMgd2hlbiBjb21wYXJlIHRvIGRlc2lnbiBjaGFuZ2UnICk7XHJcbiAgYXNzZXJ0Lm9rKCByZXBvcnQuZGVzaWduZWRQcm9ibGVtcy5sZW5ndGggPT09IDEsICdubyBkZXNpZ25lZCBwcm9ibGVtcyB3aGVuIGNoYW5naW5nIGRlc2lnbmVkIHByb2JsZW0nICk7XHJcblxyXG4gIHByb3Bvc2VkQVBJLnBoZXRpb0VsZW1lbnRzLmRlc2lnbmVkRWxlbWVudC5kZXNpZ25lZENoaWxkLl9tZXRhZGF0YS5waGV0aW9Eb2N1bWVudGF0aW9uID1cclxuICAgICdjaGFuZ2VkIHRob3VnaCBJIGFtIGEgY2hpbGQgb2YgZGVzaWduZWQsIG9oIGJveSwgdGhpcyBjYW5ub3QgYmUgZ29vZC4nO1xyXG5cclxuICByZXBvcnQgPSBwaGV0aW9Db21wYXJlQVBJcyggcmVmZXJlbmNlQVBJLCBwcm9wb3NlZEFQSSApO1xyXG4gIGFzc2VydC5vayggcmVwb3J0LmJyZWFraW5nUHJvYmxlbXMubGVuZ3RoID09PSAwLCAnbm8gYnJlYWtpbmcgcHJvYmxlbXMgd2hlbiBjb21wYXJlIHRvIGRlc2lnbiBjaGFuZ2UnICk7XHJcbiAgYXNzZXJ0Lm9rKCByZXBvcnQuZGVzaWduZWRQcm9ibGVtcy5sZW5ndGggPT09IDIsICdubyBkZXNpZ25lZCBwcm9ibGVtcyB3aGVuIGNoYW5naW5nIGRlc2lnbmVkIHByb2JsZW0gb24gY2hpbGQnICk7XHJcblxyXG5cclxuICAvLyBpbiB0aGUgcmVmZXJlbmNlLCBidXQgbm90IHRoZSBwcm9wb3NlZFxyXG4gIHJlZmVyZW5jZUFQSS5waGV0aW9FbGVtZW50cy5kZXNpZ25lZEVsZW1lbnQub3RoZXJDaGlsZCA9IHsgX21ldGFkYXRhOiB7fSB9O1xyXG4gIHJlcG9ydCA9IHBoZXRpb0NvbXBhcmVBUElzKCByZWZlcmVuY2VBUEksIHByb3Bvc2VkQVBJICk7XHJcbiAgYXNzZXJ0Lm9rKCByZXBvcnQuYnJlYWtpbmdQcm9ibGVtcy5sZW5ndGggPT09IDEsICdjYW5ub3QgZGVsZXRlIGNoaWxkcmVuIGxpa2Ugb3RoZXJDaGlsZCcgKTtcclxuXHJcbiAgLy8gdGVzdCBzaHV0IG9mZiBzd2l0Y2ggc3VwcHJlc3NlcyBwcm9ibGVtc1xyXG4gIHJlcG9ydCA9IHBoZXRpb0NvbXBhcmVBUElzKCByZWZlcmVuY2VBUEksIHByb3Bvc2VkQVBJLCB7XHJcbiAgICBjb21wYXJlRGVzaWduZWRBUElDaGFuZ2VzOiBmYWxzZSxcclxuICAgIGNvbXBhcmVCcmVha2luZ0FQSUNoYW5nZXM6IGZhbHNlXHJcbiAgfSApO1xyXG4gIGFzc2VydC5vayggcmVwb3J0LmJyZWFraW5nUHJvYmxlbXMubGVuZ3RoID09PSAwLCAnbm8gYnJlYWtpbmcgcHJvYmxlbXMgaWYgbm90IHRlc3RpbmcgZm9yIHRoZW0nICk7XHJcbiAgYXNzZXJ0Lm9rKCByZXBvcnQuZGVzaWduZWRQcm9ibGVtcy5sZW5ndGggPT09IDAsICdubyBkZXNpZ25lZCBwcm9ibGVtcyBpZiBub3QgdGVzdGluZyBmb3IgdGhlbScgKTtcclxufSApO1xyXG5cclxuXHJcbnF1bml0LnRlc3QoICdicmVha2luZyBlbGVtZW50IEFQSSBjaGFuZ2VzJywgYXNzZXJ0ID0+IHtcclxuICBjb25zdCByZWZlcmVuY2VBUEkgPSBfLm1lcmdlKCB7XHJcbiAgICBwaGV0aW9FbGVtZW50czoge1xyXG4gICAgICBicmVha2luZ0VsZW1lbnQ6IHtcclxuICAgICAgICBfbWV0YWRhdGE6IHtcclxuICAgICAgICAgIHBoZXRpb0Rlc2lnbmVkOiB0cnVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkZXNpZ25lZENoaWxkOiB7XHJcbiAgICAgICAgICBfbWV0YWRhdGE6IHt9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSwgREVGQVVMVF9BUEkgKTtcclxuXHJcbiAgbGV0IHByb3Bvc2VkQVBJID0gXy5jbG9uZURlZXAoIHJlZmVyZW5jZUFQSSApO1xyXG5cclxuICBkZWxldGUgcHJvcG9zZWRBUEkucGhldGlvRWxlbWVudHMuYnJlYWtpbmdFbGVtZW50LmRlc2lnbmVkQ2hpbGQ7XHJcblxyXG4gIGxldCByZXBvcnQgPSBwaGV0aW9Db21wYXJlQVBJcyggcmVmZXJlbmNlQVBJLCBwcm9wb3NlZEFQSSApO1xyXG4gIGFzc2VydC5vayggcmVwb3J0LmJyZWFraW5nUHJvYmxlbXMubGVuZ3RoID09PSAxLCAnbWlzc2luZyBhbiBlbGVtZW50JyApO1xyXG4gIGFzc2VydC5vayggcmVwb3J0LmRlc2lnbmVkUHJvYmxlbXMubGVuZ3RoID09PSAxLCAnbWlzc2luZyBlbGVtZW50IGlzIGFsc28gYSBkZXNpZ25lZCBwcm9ibGVtJyApO1xyXG5cclxuICByZWZlcmVuY2VBUEkucGhldGlvRWxlbWVudHMuYnJlYWtpbmdFbGVtZW50Ll9tZXRhZGF0YS5waGV0aW9EZXNpZ25lZCA9IGZhbHNlO1xyXG5cclxuICByZXBvcnQgPSBwaGV0aW9Db21wYXJlQVBJcyggcmVmZXJlbmNlQVBJLCBwcm9wb3NlZEFQSSApO1xyXG4gIGFzc2VydC5vayggcmVwb3J0LmJyZWFraW5nUHJvYmxlbXMubGVuZ3RoID09PSAxLCAnbWlzc2luZyBhbiBlbGVtZW50JyApO1xyXG4gIGFzc2VydC5vayggcmVwb3J0LmRlc2lnbmVkUHJvYmxlbXMubGVuZ3RoID09PSAwLCAnbm90IGEgcHJvYmxlbSBpZiBub3QgZGVzaWduZWQgaW4gdGhlIHJlZmVyZW5jZScgKTtcclxuXHJcbiAgY29uc3QgdGVzdE1ldGFkYXRhS2V5Q2hhbmdlID0gKCBtZXRhZGF0YUtleSwgdmFsdWVUaGF0QnJlYWtzQVBJICkgPT4ge1xyXG5cclxuICAgIHByb3Bvc2VkQVBJID0gXy5jbG9uZURlZXAoIHJlZmVyZW5jZUFQSSApO1xyXG5cclxuICAgIHByb3Bvc2VkQVBJLnBoZXRpb0VsZW1lbnRzLmJyZWFraW5nRWxlbWVudC5fbWV0YWRhdGFbIG1ldGFkYXRhS2V5IF0gPSB2YWx1ZVRoYXRCcmVha3NBUEk7XHJcblxyXG4gICAgcmVwb3J0ID0gcGhldGlvQ29tcGFyZUFQSXMoIHJlZmVyZW5jZUFQSSwgcHJvcG9zZWRBUEksIHtcclxuICAgICAgY29tcGFyZURlc2lnbmVkQVBJQ2hhbmdlczogZmFsc2VcclxuICAgIH0gKTtcclxuICAgIGFzc2VydC5vayggcmVwb3J0LmJyZWFraW5nUHJvYmxlbXMubGVuZ3RoID09PSAxLCBgaXQgaXMgYSBicmVha2luZyBjaGFuZ2UgZm9yICR7bWV0YWRhdGFLZXl9IHRvIGJlY29tZSAke3ZhbHVlVGhhdEJyZWFrc0FQSX1gICk7XHJcbiAgfTtcclxuXHJcbiAgLy8gQWxsIHZhbHVlcyB0aGF0IHdvdWxkIGNvbnN0aXR1dGUgYSBicmVha2luZyBjaGFuZ2UsIHNvbWV0aW1lcyBicmVha2luZyB0aGUgY29tcGFyaXNvbiB0YXNrIHdpdGggYW4gYXNzZXJ0aW9uLlxyXG4gIGNvbnN0IG1ldGFkYXRhQnJlYWtpbmdEYXRhID0gW1xyXG4gICAgeyBtZXRhZGF0YUtleTogJ3BoZXRpb1R5cGVOYW1lJywgdmFsdWU6ICdPdGhlclR5cGVJTycsIGFzc2VydDogdHJ1ZSB9LFxyXG4gICAgeyBtZXRhZGF0YUtleTogJ3BoZXRpb1R5cGVOYW1lJywgdmFsdWU6IHRydWUsIGFzc2VydDogdHJ1ZSB9LFxyXG4gICAgeyBtZXRhZGF0YUtleTogJ3BoZXRpb0V2ZW50VHlwZScsIHZhbHVlOiB0cnVlIH0sXHJcbiAgICB7IG1ldGFkYXRhS2V5OiAncGhldGlvRXZlbnRUeXBlJywgdmFsdWU6ICdNT2RERUwnIH0sXHJcbiAgICB7IG1ldGFkYXRhS2V5OiAncGhldGlvRXZlbnRUeXBlJywgdmFsdWU6ICdVU0VSJyB9LFxyXG4gICAgeyBtZXRhZGF0YUtleTogJ3BoZXRpb1BsYXliYWNrJywgdmFsdWU6IHRydWUgfSxcclxuICAgIHsgbWV0YWRhdGFLZXk6ICdwaGV0aW9QbGF5YmFjaycsIHZhbHVlOiAnXCJhIHN0cmluZ1wiJyB9LFxyXG4gICAgeyBtZXRhZGF0YUtleTogJ3BoZXRpb0R5bmFtaWNFbGVtZW50JywgdmFsdWU6IHRydWUgfSxcclxuICAgIHsgbWV0YWRhdGFLZXk6ICdwaGV0aW9Jc0FyY2hldHlwZScsIHZhbHVlOiB0cnVlIH0sXHJcbiAgICB7IG1ldGFkYXRhS2V5OiAncGhldGlvSXNBcmNoZXR5cGUnLCB2YWx1ZTogJ2hpJyB9LFxyXG4gICAgeyBtZXRhZGF0YUtleTogJ3BoZXRpb0FyY2hldHlwZVBoZXRpb0lEJywgdmFsdWU6IHRydWUgfSxcclxuICAgIHsgbWV0YWRhdGFLZXk6ICdwaGV0aW9BcmNoZXR5cGVQaGV0aW9JRCcsIHZhbHVlOiBmYWxzZSB9LFxyXG4gICAgeyBtZXRhZGF0YUtleTogJ3BoZXRpb0FyY2hldHlwZVBoZXRpb0lEJywgdmFsdWU6ICd3cm9uZ1BoZXRpb0lEJyB9LFxyXG4gICAgeyBtZXRhZGF0YUtleTogJ3BoZXRpb1N0YXRlJywgdmFsdWU6IGZhbHNlIH0sXHJcbiAgICB7IG1ldGFkYXRhS2V5OiAncGhldGlvUmVhZE9ubHknLCB2YWx1ZTogdHJ1ZSB9XHJcbiAgXTtcclxuXHJcbiAgbWV0YWRhdGFCcmVha2luZ0RhdGEuZm9yRWFjaCggdGVzdERhdGEgPT4ge1xyXG5cclxuICAgIGNvbnN0IHRlc3QgPSAoKSA9PiB0ZXN0TWV0YWRhdGFLZXlDaGFuZ2UoIHRlc3REYXRhLm1ldGFkYXRhS2V5LCB0ZXN0RGF0YS52YWx1ZSApO1xyXG5cclxuICAgIGlmICggdGVzdERhdGEuYXNzZXJ0ICkge1xyXG4gICAgICBhc3NlcnQudGhyb3dzKCAoKSA9PiB7XHJcbiAgICAgICAgdGVzdCgpO1xyXG4gICAgICB9LCBgYXNzZXJ0aW9uIGV4cGVjdGVkIHdpdGgga2V5OiAke3Rlc3REYXRhLmtleX0sIGFuZCB3cm9uZyB2YWx1ZTogJHt0ZXN0RGF0YS52YWx1ZX1gICk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGVzdCgpO1xyXG4gICAgfVxyXG4gIH0gKTtcclxufSApOyJdLCJtYXBwaW5n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