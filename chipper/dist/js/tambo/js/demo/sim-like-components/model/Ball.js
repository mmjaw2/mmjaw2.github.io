// Copyright 2018-2024, University of Colorado Boulder

/**
 * simple model of a ball
 *
 * @author John Blanco (PhET Interactive Simulations)
 */

import Emitter from '../../../../../axon/js/Emitter.js';
import Vector2Property from '../../../../../dot/js/Vector2Property.js';
import tambo from '../../../tambo.js';
class Ball {
  constructor(radius, color, initialPosition, initialVelocity) {
    this.radius = radius;
    this.color = color;
    this.positionProperty = new Vector2Property(initialPosition);
    this.velocityProperty = new Vector2Property(initialVelocity);
    this.bounceEmitter = new Emitter({
      parameters: [{
        valueType: 'string'
      }]
    });

    // monitor the velocity Property and fire the emitter when a bounce occurs
    this.velocityProperty.lazyLink((newVelocity, oldVelocity) => {
      // check for wall bounce
      if (oldVelocity.x > 0 && newVelocity.x < 0) {
        this.bounceEmitter.emit('right-wall');
      } else if (oldVelocity.x < 0 && newVelocity.x > 0) {
        this.bounceEmitter.emit('left-wall');
      }

      // check for floor and ceiling bounce
      if (oldVelocity.y > 0 && newVelocity.y < 0) {
        this.bounceEmitter.emit('ceiling');
      } else if (oldVelocity.y < 0 && newVelocity.y > 0) {
        this.bounceEmitter.emit('floor');
      }
    });
  }

  /**
   * restore initial state
   */
  reset() {
    this.positionProperty.reset();
    this.velocityProperty.reset();
  }
}
tambo.register('Ball', Ball);
export default Ball;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFbWl0dGVyIiwiVmVjdG9yMlByb3BlcnR5IiwidGFtYm8iLCJCYWxsIiwiY29uc3RydWN0b3IiLCJyYWRpdXMiLCJjb2xvciIsImluaXRpYWxQb3NpdGlvbiIsImluaXRpYWxWZWxvY2l0eSIsInBvc2l0aW9uUHJvcGVydHkiLCJ2ZWxvY2l0eVByb3BlcnR5IiwiYm91bmNlRW1pdHRlciIsInBhcmFtZXRlcnMiLCJ2YWx1ZVR5cGUiLCJsYXp5TGluayIsIm5ld1ZlbG9jaXR5Iiwib2xkVmVsb2NpdHkiLCJ4IiwiZW1pdCIsInkiLCJyZXNldCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiQmFsbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOC0yMDI0LCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBzaW1wbGUgbW9kZWwgb2YgYSBiYWxsXHJcbiAqXHJcbiAqIEBhdXRob3IgSm9obiBCbGFuY28gKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IEVtaXR0ZXIgZnJvbSAnLi4vLi4vLi4vLi4vLi4vYXhvbi9qcy9FbWl0dGVyLmpzJztcclxuaW1wb3J0IFRFbWl0dGVyIGZyb20gJy4uLy4uLy4uLy4uLy4uL2F4b24vanMvVEVtaXR0ZXIuanMnO1xyXG5pbXBvcnQgVmVjdG9yMiBmcm9tICcuLi8uLi8uLi8uLi8uLi9kb3QvanMvVmVjdG9yMi5qcyc7XHJcbmltcG9ydCBWZWN0b3IyUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vLi4vZG90L2pzL1ZlY3RvcjJQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IHRhbWJvIGZyb20gJy4uLy4uLy4uL3RhbWJvLmpzJztcclxuXHJcbmNsYXNzIEJhbGwge1xyXG4gIHB1YmxpYyByZWFkb25seSByYWRpdXM6IG51bWJlcjtcclxuICBwdWJsaWMgcmVhZG9ubHkgY29sb3I6IENvbG9yO1xyXG4gIHB1YmxpYyByZWFkb25seSBwb3NpdGlvblByb3BlcnR5OiBWZWN0b3IyUHJvcGVydHk7XHJcbiAgcHVibGljIHJlYWRvbmx5IHZlbG9jaXR5UHJvcGVydHk6IFZlY3RvcjJQcm9wZXJ0eTtcclxuICBwdWJsaWMgcmVhZG9ubHkgYm91bmNlRW1pdHRlcjogVEVtaXR0ZXI8WyBzdHJpbmcgXT47XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggcmFkaXVzOiBudW1iZXIsIGNvbG9yOiBDb2xvciwgaW5pdGlhbFBvc2l0aW9uOiBWZWN0b3IyLCBpbml0aWFsVmVsb2NpdHk6IFZlY3RvcjIgKSB7XHJcblxyXG4gICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XHJcbiAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICB0aGlzLnBvc2l0aW9uUHJvcGVydHkgPSBuZXcgVmVjdG9yMlByb3BlcnR5KCBpbml0aWFsUG9zaXRpb24gKTtcclxuICAgIHRoaXMudmVsb2NpdHlQcm9wZXJ0eSA9IG5ldyBWZWN0b3IyUHJvcGVydHkoIGluaXRpYWxWZWxvY2l0eSApO1xyXG4gICAgdGhpcy5ib3VuY2VFbWl0dGVyID0gbmV3IEVtaXR0ZXIoIHsgcGFyYW1ldGVyczogWyB7IHZhbHVlVHlwZTogJ3N0cmluZycgfSBdIH0gKTtcclxuXHJcbiAgICAvLyBtb25pdG9yIHRoZSB2ZWxvY2l0eSBQcm9wZXJ0eSBhbmQgZmlyZSB0aGUgZW1pdHRlciB3aGVuIGEgYm91bmNlIG9jY3Vyc1xyXG4gICAgdGhpcy52ZWxvY2l0eVByb3BlcnR5LmxhenlMaW5rKCAoIG5ld1ZlbG9jaXR5LCBvbGRWZWxvY2l0eSApID0+IHtcclxuXHJcbiAgICAgIC8vIGNoZWNrIGZvciB3YWxsIGJvdW5jZVxyXG4gICAgICBpZiAoIG9sZFZlbG9jaXR5LnggPiAwICYmIG5ld1ZlbG9jaXR5LnggPCAwICkge1xyXG4gICAgICAgIHRoaXMuYm91bmNlRW1pdHRlci5lbWl0KCAncmlnaHQtd2FsbCcgKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICggb2xkVmVsb2NpdHkueCA8IDAgJiYgbmV3VmVsb2NpdHkueCA+IDAgKSB7XHJcbiAgICAgICAgdGhpcy5ib3VuY2VFbWl0dGVyLmVtaXQoICdsZWZ0LXdhbGwnICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGNoZWNrIGZvciBmbG9vciBhbmQgY2VpbGluZyBib3VuY2VcclxuICAgICAgaWYgKCBvbGRWZWxvY2l0eS55ID4gMCAmJiBuZXdWZWxvY2l0eS55IDwgMCApIHtcclxuICAgICAgICB0aGlzLmJvdW5jZUVtaXR0ZXIuZW1pdCggJ2NlaWxpbmcnICk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoIG9sZFZlbG9jaXR5LnkgPCAwICYmIG5ld1ZlbG9jaXR5LnkgPiAwICkge1xyXG4gICAgICAgIHRoaXMuYm91bmNlRW1pdHRlci5lbWl0KCAnZmxvb3InICk7XHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHJlc3RvcmUgaW5pdGlhbCBzdGF0ZVxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXNldCgpOiB2b2lkIHtcclxuICAgIHRoaXMucG9zaXRpb25Qcm9wZXJ0eS5yZXNldCgpO1xyXG4gICAgdGhpcy52ZWxvY2l0eVByb3BlcnR5LnJlc2V0KCk7XHJcbiAgfVxyXG59XHJcblxyXG50YW1iby5yZWdpc3RlciggJ0JhbGwnLCBCYWxsICk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCYWxsOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxPQUFPLE1BQU0sbUNBQW1DO0FBR3ZELE9BQU9DLGVBQWUsTUFBTSwwQ0FBMEM7QUFFdEUsT0FBT0MsS0FBSyxNQUFNLG1CQUFtQjtBQUVyQyxNQUFNQyxJQUFJLENBQUM7RUFPRkMsV0FBV0EsQ0FBRUMsTUFBYyxFQUFFQyxLQUFZLEVBQUVDLGVBQXdCLEVBQUVDLGVBQXdCLEVBQUc7SUFFckcsSUFBSSxDQUFDSCxNQUFNLEdBQUdBLE1BQU07SUFDcEIsSUFBSSxDQUFDQyxLQUFLLEdBQUdBLEtBQUs7SUFDbEIsSUFBSSxDQUFDRyxnQkFBZ0IsR0FBRyxJQUFJUixlQUFlLENBQUVNLGVBQWdCLENBQUM7SUFDOUQsSUFBSSxDQUFDRyxnQkFBZ0IsR0FBRyxJQUFJVCxlQUFlLENBQUVPLGVBQWdCLENBQUM7SUFDOUQsSUFBSSxDQUFDRyxhQUFhLEdBQUcsSUFBSVgsT0FBTyxDQUFFO01BQUVZLFVBQVUsRUFBRSxDQUFFO1FBQUVDLFNBQVMsRUFBRTtNQUFTLENBQUM7SUFBRyxDQUFFLENBQUM7O0lBRS9FO0lBQ0EsSUFBSSxDQUFDSCxnQkFBZ0IsQ0FBQ0ksUUFBUSxDQUFFLENBQUVDLFdBQVcsRUFBRUMsV0FBVyxLQUFNO01BRTlEO01BQ0EsSUFBS0EsV0FBVyxDQUFDQyxDQUFDLEdBQUcsQ0FBQyxJQUFJRixXQUFXLENBQUNFLENBQUMsR0FBRyxDQUFDLEVBQUc7UUFDNUMsSUFBSSxDQUFDTixhQUFhLENBQUNPLElBQUksQ0FBRSxZQUFhLENBQUM7TUFDekMsQ0FBQyxNQUNJLElBQUtGLFdBQVcsQ0FBQ0MsQ0FBQyxHQUFHLENBQUMsSUFBSUYsV0FBVyxDQUFDRSxDQUFDLEdBQUcsQ0FBQyxFQUFHO1FBQ2pELElBQUksQ0FBQ04sYUFBYSxDQUFDTyxJQUFJLENBQUUsV0FBWSxDQUFDO01BQ3hDOztNQUVBO01BQ0EsSUFBS0YsV0FBVyxDQUFDRyxDQUFDLEdBQUcsQ0FBQyxJQUFJSixXQUFXLENBQUNJLENBQUMsR0FBRyxDQUFDLEVBQUc7UUFDNUMsSUFBSSxDQUFDUixhQUFhLENBQUNPLElBQUksQ0FBRSxTQUFVLENBQUM7TUFDdEMsQ0FBQyxNQUNJLElBQUtGLFdBQVcsQ0FBQ0csQ0FBQyxHQUFHLENBQUMsSUFBSUosV0FBVyxDQUFDSSxDQUFDLEdBQUcsQ0FBQyxFQUFHO1FBQ2pELElBQUksQ0FBQ1IsYUFBYSxDQUFDTyxJQUFJLENBQUUsT0FBUSxDQUFDO01BQ3BDO0lBQ0YsQ0FBRSxDQUFDO0VBQ0w7O0VBRUE7QUFDRjtBQUNBO0VBQ1NFLEtBQUtBLENBQUEsRUFBUztJQUNuQixJQUFJLENBQUNYLGdCQUFnQixDQUFDVyxLQUFLLENBQUMsQ0FBQztJQUM3QixJQUFJLENBQUNWLGdCQUFnQixDQUFDVSxLQUFLLENBQUMsQ0FBQztFQUMvQjtBQUNGO0FBRUFsQixLQUFLLENBQUNtQixRQUFRLENBQUUsTUFBTSxFQUFFbEIsSUFBSyxDQUFDO0FBRTlCLGVBQWVBLElBQUkiLCJpZ25vcmVMaXN0IjpbXX0=