// Copyright 2021-2024, University of Colorado Boulder

/**
 * A ToggleSwitch decorated with a visual label and description with layout for each. To be used in the
 * PreferencesDialog.
 *
 * @author Jesse Greenberg (PhET Interactive Simulations)
 * @author Marla Schulz (PhET Interactive Simulations)
 */

import optionize from '../../../phet-core/js/optionize.js';
import { GridBox, SceneryConstants } from '../../../scenery/js/imports.js';
import joist from '../joist.js';
// Layout using GridBox and layoutOptions will accomplish the following when all components are available.
// [[labelNode]]         [[ToggleSwitch]]
// [[descriptionNode                   ]]
class PreferencesControl extends GridBox {
  constructor(providedOptions) {
    const options = optionize()({
      headingControl: false,
      labelSpacing: 10,
      valueLabelXSpacing: 8,
      ySpacing: 5,
      nestedContent: [],
      grow: 1,
      layoutOptions: {
        stretch: !providedOptions?.headingControl
      }
    }, providedOptions);
    super(options);
    if (options.controlNode) {
      assert && assert(options.controlNode.layoutOptions === null, 'PreferencesControl will control layout');
      this.enabledProperty.link(enabled => {
        options.controlNode.enabled = enabled;
      });
      options.controlNode.layoutOptions = {
        row: 0,
        column: 1,
        xAlign: 'right'
      };
      this.addChild(options.controlNode);
    }
    if (options.labelNode) {
      assert && assert(options.labelNode.layoutOptions === null, 'PreferencesControl will control layout');
      options.labelNode.layoutOptions = {
        row: 0,
        column: 0,
        xAlign: 'left',
        rightMargin: options.labelSpacing
      };
      this.addChild(options.labelNode);
    }

    // descriptionNode will be in the second row if a labelNode is provided.
    if (options.descriptionNode && options.labelNode) {
      assert && assert(options.descriptionNode.layoutOptions === null, 'PreferencesControl will control layout');
      options.descriptionNode.layoutOptions = {
        row: 1,
        column: 0,
        horizontalSpan: 2,
        xAlign: 'left',
        stretch: true,
        minContentWidth: 480
      };
      this.addChild(options.descriptionNode);
    }

    // descriptionNode will be in the first row if labelNode is not provided.
    else if (options.descriptionNode) {
      assert && assert(options.descriptionNode.layoutOptions === null, 'PreferencesControl will control layout');
      options.descriptionNode.layoutOptions = {
        row: 0,
        column: 0,
        xAlign: 'left'
      };
      this.addChild(options.descriptionNode);
    }

    // This component manages disabledOpacity, we don't want it to compound over subcomponents.
    this.disabledOpacity = SceneryConstants.DISABLED_OPACITY;
  }
}
joist.register('PreferencesControl', PreferencesControl);
export default PreferencesControl;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvcHRpb25pemUiLCJHcmlkQm94IiwiU2NlbmVyeUNvbnN0YW50cyIsImpvaXN0IiwiUHJlZmVyZW5jZXNDb250cm9sIiwiY29uc3RydWN0b3IiLCJwcm92aWRlZE9wdGlvbnMiLCJvcHRpb25zIiwiaGVhZGluZ0NvbnRyb2wiLCJsYWJlbFNwYWNpbmciLCJ2YWx1ZUxhYmVsWFNwYWNpbmciLCJ5U3BhY2luZyIsIm5lc3RlZENvbnRlbnQiLCJncm93IiwibGF5b3V0T3B0aW9ucyIsInN0cmV0Y2giLCJjb250cm9sTm9kZSIsImFzc2VydCIsImVuYWJsZWRQcm9wZXJ0eSIsImxpbmsiLCJlbmFibGVkIiwicm93IiwiY29sdW1uIiwieEFsaWduIiwiYWRkQ2hpbGQiLCJsYWJlbE5vZGUiLCJyaWdodE1hcmdpbiIsImRlc2NyaXB0aW9uTm9kZSIsImhvcml6b250YWxTcGFuIiwibWluQ29udGVudFdpZHRoIiwiZGlzYWJsZWRPcGFjaXR5IiwiRElTQUJMRURfT1BBQ0lUWSIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiUHJlZmVyZW5jZXNDb250cm9sLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIxLTIwMjQsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIEEgVG9nZ2xlU3dpdGNoIGRlY29yYXRlZCB3aXRoIGEgdmlzdWFsIGxhYmVsIGFuZCBkZXNjcmlwdGlvbiB3aXRoIGxheW91dCBmb3IgZWFjaC4gVG8gYmUgdXNlZCBpbiB0aGVcclxuICogUHJlZmVyZW5jZXNEaWFsb2cuXHJcbiAqXHJcbiAqIEBhdXRob3IgSmVzc2UgR3JlZW5iZXJnIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxyXG4gKiBAYXV0aG9yIE1hcmxhIFNjaHVseiAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgb3B0aW9uaXplIGZyb20gJy4uLy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xyXG5pbXBvcnQgU3RyaWN0T21pdCBmcm9tICcuLi8uLi8uLi9waGV0LWNvcmUvanMvdHlwZXMvU3RyaWN0T21pdC5qcyc7XHJcbmltcG9ydCB7IEdyaWRCb3gsIEdyaWRCb3hPcHRpb25zLCBOb2RlLCBTY2VuZXJ5Q29uc3RhbnRzIH0gZnJvbSAnLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IGpvaXN0IGZyb20gJy4uL2pvaXN0LmpzJztcclxuXHJcbnR5cGUgU2VsZk9wdGlvbnMgPSB7XHJcblxyXG4gIC8vIGlmIHByb3ZpZGVkLCBhIGxhYmVsIE5vZGUgdG8gdGhlIGxlZnQgb2YgdGhlIHRvZ2dsZSBzd2l0Y2ggY29udHJvbFxyXG4gIGxhYmVsTm9kZT86IE5vZGU7XHJcblxyXG4gIC8vIGhvcml6b250YWwgc3BhY2luZyBiZXR3ZWVuIGxhYmVsIGZvciB0aGUgY29tcG9uZW50IGFuZCB0b2dnbGUgc3dpdGNoIElGIHRoZXJlIGlzIG5vIGRlc2NyaXB0aW9uTm9kZS5cclxuICAvLyBJZiBhIGRlc2NyaXB0aW9uTm9kZSBpcyBwcm92aWRlZCwgbGF5b3V0IG9mIHRoZSBsYWJlbE5vZGUgd2lsbCBiZSByZWxhdGl2ZSB0byB0aGUgZGVzY3JpcHRpb24uXHJcbiAgbGFiZWxTcGFjaW5nPzogbnVtYmVyO1xyXG5cclxuICAvLyBob3Jpem9udGFsIHNwYWNpbmcgYmV0d2VlbiB0aGUgdG9nZ2xlIHN3aXRjaCBhbmQgbGVmdC9yaWdodCB2YWx1ZSBsYWJlbHNcclxuICB2YWx1ZUxhYmVsWFNwYWNpbmc/OiBudW1iZXI7XHJcblxyXG4gIC8vIGlmIHByb3ZpZGVkLCBhIE5vZGUgdW5kZXIgdGhlIFRvZ2dsZVN3aXRjaCBhbmQgbGFiZWwgdGhhdCBpcyBtZWFudCB0byBkZXNjcmliZSB0aGUgcHVycG9zZSBvZiB0aGUgc3dpdGNoXHJcbiAgZGVzY3JpcHRpb25Ob2RlPzogTm9kZTtcclxuXHJcbiAgLy8gdmVydGljYWwgc3BhY2luZyBiZXR3ZWVuIFRvZ2dsZVN3aXRjaCBhbmQgZGVzY3JpcHRpb24gTm9kZVxyXG4gIHlTcGFjaW5nPzogbnVtYmVyO1xyXG5cclxuICBjb250cm9sTm9kZT86IE5vZGU7XHJcblxyXG4gIG5lc3RlZENvbnRlbnQ/OiBBcnJheTxOb2RlPjtcclxuXHJcbiAgaGVhZGluZ0NvbnRyb2w/OiBib29sZWFuO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgUHJlZmVyZW5jZXNDb250cm9sT3B0aW9ucyA9IFNlbGZPcHRpb25zICYgR3JpZEJveE9wdGlvbnM7XHJcblxyXG4vLyBMYXlvdXQgdXNpbmcgR3JpZEJveCBhbmQgbGF5b3V0T3B0aW9ucyB3aWxsIGFjY29tcGxpc2ggdGhlIGZvbGxvd2luZyB3aGVuIGFsbCBjb21wb25lbnRzIGFyZSBhdmFpbGFibGUuXHJcbi8vIFtbbGFiZWxOb2RlXV0gICAgICAgICBbW1RvZ2dsZVN3aXRjaF1dXHJcbi8vIFtbZGVzY3JpcHRpb25Ob2RlICAgICAgICAgICAgICAgICAgIF1dXHJcbmNsYXNzIFByZWZlcmVuY2VzQ29udHJvbCBleHRlbmRzIEdyaWRCb3gge1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIHByb3ZpZGVkT3B0aW9ucz86IFByZWZlcmVuY2VzQ29udHJvbE9wdGlvbnMgKSB7XHJcbiAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uaXplPFByZWZlcmVuY2VzQ29udHJvbE9wdGlvbnMsIFN0cmljdE9taXQ8U2VsZk9wdGlvbnMsICdsYWJlbE5vZGUnIHwgJ2Rlc2NyaXB0aW9uTm9kZScgfCAnY29udHJvbE5vZGUnPiwgR3JpZEJveE9wdGlvbnM+KCkoIHtcclxuICAgICAgaGVhZGluZ0NvbnRyb2w6IGZhbHNlLFxyXG4gICAgICBsYWJlbFNwYWNpbmc6IDEwLFxyXG4gICAgICB2YWx1ZUxhYmVsWFNwYWNpbmc6IDgsXHJcbiAgICAgIHlTcGFjaW5nOiA1LFxyXG4gICAgICBuZXN0ZWRDb250ZW50OiBbXSxcclxuICAgICAgZ3JvdzogMSxcclxuICAgICAgbGF5b3V0T3B0aW9uczoge1xyXG4gICAgICAgIHN0cmV0Y2g6ICFwcm92aWRlZE9wdGlvbnM/LmhlYWRpbmdDb250cm9sXHJcbiAgICAgIH1cclxuICAgIH0sIHByb3ZpZGVkT3B0aW9ucyApO1xyXG5cclxuICAgIHN1cGVyKCBvcHRpb25zICk7XHJcblxyXG4gICAgaWYgKCBvcHRpb25zLmNvbnRyb2xOb2RlICkge1xyXG4gICAgICBhc3NlcnQgJiYgYXNzZXJ0KCBvcHRpb25zLmNvbnRyb2xOb2RlLmxheW91dE9wdGlvbnMgPT09IG51bGwsICdQcmVmZXJlbmNlc0NvbnRyb2wgd2lsbCBjb250cm9sIGxheW91dCcgKTtcclxuICAgICAgdGhpcy5lbmFibGVkUHJvcGVydHkubGluayggZW5hYmxlZCA9PiB7XHJcbiAgICAgICAgb3B0aW9ucy5jb250cm9sTm9kZSEuZW5hYmxlZCA9IGVuYWJsZWQ7XHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICAgIG9wdGlvbnMuY29udHJvbE5vZGUubGF5b3V0T3B0aW9ucyA9IHtcclxuICAgICAgICByb3c6IDAsXHJcbiAgICAgICAgY29sdW1uOiAxLFxyXG4gICAgICAgIHhBbGlnbjogJ3JpZ2h0J1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy5hZGRDaGlsZCggb3B0aW9ucy5jb250cm9sTm9kZSApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICggb3B0aW9ucy5sYWJlbE5vZGUgKSB7XHJcbiAgICAgIGFzc2VydCAmJiBhc3NlcnQoIG9wdGlvbnMubGFiZWxOb2RlLmxheW91dE9wdGlvbnMgPT09IG51bGwsICdQcmVmZXJlbmNlc0NvbnRyb2wgd2lsbCBjb250cm9sIGxheW91dCcgKTtcclxuICAgICAgb3B0aW9ucy5sYWJlbE5vZGUubGF5b3V0T3B0aW9ucyA9IHtcclxuICAgICAgICByb3c6IDAsXHJcbiAgICAgICAgY29sdW1uOiAwLFxyXG4gICAgICAgIHhBbGlnbjogJ2xlZnQnLFxyXG4gICAgICAgIHJpZ2h0TWFyZ2luOiBvcHRpb25zLmxhYmVsU3BhY2luZ1xyXG4gICAgICB9O1xyXG4gICAgICB0aGlzLmFkZENoaWxkKCBvcHRpb25zLmxhYmVsTm9kZSApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGRlc2NyaXB0aW9uTm9kZSB3aWxsIGJlIGluIHRoZSBzZWNvbmQgcm93IGlmIGEgbGFiZWxOb2RlIGlzIHByb3ZpZGVkLlxyXG4gICAgaWYgKCBvcHRpb25zLmRlc2NyaXB0aW9uTm9kZSAmJiBvcHRpb25zLmxhYmVsTm9kZSApIHtcclxuICAgICAgYXNzZXJ0ICYmIGFzc2VydCggb3B0aW9ucy5kZXNjcmlwdGlvbk5vZGUubGF5b3V0T3B0aW9ucyA9PT0gbnVsbCwgJ1ByZWZlcmVuY2VzQ29udHJvbCB3aWxsIGNvbnRyb2wgbGF5b3V0JyApO1xyXG4gICAgICBvcHRpb25zLmRlc2NyaXB0aW9uTm9kZS5sYXlvdXRPcHRpb25zID0ge1xyXG4gICAgICAgIHJvdzogMSxcclxuICAgICAgICBjb2x1bW46IDAsXHJcbiAgICAgICAgaG9yaXpvbnRhbFNwYW46IDIsXHJcbiAgICAgICAgeEFsaWduOiAnbGVmdCcsXHJcbiAgICAgICAgc3RyZXRjaDogdHJ1ZSxcclxuICAgICAgICBtaW5Db250ZW50V2lkdGg6IDQ4MFxyXG4gICAgICB9O1xyXG4gICAgICB0aGlzLmFkZENoaWxkKCBvcHRpb25zLmRlc2NyaXB0aW9uTm9kZSApO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBkZXNjcmlwdGlvbk5vZGUgd2lsbCBiZSBpbiB0aGUgZmlyc3Qgcm93IGlmIGxhYmVsTm9kZSBpcyBub3QgcHJvdmlkZWQuXHJcbiAgICBlbHNlIGlmICggb3B0aW9ucy5kZXNjcmlwdGlvbk5vZGUgKSB7XHJcbiAgICAgIGFzc2VydCAmJiBhc3NlcnQoIG9wdGlvbnMuZGVzY3JpcHRpb25Ob2RlLmxheW91dE9wdGlvbnMgPT09IG51bGwsICdQcmVmZXJlbmNlc0NvbnRyb2wgd2lsbCBjb250cm9sIGxheW91dCcgKTtcclxuICAgICAgb3B0aW9ucy5kZXNjcmlwdGlvbk5vZGUubGF5b3V0T3B0aW9ucyA9IHtcclxuICAgICAgICByb3c6IDAsXHJcbiAgICAgICAgY29sdW1uOiAwLFxyXG4gICAgICAgIHhBbGlnbjogJ2xlZnQnXHJcbiAgICAgIH07XHJcbiAgICAgIHRoaXMuYWRkQ2hpbGQoIG9wdGlvbnMuZGVzY3JpcHRpb25Ob2RlICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGhpcyBjb21wb25lbnQgbWFuYWdlcyBkaXNhYmxlZE9wYWNpdHksIHdlIGRvbid0IHdhbnQgaXQgdG8gY29tcG91bmQgb3ZlciBzdWJjb21wb25lbnRzLlxyXG4gICAgdGhpcy5kaXNhYmxlZE9wYWNpdHkgPSBTY2VuZXJ5Q29uc3RhbnRzLkRJU0FCTEVEX09QQUNJVFk7XHJcbiAgfVxyXG59XHJcblxyXG5qb2lzdC5yZWdpc3RlciggJ1ByZWZlcmVuY2VzQ29udHJvbCcsIFByZWZlcmVuY2VzQ29udHJvbCApO1xyXG5leHBvcnQgZGVmYXVsdCBQcmVmZXJlbmNlc0NvbnRyb2w7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxTQUFTLE1BQU0sb0NBQW9DO0FBRTFELFNBQVNDLE9BQU8sRUFBd0JDLGdCQUFnQixRQUFRLGdDQUFnQztBQUNoRyxPQUFPQyxLQUFLLE1BQU0sYUFBYTtBQTZCL0I7QUFDQTtBQUNBO0FBQ0EsTUFBTUMsa0JBQWtCLFNBQVNILE9BQU8sQ0FBQztFQUVoQ0ksV0FBV0EsQ0FBRUMsZUFBMkMsRUFBRztJQUNoRSxNQUFNQyxPQUFPLEdBQUdQLFNBQVMsQ0FBc0gsQ0FBQyxDQUFFO01BQ2hKUSxjQUFjLEVBQUUsS0FBSztNQUNyQkMsWUFBWSxFQUFFLEVBQUU7TUFDaEJDLGtCQUFrQixFQUFFLENBQUM7TUFDckJDLFFBQVEsRUFBRSxDQUFDO01BQ1hDLGFBQWEsRUFBRSxFQUFFO01BQ2pCQyxJQUFJLEVBQUUsQ0FBQztNQUNQQyxhQUFhLEVBQUU7UUFDYkMsT0FBTyxFQUFFLENBQUNULGVBQWUsRUFB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