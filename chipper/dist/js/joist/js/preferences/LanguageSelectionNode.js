// Copyright 2022-2024, University of Colorado Boulder

/**
 * Class for items of a LocalePanel. Locales shown in their localized name wrapped in a Rectangle for highlighting
 * and input listeners.
 *
 * @author Jesse Greenberg (PhET Interactive Simulations)
 */

import joist from '../joist.js';
import { Color, FireListener, HighlightOverlay, Rectangle, Text } from '../../../scenery/js/imports.js';
import Tandem from '../../../tandem/js/Tandem.js';
import PreferencesDialog from './PreferencesDialog.js';
import PhetColorScheme from '../../../scenery-phet/js/PhetColorScheme.js';
import StringUtils from '../../../phetcommon/js/util/StringUtils.js';
import pushButtonSoundPlayer from '../../../tambo/js/shared-sound-players/pushButtonSoundPlayer.js';
import JoistStrings from '../JoistStrings.js';
export default class LanguageSelectionNode extends Rectangle {
  // locale associated with this Node

  constructor(localeProperty, locale) {
    // Wrap it with embedding marks to ensure it displays correctly, see https://github.com/phetsims/chipper/issues/1379
    const wrappedLocaleString = StringUtils.localeToLocalizedName(locale);

    // Include the locale code when running with ?dev.
    const string = phet.chipper.queryParameters.dev ? StringUtils.wrapLTR(`${wrappedLocaleString} (${locale})`) : wrappedLocaleString;

    // The english name of the locale is reported for accessibility because PDOM strings are not translatable.
    // If you use the localized name, it might change the screen reader voice.
    const localeData = phet.chipper.localeData[locale];
    assert && assert(localeData, `No localeData for ${locale}`);
    const englishLocaleString = localeData.englishName;
    const text = new Text(string, {
      font: PreferencesDialog.CONTENT_FONT
    });
    super(text.bounds.dilated(5), {
      cursor: 'pointer',
      // pdom
      tagName: 'button',
      innerContent: englishLocaleString
    });
    text.center = this.center;
    this.addChild(text);
    this.locale = locale;
    const fireListener = new FireListener({
      fire: () => {
        localeProperty.value = locale;
        pushButtonSoundPlayer.play();
        this.alertDescriptionUtterance(StringUtils.fillIn(JoistStrings.a11y.preferences.tabs.localization.languageSelection.languageChangeResponsePatternStringProperty, {
          language: englishLocaleString
        }));
      },
      // Preferences components are not instrumented, see https://github.com/phetsims/joist/issues/744
      tandem: Tandem.OPT_OUT
    });
    this.addInputListener(fireListener);
    fireListener.isOverProperty.link(isOver => {
      // makes the mouse interactive, keep the same dimensions so the layout will not change
      this.stroke = isOver ? HighlightOverlay.getInnerGroupHighlightColor() : Color.TRANSPARENT;
    });
    const localeListener = selectedLocale => {
      // identifies the selected locale
      this.fill = selectedLocale === locale ? PhetColorScheme.PHET_LOGO_BLUE : null;
    };
    localeProperty.link(localeListener);
  }
}
joist.register('LanguageSelectionNode', LanguageSelectionNode);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJqb2lzdCIsIkNvbG9yIiwiRmlyZUxpc3RlbmVyIiwiSGlnaGxpZ2h0T3ZlcmxheSIsIlJlY3RhbmdsZSIsIlRleHQiLCJUYW5kZW0iLCJQcmVmZXJlbmNlc0RpYWxvZyIsIlBoZXRDb2xvclNjaGVtZSIsIlN0cmluZ1V0aWxzIiwicHVzaEJ1dHRvblNvdW5kUGxheWVyIiwiSm9pc3RTdHJpbmdzIiwiTGFuZ3VhZ2VTZWxlY3Rpb25Ob2RlIiwiY29uc3RydWN0b3IiLCJsb2NhbGVQcm9wZXJ0eSIsImxvY2FsZSIsIndyYXBwZWRMb2NhbGVTdHJpbmciLCJsb2NhbGVUb0xvY2FsaXplZE5hbWUiLCJzdHJpbmciLCJwaGV0IiwiY2hpcHBlciIsInF1ZXJ5UGFyYW1ldGVycyIsImRldiIsIndyYXBMVFIiLCJsb2NhbGVEYXRhIiwiYXNzZXJ0IiwiZW5nbGlzaExvY2FsZVN0cmluZyIsImVuZ2xpc2hOYW1lIiwidGV4dCIsImZvbnQiLCJDT05URU5UX0ZPTlQiLCJib3VuZHMiLCJkaWxhdGVkIiwiY3Vyc29yIiwidGFnTmFtZSIsImlubmVyQ29udGVudCIsImNlbnRlciIsImFkZENoaWxkIiwiZmlyZUxpc3RlbmVyIiwiZmlyZSIsInZhbHVlIiwicGxheSIsImFsZXJ0RGVzY3JpcHRpb25VdHRlcmFuY2UiLCJmaWxsSW4iLCJhMTF5IiwicHJlZmVyZW5jZXMiLCJ0YWJzIiwibG9jYWxpemF0aW9uIiwibGFuZ3VhZ2VTZWxlY3Rpb24iLCJsYW5ndWFnZUNoYW5nZVJlc3BvbnNlUGF0dGVyblN0cmluZ1Byb3BlcnR5IiwibGFuZ3VhZ2UiLCJ0YW5kZW0iLCJPUFRfT1VUIiwiYWRkSW5wdXRMaXN0ZW5lciIsImlzT3ZlclByb3BlcnR5IiwibGluayIsImlzT3ZlciIsInN0cm9rZSIsImdldElubmVyR3JvdXBIaWdobGlnaHRDb2xvciIsIlRSQU5TUEFSRU5UIiwibG9jYWxlTGlzdGVuZXIiLCJzZWxlY3RlZExvY2FsZSIsImZpbGwiLCJQSEVUX0xPR09fQkxVRSIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiTGFuZ3VhZ2VTZWxlY3Rpb25Ob2RlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIyLTIwMjQsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIENsYXNzIGZvciBpdGVtcyBvZiBhIExvY2FsZVBhbmVsLiBMb2NhbGVzIHNob3duIGluIHRoZWlyIGxvY2FsaXplZCBuYW1lIHdyYXBwZWQgaW4gYSBSZWN0YW5nbGUgZm9yIGhpZ2hsaWdodGluZ1xyXG4gKiBhbmQgaW5wdXQgbGlzdGVuZXJzLlxyXG4gKlxyXG4gKiBAYXV0aG9yIEplc3NlIEdyZWVuYmVyZyAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgam9pc3QgZnJvbSAnLi4vam9pc3QuanMnO1xyXG5pbXBvcnQgeyBDb2xvciwgRmlyZUxpc3RlbmVyLCBIaWdobGlnaHRPdmVybGF5LCBSZWN0YW5nbGUsIFRleHQgfSBmcm9tICcuLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgVGFuZGVtIGZyb20gJy4uLy4uLy4uL3RhbmRlbS9qcy9UYW5kZW0uanMnO1xyXG5pbXBvcnQgUHJlZmVyZW5jZXNEaWFsb2cgZnJvbSAnLi9QcmVmZXJlbmNlc0RpYWxvZy5qcyc7XHJcbmltcG9ydCBQaGV0Q29sb3JTY2hlbWUgZnJvbSAnLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL1BoZXRDb2xvclNjaGVtZS5qcyc7XHJcbmltcG9ydCBQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi9heG9uL2pzL1Byb3BlcnR5LmpzJztcclxuaW1wb3J0IHsgTG9jYWxlIH0gZnJvbSAnLi4vaTE4bi9sb2NhbGVQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBTdHJpbmdVdGlscyBmcm9tICcuLi8uLi8uLi9waGV0Y29tbW9uL2pzL3V0aWwvU3RyaW5nVXRpbHMuanMnO1xyXG5pbXBvcnQgcHVzaEJ1dHRvblNvdW5kUGxheWVyIGZyb20gJy4uLy4uLy4uL3RhbWJvL2pzL3NoYXJlZC1zb3VuZC1wbGF5ZXJzL3B1c2hCdXR0b25Tb3VuZFBsYXllci5qcyc7XHJcbmltcG9ydCBKb2lzdFN0cmluZ3MgZnJvbSAnLi4vSm9pc3RTdHJpbmdzLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExhbmd1YWdlU2VsZWN0aW9uTm9kZSBleHRlbmRzIFJlY3RhbmdsZSB7XHJcblxyXG4gIHB1YmxpYyByZWFkb25seSBsb2NhbGU6IExvY2FsZTsgLy8gbG9jYWxlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIE5vZGVcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBsb2NhbGVQcm9wZXJ0eTogUHJvcGVydHk8TG9jYWxlPiwgbG9jYWxlOiBMb2NhbGUgKSB7XHJcblxyXG4gICAgLy8gV3JhcCBpdCB3aXRoIGVtYmVkZGluZyBtYXJrcyB0byBlbnN1cmUgaXQgZGlzcGxheXMgY29ycmVjdGx5LCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL2NoaXBwZXIvaXNzdWVzLzEzNzlcclxuICAgIGNvbnN0IHdyYXBwZWRMb2NhbGVTdHJpbmcgPSBTdHJpbmdVdGlscy5sb2NhbGVUb0xvY2FsaXplZE5hbWUoIGxvY2FsZSApO1xyXG5cclxuICAgIC8vIEluY2x1ZGUgdGhlIGxvY2FsZSBjb2RlIHdoZW4gcnVubmluZyB3aXRoID9kZXYuXHJcbiAgICBjb25zdCBzdHJpbmcgPSBwaGV0LmNoaXBwZXIucXVlcnlQYXJhbWV0ZXJzLmRldiA/XHJcbiAgICAgICAgICAgICAgICAgICBTdHJpbmdVdGlscy53cmFwTFRSKCBgJHt3cmFwcGVkTG9jYWxlU3RyaW5nfSAoJHtsb2NhbGV9KWAgKSA6XHJcbiAgICAgICAgICAgICAgICAgICB3cmFwcGVkTG9jYWxlU3RyaW5nO1xyXG5cclxuICAgIC8vIFRoZSBlbmdsaXNoIG5hbWUgb2YgdGhlIGxvY2FsZSBpcyByZXBvcnRlZCBmb3IgYWNjZXNzaWJpbGl0eSBiZWNhdXNlIFBET00gc3RyaW5ncyBhcmUgbm90IHRyYW5zbGF0YWJsZS5cclxuICAgIC8vIElmIHlvdSB1c2UgdGhlIGxvY2FsaXplZCBuYW1lLCBpdCBtaWdodCBjaGFuZ2UgdGhlIHNjcmVlbiByZWFkZXIgdm9pY2UuXHJcbiAgICBjb25zdCBsb2NhbGVEYXRhID0gcGhldC5jaGlwcGVyLmxvY2FsZURhdGFbIGxvY2FsZSBdO1xyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCggbG9jYWxlRGF0YSwgYE5vIGxvY2FsZURhdGEgZm9yICR7bG9jYWxlfWAgKTtcclxuICAgIGNvbnN0IGVuZ2xpc2hMb2NhbGVTdHJpbmcgPSBsb2NhbGVEYXRhLmVuZ2xpc2hOYW1lO1xyXG5cclxuICAgIGNvbnN0IHRleHQgPSBuZXcgVGV4dCggc3RyaW5nLCB7XHJcbiAgICAgIGZvbnQ6IFByZWZlcmVuY2VzRGlhbG9nLkNPTlRFTlRfRk9OVFxyXG4gICAgfSApO1xyXG5cclxuICAgIHN1cGVyKCB0ZXh0LmJvdW5kcy5kaWxhdGVkKCA1ICksIHtcclxuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXHJcblxyXG4gICAgICAvLyBwZG9tXHJcbiAgICAgIHRhZ05hbWU6ICdidXR0b24nLFxyXG4gICAgICBpbm5lckNvbnRlbnQ6IGVuZ2xpc2hMb2NhbGVTdHJpbmdcclxuICAgIH0gKTtcclxuICAgIHRleHQuY2VudGVyID0gdGhpcy5jZW50ZXI7XHJcbiAgICB0aGlzLmFkZENoaWxkKCB0ZXh0ICk7XHJcblxyXG4gICAgdGhpcy5sb2NhbGUgPSBsb2NhbGU7XHJcblxyXG4gICAgY29uc3QgZmlyZUxpc3RlbmVyID0gbmV3IEZpcmVMaXN0ZW5lcigge1xyXG4gICAgICBmaXJlOiAoKSA9PiB7XHJcbiAgICAgICAgbG9jYWxlUHJvcGVydHkudmFsdWUgPSBsb2NhbGU7XHJcblxyXG4gICAgICAgIHB1c2hCdXR0b25Tb3VuZFBsYXllci5wbGF5KCk7XHJcbiAgICAgICAgdGhpcy5hbGVydERlc2NyaXB0aW9uVXR0ZXJhbmNlKCBTdHJpbmdVdGlscy5maWxsSW4oXHJcbiAgICAgICAgICBKb2lzdFN0cmluZ3MuYTExeS5wcmVmZXJlbmNlcy50YWJzLmxvY2FsaXphdGlvbi5sYW5ndWFnZVNlbGVjdGlvbi5sYW5ndWFnZUNoYW5nZVJlc3BvbnNlUGF0dGVyblN0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgICAgICAgIGxhbmd1YWdlOiBlbmdsaXNoTG9jYWxlU3RyaW5nXHJcbiAgICAgICAgICB9IClcclxuICAgICAgICApO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy8gUHJlZmVyZW5jZXMgY29tcG9uZW50cyBhcmUgbm90IGluc3RydW1lbnRlZCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9qb2lzdC9pc3N1ZXMvNzQ0XHJcbiAgICAgIHRhbmRlbTogVGFuZGVtLk9QVF9PVVRcclxuICAgIH0gKTtcclxuICAgIHRoaXMuYWRkSW5wdXRMaXN0ZW5lciggZmlyZUxpc3RlbmVyICk7XHJcblxyXG4gICAgZmlyZUxpc3RlbmVyLmlzT3ZlclByb3BlcnR5LmxpbmsoIGlzT3ZlciA9PiB7XHJcblxyXG4gICAgICAvLyBtYWtlcyB0aGUgbW91c2UgaW50ZXJhY3RpdmUsIGtlZXAgdGhlIHNhbWUgZGltZW5zaW9ucyBzbyB0aGUgbGF5b3V0IHdpbGwgbm90IGNoYW5nZVxyXG4gICAgICB0aGlzLnN0cm9rZSA9IGlzT3ZlciA/IEhpZ2hsaWdodE92ZXJsYXkuZ2V0SW5uZXJHcm91cEhpZ2hsaWdodENvbG9yKCkgOiBDb2xvci5UUkFOU1BBUkVOVDtcclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBsb2NhbGVMaXN0ZW5lciA9ICggc2VsZWN0ZWRMb2NhbGU6IHN0cmluZyApID0+IHtcclxuXHJcbiAgICAgIC8vIGlkZW50aWZpZXMgdGhlIHNlbGVjdGVkIGxvY2FsZVxyXG4gICAgICB0aGlzLmZpbGwgPSBzZWxlY3RlZExvY2FsZSA9PT0gbG9jYWxlID8gUGhldENvbG9yU2NoZW1lLlBIRVRfTE9HT19CTFVFIDogbnVsbDtcclxuICAgIH07XHJcbiAgICBsb2NhbGVQcm9wZXJ0eS5saW5rKCBsb2NhbGVMaXN0ZW5lciApO1xyXG4gIH1cclxufVxyXG5cclxuam9pc3QucmVnaXN0ZXIoICdMYW5ndWFnZVNlbGVjdGlvbk5vZGUnLCBMYW5ndWFnZVNlbGVjdGlvbk5vZGUgKTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxLQUFLLE1BQU0sYUFBYTtBQUMvQixTQUFTQyxLQUFLLEVBQUVDLFlBQVksRUFBRUMsZ0JBQWdCLEVBQUVDLFNBQVMsRUFBRUMsSUFBSSxRQUFRLGdDQUFnQztBQUN2RyxPQUFPQyxNQUFNLE1BQU0sOEJBQThCO0FBQ2pELE9BQU9DLGlCQUFpQixNQUFNLHdCQUF3QjtBQUN0RCxPQUFPQyxlQUFlLE1BQU0sNkNBQTZDO0FBR3pFLE9BQU9DLFdBQVcsTUFBTSw0Q0FBNEM7QUFDcEUsT0FBT0MscUJBQXFCLE1BQU0saUVBQWlFO0FBQ25HLE9BQU9DLFlBQVksTUFBTSxvQkFBb0I7QUFFN0MsZUFBZSxNQUFNQyxxQkFBcUIsU0FBU1IsU0FBUyxDQUFDO0VBRTNCOztFQUV6QlMsV0FBV0EsQ0FBRUMsY0FBZ0MsRUFBRUMsTUFBYyxFQUFHO0lBRXJFO0lBQ0EsTUFBTUMsbUJBQW1CLEdBQUdQLFdBQVcsQ0FBQ1EscUJBQXFCLENBQUVGLE1BQU8sQ0FBQzs7SUFFdkU7SUFDQSxNQUFNRyxNQUFNLEdBQUdDLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxlQUFlLENBQUNDLEdBQUcsR0FDaENiLFdBQVcsQ0FBQ2MsT0FBTyxDQUFHLEdBQUVQLG1CQUFvQixLQUFJRCxNQUFPLEdBQUcsQ0FBQyxHQUMzREMsbUJBQW1COztJQUVsQztJQUNBO0lBQ0EsTUFBTVEsVUFBVSxHQUFHTCxJQUFJLENBQUNDLE9BQU8sQ0FBQ0ksVUFBVSxDQUFFVCxNQUFNLENBQUU7SUFDcERVLE1BQU0sSUFBSUEsTUFBTSxDQUFFRCxVQUFVLEVBQUcscUJBQW9CVCxNQUFPLEVBQUUsQ0FBQztJQUM3RCxNQUFNVyxtQkFBbUIsR0FBR0YsVUFBVSxDQUFDRyxXQUFXO0lBRWxELE1BQU1DLElBQUksR0FBRyxJQUFJdkIsSUFBSSxDQUFFYSxNQUFNLEVBQUU7TUFDN0JXLElBQUksRUFBRXRCLGlCQUFpQixDQUFDdUI7SUFDMUIsQ0FBRSxDQUFDO0lBRUgsS0FBSyxDQUFFRixJQUFJLENBQUNHLE1BQU0sQ0FBQ0MsT0FBTyxDQUFFLENBQUUsQ0FBQyxFQUFFO01BQy9CQyxNQUFNLEVBQUUsU0FBUztNQUVqQjtNQUNBQyxPQUFPLEVBQUUsUUFBUTtNQUNqQkMsWUFBWSxFQUFFVDtJQUNoQixDQUFFLENBQUM7SUFDSEUsSUFBSSxDQUFDUSxNQUFNLEdBQUcsSUFBSSxDQUFDQSxNQUFNO0lBQ3pCLElBQUksQ0FBQ0MsUUFBUSxDQUFFVCxJQUFLLENBQUM7SUFFckIsSUFBSSxDQUFDYixNQUFNLEdBQUdBLE1BQU07SUFFcEIsTUFBTXVCLFlBQVksR0FBRyxJQUFJcEMsWUFBWSxDQUFFO01BQ3JDcUMsSUFBSSxFQUFFQSxDQUFBLEtBQU07UUFDVnpCLGNBQWMsQ0FBQzBCLEtBQUssR0FBR3pCLE1BQU07UUFFN0JMLHFCQUFxQixDQUFDK0IsSUFBSSxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDQyx5QkFBeUIsQ0FBRWpDLFdBQVcsQ0FBQ2tDLE1BQU0sQ0FDaERoQyxZQUFZLENBQUNpQyxJQUFJLENBQUNDLFdBQVcsQ0FBQ0MsSUFBSSxDQUFDQyxZQUFZLENBQUNDLGlCQUFpQixDQUFDQywyQ0FBMkMsRUFBRTtVQUM3R0MsUUFBUSxFQUFFeEI7UUFDWixDQUFFLENBQ0osQ0FBQztNQUNILENBQUM7TUFFRDtNQUNBeUIsTUFBTSxFQUFFN0MsTUFBTSxDQUFDOEM7SUFDakIsQ0FBRSxDQUFDO0lBQ0gsSUFBSSxDQUFDQyxnQkFBZ0IsQ0FBRWYsWUFBYSxDQUFDO0lBRXJDQSxZQUFZLENBQUNnQixjQUFjLENBQUNDLElBQUksQ0FBRUMsTUFBTSxJQUFJO01BRTFDO01BQ0EsSUFBSSxDQUFDQyxNQUFNLEdBQUdELE1BQU0sR0FBR3JELGdCQUFnQixDQUFDdUQsMkJBQTJCLENBQUMsQ0FBQyxHQUFHekQsS0FBSyxDQUFDMEQsV0FBVztJQUMzRixDQUFFLENBQUM7SUFFSCxNQUFNQyxjQUFjLEdBQUtDLGNBQXNCLElBQU07TUFFbkQ7TUFDQSxJQUFJLENBQUNDLElBQUksR0FBR0QsY0FBYyxLQUFLOUMsTUFBTSxHQUFHUCxlQUFlLENBQUN1RCxjQUFjLEdBQUcsSUFBSTtJQUMvRSxDQUFDO0lBQ0RqRCxjQUFjLENBQUN5QyxJQUFJLENBQUVLLGNBQWUsQ0FBQztFQUN2QztBQUNGO0FBRUE1RCxLQUFLLENBQUNnRSxRQUFRLENBQUUsdUJBQXVCLEVBQUVwRCxxQkFBc0IsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==