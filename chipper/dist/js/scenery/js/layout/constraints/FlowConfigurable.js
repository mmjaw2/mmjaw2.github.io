// Copyright 2022-2024, University of Colorado Boulder

/**
 * Mixin for storing options that can affect each cell. `null` for values usually means "inherit from the default".
 *
 * Handles a lot of conversion from internal Enumeration values (for performance) and external string representations.
 * This is done primarily for performance and that style of internal enumeration pattern. If string comparisons are
 * faster, that could be used instead.
 *
 * NOTE: Internal non-string representations are also orientation-agnostic - thus "left" and "top" map to the same
 * "start" internally, and thus the external value will appear to "switch" depending on the orientation.
 *
 * NOTE: This is mixed into both the constraint AND the cell, since we have two layers of options. The `null` meaning
 * "inherit from the default" is mainly used for the cells, so that if it's not specified in the cell, it will be
 * specified in the constraint (as non-null).
 *
 * NOTE: This is a mixin meant to be used internally only by Scenery (for the constraint and cell), and should not be
 * used by outside code.
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import TinyEmitter from '../../../../axon/js/TinyEmitter.js';
import Orientation from '../../../../phet-core/js/Orientation.js';
import memoize from '../../../../phet-core/js/memoize.js';
import mutate from '../../../../phet-core/js/mutate.js';
import { LayoutAlign, MARGIN_LAYOUT_CONFIGURABLE_OPTION_KEYS, MarginLayoutConfigurable, scenery } from '../../imports.js';
const FLOW_CONFIGURABLE_OPTION_KEYS = ['orientation', 'align', 'stretch', 'grow'].concat(MARGIN_LAYOUT_CONFIGURABLE_OPTION_KEYS);

// We remove the null values for the values that won't actually take null

// (scenery-internal)
const FlowConfigurable = memoize(Type => {
  return class FlowConfigurableMixin extends MarginLayoutConfigurable(Type) {
    // @mixin-protected - made public for use in the mixin only
    _orientation = Orientation.HORIZONTAL;

    // (scenery-internal)
    _align = null;
    _stretch = null;
    _grow = null;
    orientationChangedEmitter = new TinyEmitter();

    /**
     * (scenery-internal)
     */
    constructor(...args) {
      super(...args);
    }

    /**
     * (scenery-internal)
     */
    mutateConfigurable(options) {
      super.mutateConfigurable(options);
      mutate(this, FLOW_CONFIGURABLE_OPTION_KEYS, options);
    }

    /**
     * Resets values to the "base" state.
     *
     * This is the fallback state for a constraint where every value is defined and valid. If a cell does not have a
     * specific "overridden" value, or a constraint doesn't have an "overridden" value, then it will take the value
     * defined here.
     *
     * These should be the default values for constraints.
     *
     * (scenery-internal)
     */
    setConfigToBaseDefault() {
      this._align = LayoutAlign.CENTER;
      this._stretch = false;
      this._grow = 0;
      super.setConfigToBaseDefault();
    }

    /**
     * Resets values to the "don't override anything, only inherit from the constraint" state
     *
     * These should be the default values for cells (e.g. "take all the behavior from the constraint, nothing is
     * overridden").
     *
     * (scenery-internal)
     */
    setConfigToInherit(ignoreOptions) {
      if (!ignoreOptions || ignoreOptions.align === undefined) {
        this._align = null;
      }
      if (!ignoreOptions || ignoreOptions.stretch === undefined) {
        this._stretch = null;
      }
      if (!ignoreOptions || ignoreOptions.grow === undefined) {
        this._grow = null;
      }
      super.setConfigToInherit(ignoreOptions);
    }

    /**
     * (scenery-internal)
     */
    get orientation() {
      return this._orientation === Orientation.HORIZONTAL ? 'horizontal' : 'vertical';
    }

    /**
     * (scenery-internal)
     */
    set orientation(value) {
      assert && assert(value === 'horizontal' || value === 'vertical');
      const enumOrientation = value === 'horizontal' ? Orientation.HORIZONTAL : Orientation.VERTICAL;
      if (this._orientation !== enumOrientation) {
        this._orientation = enumOrientation;
        this.orientationChangedEmitter.emit();
        this.changedEmitter.emit();
      }
    }

    /**
     * (scenery-internal)
     */
    get align() {
      const result = LayoutAlign.internalToAlign(this._orientation, this._align);
      assert && assert(result === null || typeof result === 'string');
      return result;
    }

    /**
     * (scenery-internal)
     */
    set align(value) {
      assert && assert(LayoutAlign.getAllowedAligns(this._orientation.opposite).includes(value), `align ${value} not supported, with the orientation ${this._orientation}, the valid values are ${LayoutAlign.getAllowedAligns(this._orientation.opposite)}`);

      // remapping align values to an independent set, so they aren't orientation-dependent
      const mappedValue = LayoutAlign.alignToInternal(this._orientation.opposite, value);
      assert && assert(mappedValue === null || mappedValue instanceof LayoutAlign);
      if (this._align !== mappedValue) {
        this._align = mappedValue;
        this.changedEmitter.emit();
      }
    }

    /**
     * (scenery-internal)
     */
    get stretch() {
      return this._stretch;
    }

    /**
     * (scenery-internal)
     */
    set stretch(value) {
      if (this._stretch !== value) {
        this._stretch = value;
        this.changedEmitter.emit();
      }
    }

    /**
     * (scenery-internal)
     */
    get grow() {
      return this._grow;
    }

    /**
     * (scenery-internal)
     */
    set grow(value) {
      assert && assert(value === null || typeof value === 'number' && isFinite(value) && value >= 0);
      if (this._grow !== value) {
        this._grow = value;
        this.changedEmitter.emit();
      }
    }
  };
});
scenery.register('FlowConfigurable', FlowConfigurable);
export default FlowConfigurable;
export { FLOW_CONFIGURABLE_OPTION_KEYS };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJUaW55RW1pdHRlciIsIk9yaWVudGF0aW9uIiwibWVtb2l6ZSIsIm11dGF0ZSIsIkxheW91dEFsaWduIiwiTUFSR0lOX0xBWU9VVF9DT05GSUdVUkFCTEVfT1BUSU9OX0tFWVMiLCJNYXJnaW5MYXlvdXRDb25maWd1cmFibGUiLCJzY2VuZXJ5IiwiRkxPV19DT05GSUdVUkFCTEVfT1BUSU9OX0tFWVMiLCJjb25jYXQiLCJGbG93Q29uZmlndXJhYmxlIiwiVHlwZSIsIkZsb3dDb25maWd1cmFibGVNaXhpbiIsIl9vcmllbnRhdGlvbiIsIkhPUklaT05UQUwiLCJfYWxpZ24iLCJfc3RyZXRjaCIsIl9ncm93Iiwib3JpZW50YXRpb25DaGFuZ2VkRW1pdHRlciIsImNvbnN0cnVjdG9yIiwiYXJncyIsIm11dGF0ZUNvbmZpZ3VyYWJsZSIsIm9wdGlvbnMiLCJzZXRDb25maWdUb0Jhc2VEZWZhdWx0IiwiQ0VOVEVSIiwic2V0Q29uZmlnVG9Jbmhlcml0IiwiaWdub3JlT3B0aW9ucyIsImFsaWduIiwidW5kZWZpbmVkIiwic3RyZXRjaCIsImdyb3ciLCJvcmllbnRhdGlvbiIsInZhbHVlIiwiYXNzZXJ0IiwiZW51bU9yaWVudGF0aW9uIiwiVkVSVElDQUwiLCJlbWl0IiwiY2hhbmdlZEVtaXR0ZXIiLCJyZXN1bHQiLCJpbnRlcm5hbFRvQWxpZ24iLCJnZXRBbGxvd2VkQWxpZ25zIiwib3Bwb3NpdGUiLCJpbmNsdWRlcyIsIm1hcHBlZFZhbHVlIiwiYWxpZ25Ub0ludGVybmFsIiwiaXNGaW5pdGUiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkZsb3dDb25maWd1cmFibGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjItMjAyNCwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogTWl4aW4gZm9yIHN0b3Jpbmcgb3B0aW9ucyB0aGF0IGNhbiBhZmZlY3QgZWFjaCBjZWxsLiBgbnVsbGAgZm9yIHZhbHVlcyB1c3VhbGx5IG1lYW5zIFwiaW5oZXJpdCBmcm9tIHRoZSBkZWZhdWx0XCIuXHJcbiAqXHJcbiAqIEhhbmRsZXMgYSBsb3Qgb2YgY29udmVyc2lvbiBmcm9tIGludGVybmFsIEVudW1lcmF0aW9uIHZhbHVlcyAoZm9yIHBlcmZvcm1hbmNlKSBhbmQgZXh0ZXJuYWwgc3RyaW5nIHJlcHJlc2VudGF0aW9ucy5cclxuICogVGhpcyBpcyBkb25lIHByaW1hcmlseSBmb3IgcGVyZm9ybWFuY2UgYW5kIHRoYXQgc3R5bGUgb2YgaW50ZXJuYWwgZW51bWVyYXRpb24gcGF0dGVybi4gSWYgc3RyaW5nIGNvbXBhcmlzb25zIGFyZVxyXG4gKiBmYXN0ZXIsIHRoYXQgY291bGQgYmUgdXNlZCBpbnN0ZWFkLlxyXG4gKlxyXG4gKiBOT1RFOiBJbnRlcm5hbCBub24tc3RyaW5nIHJlcHJlc2VudGF0aW9ucyBhcmUgYWxzbyBvcmllbnRhdGlvbi1hZ25vc3RpYyAtIHRodXMgXCJsZWZ0XCIgYW5kIFwidG9wXCIgbWFwIHRvIHRoZSBzYW1lXHJcbiAqIFwic3RhcnRcIiBpbnRlcm5hbGx5LCBhbmQgdGh1cyB0aGUgZXh0ZXJuYWwgdmFsdWUgd2lsbCBhcHBlYXIgdG8gXCJzd2l0Y2hcIiBkZXBlbmRpbmcgb24gdGhlIG9yaWVudGF0aW9uLlxyXG4gKlxyXG4gKiBOT1RFOiBUaGlzIGlzIG1peGVkIGludG8gYm90aCB0aGUgY29uc3RyYWludCBBTkQgdGhlIGNlbGwsIHNpbmNlIHdlIGhhdmUgdHdvIGxheWVycyBvZiBvcHRpb25zLiBUaGUgYG51bGxgIG1lYW5pbmdcclxuICogXCJpbmhlcml0IGZyb20gdGhlIGRlZmF1bHRcIiBpcyBtYWlubHkgdXNlZCBmb3IgdGhlIGNlbGxzLCBzbyB0aGF0IGlmIGl0J3Mgbm90IHNwZWNpZmllZCBpbiB0aGUgY2VsbCwgaXQgd2lsbCBiZVxyXG4gKiBzcGVjaWZpZWQgaW4gdGhlIGNvbnN0cmFpbnQgKGFzIG5vbi1udWxsKS5cclxuICpcclxuICogTk9URTogVGhpcyBpcyBhIG1peGluIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseSBvbmx5IGJ5IFNjZW5lcnkgKGZvciB0aGUgY29uc3RyYWludCBhbmQgY2VsbCksIGFuZCBzaG91bGQgbm90IGJlXHJcbiAqIHVzZWQgYnkgb3V0c2lkZSBjb2RlLlxyXG4gKlxyXG4gKiBAYXV0aG9yIEpvbmF0aGFuIE9sc29uIDxqb25hdGhhbi5vbHNvbkBjb2xvcmFkby5lZHU+XHJcbiAqL1xyXG5cclxuaW1wb3J0IFRpbnlFbWl0dGVyIGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvVGlueUVtaXR0ZXIuanMnO1xyXG5pbXBvcnQgT3JpZW50YXRpb24gZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL09yaWVudGF0aW9uLmpzJztcclxuaW1wb3J0IG1lbW9pemUgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL21lbW9pemUuanMnO1xyXG5pbXBvcnQgbXV0YXRlIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9tdXRhdGUuanMnO1xyXG5pbXBvcnQgeyBIb3Jpem9udGFsTGF5b3V0QWxpZ24sIExheW91dEFsaWduLCBMYXlvdXRPcmllbnRhdGlvbiwgTUFSR0lOX0xBWU9VVF9DT05GSUdVUkFCTEVfT1BUSU9OX0tFWVMsIE1hcmdpbkxheW91dENvbmZpZ3VyYWJsZSwgTWFyZ2luTGF5b3V0Q29uZmlndXJhYmxlT3B0aW9ucywgc2NlbmVyeSwgVmVydGljYWxMYXlvdXRBbGlnbiB9IGZyb20gJy4uLy4uL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgQ29uc3RydWN0b3IgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL3R5cGVzL0NvbnN0cnVjdG9yLmpzJztcclxuaW1wb3J0IFdpdGhvdXROdWxsIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy90eXBlcy9XaXRob3V0TnVsbC5qcyc7XHJcbmltcG9ydCBJbnRlbnRpb25hbEFueSBmcm9tICcuLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvdHlwZXMvSW50ZW50aW9uYWxBbnkuanMnO1xyXG5pbXBvcnQgVEVtaXR0ZXIgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9URW1pdHRlci5qcyc7XHJcbmltcG9ydCB7IFRNYXJnaW5MYXlvdXRDb25maWd1cmFibGUgfSBmcm9tICcuL01hcmdpbkxheW91dENvbmZpZ3VyYWJsZS5qcyc7XHJcblxyXG5jb25zdCBGTE9XX0NPTkZJR1VSQUJMRV9PUFRJT05fS0VZUyA9IFtcclxuICAnb3JpZW50YXRpb24nLFxyXG4gICdhbGlnbicsXHJcbiAgJ3N0cmV0Y2gnLFxyXG4gICdncm93J1xyXG5dLmNvbmNhdCggTUFSR0lOX0xBWU9VVF9DT05GSUdVUkFCTEVfT1BUSU9OX0tFWVMgKTtcclxuXHJcbnR5cGUgU2VsZk9wdGlvbnMgPSB7XHJcbiAgLy8gVGhlIG1haW4gb3JpZW50YXRpb24gb2YgdGhlIGxheW91dCB0aGF0IHRha2VzIHBsYWNlLiBJdGVtcyB3aWxsIGJlIHNwYWNlZCBvdXQgaW4gdGhpcyBvcmllbnRhdGlvbiAoZS5nLiBpZiBpdCdzXHJcbiAgLy8gJ3ZlcnRpY2FsJywgdGhlIHktdmFsdWVzIG9mIHRoZSBjb21wb25lbnRzIHdpbGwgYmUgYWRqdXN0ZWQgdG8gc3BhY2UgdGhlbSBvdXQpOyB0aGlzIGlzIGtub3duIGFzIHRoZSBcInByaW1hcnlcIlxyXG4gIC8vIGF4aXMuIEl0ZW1zIHdpbGwgYmUgYWxpZ25lZC9zdHJldGNoZWQgaW4gdGhlIG9wcG9zaXRlIG9yaWVudGF0aW9uIChlLmcuIGlmIGl0J3MgJ3ZlcnRpY2FsJywgdGhlIHgtdmFsdWVzIG9mXHJcbiAgLy8gdGhlIGNvbXBvbmVudHMgd2lsbCBiZSBhZGp1c3RlZCBieSBhbGlnbiBhbmQgc3RyZXRjaCk7IHRoaXMgaXMga25vd24gYXMgdGhlIFwic2Vjb25kYXJ5XCIgb3IgXCJvcHBvc2l0ZVwiIGF4aXMuXHJcbiAgLy8gU2VlIGh0dHBzOi8vcGhldHNpbXMuZ2l0aHViLmlvL3NjZW5lcnkvZG9jL2xheW91dCNGbG93Qm94LW9yaWVudGF0aW9uXHJcbiAgb3JpZW50YXRpb24/OiBMYXlvdXRPcmllbnRhdGlvbiB8IG51bGw7XHJcblxyXG4gIC8vIEFkanVzdHMgdGhlIHBvc2l0aW9uIG9mIGVsZW1lbnRzIGluIHRoZSBcIm9wcG9zaXRlXCIgZGltZW5zaW9uLCBlaXRoZXIgdG8gYSBzcGVjaWZpYyBzaWRlLCB0aGUgY2VudGVyLCBvciBzbyB0aGF0IGFsbFxyXG4gIC8vIHRoZSBvcmlnaW5zIG9mIGl0ZW1zIGFyZSBhbGlnbmVkIChzaW1pbGFyIHRvIHg9MCBmb3IgYSAndmVydGljYWwnIG9yaWVudGF0aW9uKS5cclxuICAvLyBTZWUgaHR0cHM6Ly9waGV0c2ltcy5naXRodWIuaW8vc2NlbmVyeS9kb2MvbGF5b3V0I0Zsb3dCb3gtYWxpZ25cclxuICBhbGlnbj86IEhvcml6b250YWxMYXlvdXRBbGlnbiB8IFZlcnRpY2FsTGF5b3V0QWxpZ24gfCBudWxsO1xyXG5cclxuICAvLyBDb250cm9scyB3aGV0aGVyIGVsZW1lbnRzIHdpbGwgYXR0ZW1wdCB0byBleHBhbmQgYWxvbmcgdGhlIFwib3Bwb3NpdGVcIiBheGlzIHRvIHRha2UgdXAgdGhlIGZ1bGwgc2l6ZSBvZiB0aGVcclxuICAvLyBsYXJnZXN0IGxheW91dCBlbGVtZW50LlxyXG4gIC8vIFNlZSBodHRwczovL3BoZXRzaW1zLmdpdGh1Yi5pby9zY2VuZXJ5L2RvYy9sYXlvdXQjRmxvd0JveC1zdHJldGNoXHJcbiAgc3RyZXRjaD86IGJvb2xlYW47XHJcblxyXG4gIC8vIENvbnRyb2xzIHdoZXRoZXIgZWxlbWVudHMgd2lsbCBhdHRlbXB0IHRvIGV4cGFuZCBhbG9uZyB0aGUgXCJwcmltYXJ5XCIgYXhpcy4gRWxlbWVudHMgd2lsbCBleHBhbmQgcHJvcG9ydGlvbmFsbHlcclxuICAvLyBiYXNlZCBvbiB0aGUgdG90YWwgZ3JvdyBzdW0gKGFuZCB3aWxsIG5vdCBleHBhbmQgYXQgYWxsIGlmIHRoZSBncm93IGlzIHplcm8pLlxyXG4gIC8vIFNlZSBodHRwczovL3BoZXRzaW1zLmdpdGh1Yi5pby9zY2VuZXJ5L2RvYy9sYXlvdXQjRmxvd0JveC1ncm93XHJcbiAgZ3Jvdz86IG51bWJlciB8IG51bGw7XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBGbG93Q29uZmlndXJhYmxlT3B0aW9ucyA9IFNlbGZPcHRpb25zICYgTWFyZ2luTGF5b3V0Q29uZmlndXJhYmxlT3B0aW9ucztcclxuXHJcbi8vIFdlIHJlbW92ZSB0aGUgbnVsbCB2YWx1ZXMgZm9yIHRoZSB2YWx1ZXMgdGhhdCB3b24ndCBhY3R1YWxseSB0YWtlIG51bGxcclxuZXhwb3J0IHR5cGUgRXh0ZXJuYWxGbG93Q29uZmlndXJhYmxlT3B0aW9ucyA9IFdpdGhvdXROdWxsPEZsb3dDb25maWd1cmFibGVPcHRpb25zLCBFeGNsdWRlPGtleW9mIEZsb3dDb25maWd1cmFibGVPcHRpb25zLCAnbWluQ29udGVudFdpZHRoJyB8ICdtaW5Db250ZW50SGVpZ2h0JyB8ICdtYXhDb250ZW50V2lkdGgnIHwgJ21heENvbnRlbnRIZWlnaHQnPj47XHJcblxyXG50eXBlIFRGbG93Q29uZmlndXJhYmxlID0ge1xyXG5cclxuICBfYWxpZ246IExheW91dEFsaWduIHwgbnVsbDtcclxuICBfc3RyZXRjaDogYm9vbGVhbiB8IG51bGw7XHJcbiAgX2dyb3c6IG51bWJlciB8IG51bGw7XHJcbiAgcmVhZG9ubHkgb3JpZW50YXRpb25DaGFuZ2VkRW1pdHRlcjogVEVtaXR0ZXI7XHJcbiAgb3JpZW50YXRpb246IExheW91dE9yaWVudGF0aW9uO1xyXG4gIGFsaWduOiBIb3Jpem9udGFsTGF5b3V0QWxpZ24gfCBWZXJ0aWNhbExheW91dEFsaWduIHwgbnVsbDtcclxuICBzdHJldGNoOiBib29sZWFuIHwgbnVsbDtcclxuICBncm93OiBudW1iZXIgfCBudWxsO1xyXG5cclxuICAvLyBAbWl4aW4tcHJvdGVjdGVkIC0gbWFkZSBwdWJsaWMgZm9yIHVzZSBpbiB0aGUgbWl4aW4gb25seVxyXG4gIF9vcmllbnRhdGlvbjogT3JpZW50YXRpb247XHJcblxyXG59ICYgVE1hcmdpbkxheW91dENvbmZpZ3VyYWJsZTtcclxuXHJcbi8vIChzY2VuZXJ5LWludGVybmFsKVxyXG5jb25zdCBGbG93Q29uZmlndXJhYmxlID0gbWVtb2l6ZSggPFN1cGVyVHlwZSBleHRlbmRzIENvbnN0cnVjdG9yPiggVHlwZTogU3VwZXJUeXBlICk6IFN1cGVyVHlwZSAmIENvbnN0cnVjdG9yPFRGbG93Q29uZmlndXJhYmxlPiA9PiB7XHJcbiAgcmV0dXJuIGNsYXNzIEZsb3dDb25maWd1cmFibGVNaXhpbiBleHRlbmRzIE1hcmdpbkxheW91dENvbmZpZ3VyYWJsZSggVHlwZSApIGltcGxlbWVudHMgVEZsb3dDb25maWd1cmFibGUge1xyXG5cclxuICAgIC8vIEBtaXhpbi1wcm90ZWN0ZWQgLSBtYWRlIHB1YmxpYyBmb3IgdXNlIGluIHRoZSBtaXhpbiBvbmx5XHJcbiAgICBwdWJsaWMgX29yaWVudGF0aW9uOiBPcmllbnRhdGlvbiA9IE9yaWVudGF0aW9uLkhPUklaT05UQUw7XHJcblxyXG4gICAgLy8gKHNjZW5lcnktaW50ZXJuYWwpXHJcbiAgICBwdWJsaWMgX2FsaWduOiBMYXlvdXRBbGlnbiB8IG51bGwgPSBudWxsO1xyXG4gICAgcHVibGljIF9zdHJldGNoOiBib29sZWFuIHwgbnVsbCA9IG51bGw7XHJcbiAgICBwdWJsaWMgX2dyb3c6IG51bWJlciB8IG51bGwgPSBudWxsO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBvcmllbnRhdGlvbkNoYW5nZWRFbWl0dGVyOiBURW1pdHRlciA9IG5ldyBUaW55RW1pdHRlcigpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogKHNjZW5lcnktaW50ZXJuYWwpXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvciggLi4uYXJnczogSW50ZW50aW9uYWxBbnlbXSApIHtcclxuICAgICAgc3VwZXIoIC4uLmFyZ3MgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIChzY2VuZXJ5LWludGVybmFsKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgb3ZlcnJpZGUgbXV0YXRlQ29uZmlndXJhYmxlKCBvcHRpb25zPzogRmxvd0NvbmZpZ3VyYWJsZU9wdGlvbnMgKTogdm9pZCB7XHJcbiAgICAgIHN1cGVyLm11dGF0ZUNvbmZpZ3VyYWJsZSggb3B0aW9ucyApO1xyXG5cclxuICAgICAgbXV0YXRlKCB0aGlzLCBGTE9XX0NPTkZJR1VSQUJMRV9PUFRJT05fS0VZUywgb3B0aW9ucyApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVzZXRzIHZhbHVlcyB0byB0aGUgXCJiYXNlXCIgc3RhdGUuXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBpcyB0aGUgZmFsbGJhY2sgc3RhdGUgZm9yIGEgY29uc3RyYWludCB3aGVyZSBldmVyeSB2YWx1ZSBpcyBkZWZpbmVkIGFuZCB2YWxpZC4gSWYgYSBjZWxsIGRvZXMgbm90IGhhdmUgYVxyXG4gICAgICogc3BlY2lmaWMgXCJvdmVycmlkZGVuXCIgdmFsdWUsIG9yIGEgY29uc3RyYWludCBkb2Vzbid0IGhhdmUgYW4gXCJvdmVycmlkZGVuXCIgdmFsdWUsIHRoZW4gaXQgd2lsbCB0YWtlIHRoZSB2YWx1ZVxyXG4gICAgICogZGVmaW5lZCBoZXJlLlxyXG4gICAgICpcclxuICAgICAqIFRoZXNlIHNob3VsZCBiZSB0aGUgZGVmYXVsdCB2YWx1ZXMgZm9yIGNvbnN0cmFpbnRzLlxyXG4gICAgICpcclxuICAgICAqIChzY2VuZXJ5LWludGVybmFsKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgb3ZlcnJpZGUgc2V0Q29uZmlnVG9CYXNlRGVmYXVsdCgpOiB2b2lkIHtcclxuICAgICAgdGhpcy5fYWxpZ24gPSBMYXlvdXRBbGlnbi5DRU5URVI7XHJcbiAgICAgIHRoaXMuX3N0cmV0Y2ggPSBmYWxzZTtcclxuICAgICAgdGhpcy5fZ3JvdyA9IDA7XHJcblxyXG4gICAgICBzdXBlci5zZXRDb25maWdUb0Jhc2VEZWZhdWx0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNldHMgdmFsdWVzIHRvIHRoZSBcImRvbid0IG92ZXJyaWRlIGFueXRoaW5nLCBvbmx5IGluaGVyaXQgZnJvbSB0aGUgY29uc3RyYWludFwiIHN0YXRlXHJcbiAgICAgKlxyXG4gICAgICogVGhlc2Ugc2hvdWxkIGJlIHRoZSBkZWZhdWx0IHZhbHVlcyBmb3IgY2VsbHMgKGUuZy4gXCJ0YWtlIGFsbCB0aGUgYmVoYXZpb3IgZnJvbSB0aGUgY29uc3RyYWludCwgbm90aGluZyBpc1xyXG4gICAgICogb3ZlcnJpZGRlblwiKS5cclxuICAgICAqXHJcbiAgICAgKiAoc2NlbmVyeS1pbnRlcm5hbClcclxuICAgICAqL1xyXG4gICAgcHVibGljIG92ZXJyaWRlIHNldENvbmZpZ1RvSW5oZXJpdCggaWdub3JlT3B0aW9ucz86IEZsb3dDb25maWd1cmFibGVPcHRpb25zICk6IHZvaWQge1xyXG4gICAgICBpZiAoICFpZ25vcmVPcHRpb25zIHx8IGlnbm9yZU9wdGlvbnMuYWxpZ24gPT09IHVuZGVmaW5lZCApIHtcclxuICAgICAgICB0aGlzLl9hbGlnbiA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCAhaWdub3JlT3B0aW9ucyB8fCBpZ25vcmVPcHRpb25zLnN0cmV0Y2ggPT09IHVuZGVmaW5lZCApIHtcclxuICAgICAgICB0aGlzLl9zdHJldGNoID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgICBpZiAoICFpZ25vcmVPcHRpb25zIHx8IGlnbm9yZU9wdGlvbnMuZ3JvdyA9PT0gdW5kZWZpbmVkICkge1xyXG4gICAgICAgIHRoaXMuX2dyb3cgPSBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzdXBlci5zZXRDb25maWdUb0luaGVyaXQoIGlnbm9yZU9wdGlvbnMgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIChzY2VuZXJ5LWludGVybmFsKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0IG9yaWVudGF0aW9uKCk6IExheW91dE9yaWVudGF0aW9uIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX29yaWVudGF0aW9uID09PSBPcmllbnRhdGlvbi5IT1JJWk9OVEFMID8gJ2hvcml6b250YWwnIDogJ3ZlcnRpY2FsJztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIChzY2VuZXJ5LWludGVybmFsKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0IG9yaWVudGF0aW9uKCB2YWx1ZTogTGF5b3V0T3JpZW50YXRpb24gKSB7XHJcbiAgICAgIGFzc2VydCAmJiBhc3NlcnQoIHZhbHVlID09PSAnaG9yaXpvbnRhbCcgfHwgdmFsdWUgPT09ICd2ZXJ0aWNhbCcgKTtcclxuXHJcbiAgICAgIGNvbnN0IGVudW1PcmllbnRhdGlvbiA9IHZhbHVlID09PSAnaG9yaXpvbnRhbCcgPyBPcmllbnRhdGlvbi5IT1JJWk9OVEFMIDogT3JpZW50YXRpb24uVkVSVElDQUw7XHJcblxyXG4gICAgICBpZiAoIHRoaXMuX29yaWVudGF0aW9uICE9PSBlbnVtT3JpZW50YXRpb24gKSB7XHJcbiAgICAgICAgdGhpcy5fb3JpZW50YXRpb24gPSBlbnVtT3JpZW50YXRpb247XHJcblxyXG4gICAgICAgIHRoaXMub3JpZW50YXRpb25DaGFuZ2VkRW1pdHRlci5lbWl0KCk7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VkRW1pdHRlci5lbWl0KCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIChzY2VuZXJ5LWludGVybmFsKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0IGFsaWduKCk6IEhvcml6b250YWxMYXlvdXRBbGlnbiB8IFZlcnRpY2FsTGF5b3V0QWxpZ24gfCBudWxsIHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gTGF5b3V0QWxpZ24uaW50ZXJuYWxUb0FsaWduKCB0aGlzLl9vcmllbnRhdGlvbiwgdGhpcy5fYWxpZ24gKTtcclxuXHJcbiAgICAgIGFzc2VydCAmJiBhc3NlcnQoIHJlc3VsdCA9PT0gbnVsbCB8fCB0eXBlb2YgcmVzdWx0ID09PSAnc3RyaW5nJyApO1xyXG5cclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIChzY2VuZXJ5LWludGVybmFsKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0IGFsaWduKCB2YWx1ZTogSG9yaXpvbnRhbExheW91dEFsaWduIHwgVmVydGljYWxMYXlvdXRBbGlnbiB8IG51bGwgKSB7XHJcbiAgICAgIGFzc2VydCAmJiBhc3NlcnQoIExheW91dEFsaWduLmdldEFsbG93ZWRBbGlnbnMoIHRoaXMuX29yaWVudGF0aW9uLm9wcG9zaXRlICkuaW5jbHVkZXMoIHZhbHVlICksXHJcbiAgICAgICAgYGFsaWduICR7dmFsdWV9IG5vdCBzdXBwb3J0ZWQsIHdpdGggdGhlIG9yaWVudGF0aW9uICR7dGhpcy5fb3JpZW50YXRpb259LCB0aGUgdmFsaWQgdmFsdWVzIGFyZSAke0xheW91dEFsaWduLmdldEFsbG93ZWRBbGlnbnMoIHRoaXMuX29yaWVudGF0aW9uLm9wcG9zaXRlICl9YCApO1xyXG5cclxuICAgICAgLy8gcmVtYXBwaW5nIGFsaWduIHZhbHVlcyB0byBhbiBpbmRlcGVuZGVudCBzZXQsIHNvIHRoZXkgYXJlbid0IG9yaWVudGF0aW9uLWRlcGVuZGVudFxyXG4gICAgICBjb25zdCBtYXBwZWRWYWx1ZSA9IExheW91dEFsaWduLmFsaWduVG9JbnRlcm5hbCggdGhpcy5fb3JpZW50YXRpb24ub3Bwb3NpdGUsIHZhbHVlICk7XHJcblxyXG4gICAgICBhc3NlcnQgJiYgYXNzZXJ0KCBtYXBwZWRWYWx1ZSA9PT0gbnVsbCB8fCBtYXBwZWRWYWx1ZSBpbnN0YW5jZW9mIExheW91dEFsaWduICk7XHJcblxyXG4gICAgICBpZiAoIHRoaXMuX2FsaWduICE9PSBtYXBwZWRWYWx1ZSApIHtcclxuICAgICAgICB0aGlzLl9hbGlnbiA9IG1hcHBlZFZhbHVlO1xyXG5cclxuICAgICAgICB0aGlzLmNoYW5nZWRFbWl0dGVyLmVtaXQoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogKHNjZW5lcnktaW50ZXJuYWwpXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXQgc3RyZXRjaCgpOiBib29sZWFuIHwgbnVsbCB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9zdHJldGNoO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogKHNjZW5lcnktaW50ZXJuYWwpXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXQgc3RyZXRjaCggdmFsdWU6IGJvb2xlYW4gfCBudWxsICkge1xyXG4gICAgICBpZiAoIHRoaXMuX3N0cmV0Y2ggIT09IHZhbHVlICkge1xyXG4gICAgICAgIHRoaXMuX3N0cmV0Y2ggPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5jaGFuZ2VkRW1pdHRlci5lbWl0KCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIChzY2VuZXJ5LWludGVybmFsKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0IGdyb3coKTogbnVtYmVyIHwgbnVsbCB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9ncm93O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogKHNjZW5lcnktaW50ZXJuYWwpXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXQgZ3JvdyggdmFsdWU6IG51bWJlciB8IG51bGwgKSB7XHJcbiAgICAgIGFzc2VydCAmJiBhc3NlcnQoIHZhbHVlID09PSBudWxsIHx8ICggdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSggdmFsdWUgKSAmJiB2YWx1ZSA+PSAwICkgKTtcclxuXHJcbiAgICAgIGlmICggdGhpcy5fZ3JvdyAhPT0gdmFsdWUgKSB7XHJcbiAgICAgICAgdGhpcy5fZ3JvdyA9IHZhbHVlO1xyXG5cclxuICAgICAgICB0aGlzLmNoYW5nZWRFbWl0dGVyLmVtaXQoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcbn0gKTtcclxuXHJcbnNjZW5lcnkucmVnaXN0ZXIoICdGbG93Q29uZmlndXJhYmxlJywgRmxvd0NvbmZpZ3VyYWJsZSApO1xyXG5leHBvcnQgZGVmYXVsdCBGbG93Q29uZmlndXJhYmxlO1xyXG5leHBvcnQgeyBGTE9XX0NPTkZJR1VSQUJMRV9PUFRJT05fS0VZUyB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsV0FBVyxNQUFNLG9DQUFvQztBQUM1RCxPQUFPQyxXQUFXLE1BQU0seUNBQXlDO0FBQ2pFLE9BQU9DLE9BQU8sTUFBTSxxQ0FBcUM7QUFDekQsT0FBT0MsTUFBTSxNQUFNLG9DQUFvQztBQUN2RCxTQUFnQ0MsV0FBVyxFQUFxQkMsc0NBQXNDLEVBQUVDLHdCQUF3QixFQUFtQ0MsT0FBTyxRQUE2QixrQkFBa0I7QUFPek4sTUFBTUMsNkJBQTZCLEdBQUcsQ0FDcEMsYUFBYSxFQUNiLE9BQU8sRUFDUCxTQUFTLEVBQ1QsTUFBTSxDQUNQLENBQUNDLE1BQU0sQ0FBRUosc0NBQXVDLENBQUM7O0FBNEJsRDs7QUFtQkE7QUFDQSxNQUFNSyxnQkFBZ0IsR0FBR1IsT0FBTyxDQUFtQ1MsSUFBZSxJQUFrRDtFQUNsSSxPQUFPLE1BQU1DLHFCQUFxQixTQUFTTix3QkFBd0IsQ0FBRUssSUFBSyxDQUFDLENBQThCO0lBRXZHO0lBQ09FLFlBQVksR0FBZ0JaLFdBQVcsQ0FBQ2EsVUFBVTs7SUFFekQ7SUFDT0MsTUFBTSxHQUF1QixJQUFJO0lBQ2pDQyxRQUFRLEdBQW1CLElBQUk7SUFDL0JDLEtBQUssR0FBa0IsSUFBSTtJQUVsQkMseUJBQXlCLEdBQWEsSUFBSWxCLFdBQVcsQ0FBQyxDQUFDOztJQUV2RTtBQUNKO0FBQ0E7SUFDV21CLFdBQVdBLENBQUUsR0FBR0MsSUFBc0IsRUFBRztNQUM5QyxLQUFLLENBQUUsR0FBR0Es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UUFBUyxDQUFFLEVBQUUsQ0FBQzs7TUFFaks7TUFDQSxNQUFNRSxXQUFXLEdBQUd2QyxXQUFXLENBQUN3QyxlQUFlLENBQUUsSUFBSSxDQUFDL0IsWUFBWSxDQUFDNEIsUUFBUSxFQUFFVCxLQUFNLENBQUM7TUFFcEZDLE1BQU0sSUFBSUEsTUFBTSxDQUFFVSxXQUFXLEtBQUssSUFBSSxJQUFJQSxXQUFXLFlBQVl2QyxXQUFZLENBQUM7TUFFOUUsSUFBSyxJQUFJLENBQUNXLE1BQU0sS0FBSzRCLFdBQVcsRUFBRztRQUNqQyxJQUFJLENBQUM1QixNQUFNLEdBQUc0QixXQUFXO1FBRXpCLElBQUksQ0FBQ04sY0FBYyxDQUFDRCxJQUFJLENBQUMsQ0FBQztNQUM1QjtJQUNGOztJQUVBO0FBQ0o7QUFDQTtJQUNJLElBQVdQLE9BQU9BLENBQUEsRUFBbUI7TUFDbkMsT0FBTyxJQUFJLENBQUNiLFFBQVE7SUFDdEI7O0lBRUE7QUFDSjtBQUNBO0lBQ0ksSUFBV2EsT0FBT0EsQ0FBRUcsS0FBcUIsRUFBRztNQUMxQyxJQUFLLElBQUksQ0FBQ2hCLFFBQVEsS0FBS2dCLEtBQUssRUFBRztRQUM3QixJQUFJLENBQUNoQixRQUFRLEdBQUdnQixLQUFLO1FBRXJCLElBQUksQ0FBQ0ssY0FBYyxDQUFDRCxJQUFJLENBQUMsQ0FBQztNQUM1QjtJQUNGOztJQUVBO0FBQ0o7QUFDQTtJQUNJLElBQVdOLElBQUlBLENBQUEsRUFBa0I7TUFDL0IsT0FBTyxJQUFJLENBQUNiLEtBQUs7SUFDbkI7O0lBRUE7QUFDSjtBQUNBO0lBQ0ksSUFBV2EsSUFBSUEsQ0FBRUUsS0FBb0IsRUFBRztNQUN0Q0MsTUFBTSxJQUFJQSxNQUFNLENBQUVELEtBQUssS0FBSyxJQUFJLElBQU0sT0FBT0EsS0FBSyxLQUFLLFFBQVEsSUFBSWEsUUFBUSxDQUFFYixLQUFNLENBQUMsSUFBSUEsS0FBSyxJQUFJLENBQUksQ0FBQztNQUV0RyxJQUFLLElBQUksQ0FBQ2YsS0FBSyxLQUFLZSxLQUFLLEVBQUc7UUFDMUIsSUFBSSxDQUFDZixLQUFLLEdBQUdlLEtBQUs7UUFFbEIsSUFBSSxDQUFDSyxjQUFjLENBQUNELElBQUksQ0FBQyxDQUFDO01BQzVCO0lBQ0Y7RUFDRixDQUFDO0FBQ0gsQ0FBRSxDQUFDO0FBRUg3QixPQUFPLENBQUN1QyxRQUFRLENBQUUsa0JBQWtCLEVBQUVwQyxnQkFBaUIsQ0FBQztBQUN4RCxlQUFlQSxnQkFBZ0I7QUFDL0IsU0FBU0YsNkJBQTZCIiwiaWdub3JlTGlzdCI6W119