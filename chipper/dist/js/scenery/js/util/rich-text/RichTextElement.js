// Copyright 2023-2024, University of Colorado Boulder

/**
 * Represents an element in the RichText hierarchy that has child content (renders nothing on its own, but has its own
 * scale, positioning, style, etc.). <span> or <b> are examples of something that would create this.
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */
import Pool from '../../../../phet-core/js/Pool.js';
import { Node, RichTextCleanable, scenery } from '../../imports.js';
export default class RichTextElement extends RichTextCleanable(Node) {
  // The amount of local-coordinate spacing to apply on each side

  /**
   * @param isLTR - Whether this container will lay out elements in the left-to-right order (if false, will be
   *                          right-to-left).
   */
  constructor(isLTR) {
    super();
    this.initialize(isLTR);
  }
  initialize(isLTR) {
    this.isLTR = isLTR;
    this.leftSpacing = 0;
    this.rightSpacing = 0;
    return this;
  }

  /**
   * Adds a child element.
   *
   * @returns- Whether the item was actually added.
   */
  addElement(element) {
    const hadChild = this.children.length > 0;
    const hasElement = element.width > 0;

    // May be at a different scale, which we need to handle
    const elementScale = element.getScaleVector().x;
    const leftElementSpacing = element.leftSpacing * elementScale;
    const rightElementSpacing = element.rightSpacing * elementScale;

    // If there is nothing, then no spacing should be handled
    if (!hadChild && !hasElement) {
      sceneryLog && sceneryLog.RichText && sceneryLog.RichText('No child or element, ignoring');
      return false;
    } else if (!hadChild) {
      sceneryLog && sceneryLog.RichText && sceneryLog.RichText(`First child, ltr:${this.isLTR}, spacing: ${this.isLTR ? rightElementSpacing : leftElementSpacing}`);
      if (this.isLTR) {
        element.left = 0;
        this.leftSpacing = leftElementSpacing;
        this.rightSpacing = rightElementSpacing;
      } else {
        element.right = 0;
        this.leftSpacing = leftElementSpacing;
        this.rightSpacing = rightElementSpacing;
      }
      this.addChild(element);
      return true;
    } else if (!hasElement) {
      sceneryLog && sceneryLog.RichText && sceneryLog.RichText(`No element, adding spacing, ltr:${this.isLTR}, spacing: ${leftElementSpacing + rightElementSpacing}`);
      if (this.isLTR) {
        this.rightSpacing += leftElementSpacing + rightElementSpacing;
      } else {
        this.leftSpacing += leftElementSpacing + rightElementSpacing;
      }
    } else {
      if (this.isLTR) {
        sceneryLog && sceneryLog.RichText && sceneryLog.RichText(`LTR add ${this.rightSpacing} + ${leftElementSpacing}`);
        element.left = this.localRight + this.rightSpacing + leftElementSpacing;
        this.rightSpacing = rightElementSpacing;
      } else {
        sceneryLog && sceneryLog.RichText && sceneryLog.RichText(`RTL add ${this.leftSpacing} + ${rightElementSpacing}`);
        element.right = this.localLeft - this.leftSpacing - rightElementSpacing;
        this.leftSpacing = leftElementSpacing;
      }
      this.addChild(element);
      return true;
    }
    return false;
  }

  /**
   * Adds an amount of spacing to the "before" side.
   */
  addExtraBeforeSpacing(amount) {
    if (this.isLTR) {
      this.leftSpacing += amount;
    } else {
      this.rightSpacing += amount;
    }
  }
  freeToPool() {
    RichTextElement.pool.freeToPool(this);
  }
  static pool = new Pool(RichTextElement);
}
scenery.register('RichTextElement', RichTextElement);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQb29sIiwiTm9kZSIsIlJpY2hUZXh0Q2xlYW5hYmxlIiwic2NlbmVyeSIsIlJpY2hUZXh0RWxlbWVudCIsImNvbnN0cnVjdG9yIiwiaXNMVFIiLCJpbml0aWFsaXplIiwibGVmdFNwYWNpbmciLCJyaWdodFNwYWNpbmciLCJhZGRFbGVtZW50IiwiZWxlbWVudCIsImhhZENoaWxkIiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJoYXNFbGVtZW50Iiwid2lkdGgiLCJlbGVtZW50U2NhbGUiLCJnZXRTY2FsZVZlY3RvciIsIngiLCJsZWZ0RWxlbWVudFNwYWNpbmciLCJyaWdodEVsZW1lbnRTcGFjaW5nIiwic2NlbmVyeUxvZyIsIlJpY2hUZXh0IiwibGVmdCIsInJpZ2h0IiwiYWRkQ2hpbGQiLCJsb2NhbFJpZ2h0IiwibG9jYWxMZWZ0IiwiYWRkRXh0cmFCZWZvcmVTcGFjaW5nIiwiYW1vdW50IiwiZnJlZVRvUG9vbCIsInBvb2wiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIlJpY2hUZXh0RWxlbWVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMy0yMDI0LCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBSZXByZXNlbnRzIGFuIGVsZW1lbnQgaW4gdGhlIFJpY2hUZXh0IGhpZXJhcmNoeSB0aGF0IGhhcyBjaGlsZCBjb250ZW50IChyZW5kZXJzIG5vdGhpbmcgb24gaXRzIG93biwgYnV0IGhhcyBpdHMgb3duXHJcbiAqIHNjYWxlLCBwb3NpdGlvbmluZywgc3R5bGUsIGV0Yy4pLiA8c3Bhbj4gb3IgPGI+IGFyZSBleGFtcGxlcyBvZiBzb21ldGhpbmcgdGhhdCB3b3VsZCBjcmVhdGUgdGhpcy5cclxuICpcclxuICogQGF1dGhvciBKb25hdGhhbiBPbHNvbiA8am9uYXRoYW4ub2xzb25AY29sb3JhZG8uZWR1PlxyXG4gKi9cclxuaW1wb3J0IFBvb2wsIHsgVFBvb2xhYmxlIH0gZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL1Bvb2wuanMnO1xyXG5pbXBvcnQgeyBOb2RlLCBSaWNoVGV4dENsZWFuYWJsZSwgUmljaFRleHRMZWFmLCBSaWNoVGV4dE5vZGUsIHNjZW5lcnkgfSBmcm9tICcuLi8uLi9pbXBvcnRzLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJpY2hUZXh0RWxlbWVudCBleHRlbmRzIFJpY2hUZXh0Q2xlYW5hYmxlKCBOb2RlICkgaW1wbGVtZW50cyBUUG9vbGFibGUge1xyXG5cclxuICBwcml2YXRlIGlzTFRSITogYm9vbGVhbjtcclxuXHJcbiAgLy8gVGhlIGFtb3VudCBvZiBsb2NhbC1jb29yZGluYXRlIHNwYWNpbmcgdG8gYXBwbHkgb24gZWFjaCBzaWRlXHJcbiAgcHVibGljIGxlZnRTcGFjaW5nITogbnVtYmVyO1xyXG4gIHB1YmxpYyByaWdodFNwYWNpbmchOiBudW1iZXI7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSBpc0xUUiAtIFdoZXRoZXIgdGhpcyBjb250YWluZXIgd2lsbCBsYXkgb3V0IGVsZW1lbnRzIGluIHRoZSBsZWZ0LXRvLXJpZ2h0IG9yZGVyIChpZiBmYWxzZSwgd2lsbCBiZVxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodC10by1sZWZ0KS5cclxuICAgKi9cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIGlzTFRSOiBib29sZWFuICkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLmluaXRpYWxpemUoIGlzTFRSICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgaW5pdGlhbGl6ZSggaXNMVFI6IGJvb2xlYW4gKTogdGhpcyB7XHJcbiAgICB0aGlzLmlzTFRSID0gaXNMVFI7XHJcbiAgICB0aGlzLmxlZnRTcGFjaW5nID0gMDtcclxuICAgIHRoaXMucmlnaHRTcGFjaW5nID0gMDtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZHMgYSBjaGlsZCBlbGVtZW50LlxyXG4gICAqXHJcbiAgICogQHJldHVybnMtIFdoZXRoZXIgdGhlIGl0ZW0gd2FzIGFjdHVhbGx5IGFkZGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhZGRFbGVtZW50KCBlbGVtZW50OiBSaWNoVGV4dEVsZW1lbnQgfCBSaWNoVGV4dExlYWYgfCBSaWNoVGV4dE5vZGUgKTogYm9vbGVhbiB7XHJcblxyXG4gICAgY29uc3QgaGFkQ2hpbGQgPSB0aGlzLmNoaWxkcmVuLmxlbmd0aCA+IDA7XHJcbiAgICBjb25zdCBoYXNFbGVtZW50ID0gZWxlbWVudC53aWR0aCA+IDA7XHJcblxyXG4gICAgLy8gTWF5IGJlIGF0IGEgZGlmZmVyZW50IHNjYWxlLCB3aGljaCB3ZSBuZWVkIHRvIGhhbmRsZVxyXG4gICAgY29uc3QgZWxlbWVudFNjYWxlID0gZWxlbWVudC5nZXRTY2FsZVZlY3RvcigpLng7XHJcbiAgICBjb25zdCBsZWZ0RWxlbWVudFNwYWNpbmcgPSBlbGVtZW50LmxlZnRTcGFjaW5nICogZWxlbWVudFNjYWxlO1xyXG4gICAgY29uc3QgcmlnaHRFbGVtZW50U3BhY2luZyA9IGVsZW1lbnQucmlnaHRTcGFjaW5nICogZWxlbWVudFNjYWxlO1xyXG5cclxuICAgIC8vIElmIHRoZXJlIGlzIG5vdGhpbmcsIHRoZW4gbm8gc3BhY2luZyBzaG91bGQgYmUgaGFuZGxlZFxyXG4gICAgaWYgKCAhaGFkQ2hpbGQgJiYgIWhhc0VsZW1lbnQgKSB7XHJcbiAgICAgIHNjZW5lcnlMb2cgJiYgc2NlbmVyeUxvZy5SaWNoVGV4dCAmJiBzY2VuZXJ5TG9nLlJpY2hUZXh0KCAnTm8gY2hpbGQgb3IgZWxlbWVudCwgaWdub3JpbmcnICk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCAhaGFkQ2hpbGQgKSB7XHJcbiAgICAgIHNjZW5lcnlMb2cgJiYgc2NlbmVyeUxvZy5SaWNoVGV4dCAmJiBzY2VuZXJ5TG9nLlJpY2hUZXh0KCBgRmlyc3QgY2hpbGQsIGx0cjoke3RoaXMuaXNMVFJ9LCBzcGFjaW5nOiAke3RoaXMuaXNMVFIgPyByaWdodEVsZW1lbnRTcGFjaW5nIDogbGVmdEVsZW1lbnRTcGFjaW5nfWAgKTtcclxuICAgICAgaWYgKCB0aGlzLmlzTFRSICkge1xyXG4gICAgICAgIGVsZW1lbnQubGVmdCA9IDA7XHJcbiAgICAgICAgdGhpcy5sZWZ0U3BhY2luZyA9IGxlZnRFbGVtZW50U3BhY2luZztcclxuICAgICAgICB0aGlzLnJpZ2h0U3BhY2luZyA9IHJpZ2h0RWxlbWVudFNwYWNpbmc7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgZWxlbWVudC5yaWdodCA9IDA7XHJcbiAgICAgICAgdGhpcy5sZWZ0U3BhY2luZyA9IGxlZnRFbGVtZW50U3BhY2luZztcclxuICAgICAgICB0aGlzLnJpZ2h0U3BhY2luZyA9IHJpZ2h0RWxlbWVudFNwYWNpbmc7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5hZGRDaGlsZCggZWxlbWVudCApO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCAhaGFzRWxlbWVudCApIHtcclxuICAgICAgc2NlbmVyeUxvZyAmJiBzY2VuZXJ5TG9nLlJpY2hUZXh0ICYmIHNjZW5lcnlMb2cuUmljaFRleHQoIGBObyBlbGVtZW50LCBhZGRpbmcgc3BhY2luZywgbHRyOiR7dGhpcy5pc0xUUn0sIHNwYWNpbmc6ICR7bGVmdEVsZW1lbnRTcGFjaW5nICsgcmlnaHRFbGVtZW50U3BhY2luZ31gICk7XHJcbiAgICAgIGlmICggdGhpcy5pc0xUUiApIHtcclxuICAgICAgICB0aGlzLnJpZ2h0U3BhY2luZyArPSBsZWZ0RWxlbWVudFNwYWNpbmcgKyByaWdodEVsZW1lbnRTcGFjaW5nO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHRoaXMubGVmdFNwYWNpbmcgKz0gbGVmdEVsZW1lbnRTcGFjaW5nICsgcmlnaHRFbGVtZW50U3BhY2luZztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGlmICggdGhpcy5pc0xUUiApIHtcclxuICAgICAgICBzY2VuZXJ5TG9nICYmIHNjZW5lcnlMb2cuUmljaFRleHQgJiYgc2NlbmVyeUxvZy5SaWNoVGV4dCggYExUUiBhZGQgJHt0aGlzLnJpZ2h0U3BhY2luZ30gKyAke2xlZnRFbGVtZW50U3BhY2luZ31gICk7XHJcbiAgICAgICAgZWxlbWVudC5sZWZ0ID0gdGhpcy5sb2NhbFJpZ2h0ICsgdGhpcy5yaWdodFNwYWNpbmcgKyBsZWZ0RWxlbWVudFNwYWNpbmc7XHJcbiAgICAgICAgdGhpcy5yaWdodFNwYWNpbmcgPSByaWdodEVsZW1lbnRTcGFjaW5nO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHNjZW5lcnlMb2cgJiYgc2NlbmVyeUxvZy5SaWNoVGV4dCAmJiBzY2VuZXJ5TG9nLlJpY2hUZXh0KCBgUlRMIGFkZCAke3RoaXMubGVmdFNwYWNpbmd9ICsgJHtyaWdodEVsZW1lbnRTcGFjaW5nfWAgKTtcclxuICAgICAgICBlbGVtZW50LnJpZ2h0ID0gdGhpcy5sb2NhbExlZnQgLSB0aGlzLmxlZnRTcGFjaW5nIC0gcmlnaHRFbGVtZW50U3BhY2luZztcclxuICAgICAgICB0aGlzLmxlZnRTcGFjaW5nID0gbGVmdEVsZW1lbnRTcGFjaW5nO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuYWRkQ2hpbGQoIGVsZW1lbnQgKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGRzIGFuIGFtb3VudCBvZiBzcGFjaW5nIHRvIHRoZSBcImJlZm9yZVwiIHNpZGUuXHJcbiAgICovXHJcbiAgcHVibGljIGFkZEV4dHJhQmVmb3JlU3BhY2luZyggYW1vdW50OiBudW1iZXIgKTogdm9pZCB7XHJcbiAgICBpZiAoIHRoaXMuaXNMVFIgKSB7XHJcbiAgICAgIHRoaXMubGVmdFNwYWNpbmcgKz0gYW1vdW50O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRoaXMucmlnaHRTcGFjaW5nICs9IGFtb3VudDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBmcmVlVG9Qb29sKCk6IHZvaWQge1xyXG4gICAgUmljaFRleHRFbGVtZW50LnBvb2wuZnJlZVRvUG9vbCggdGhpcyApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBwb29sID0gbmV3IFBvb2woIFJpY2hUZXh0RWxlbWVudCApO1xyXG5cclxufVxyXG5cclxuc2NlbmVyeS5yZWdpc3RlciggJ1JpY2hUZXh0RWxlbWVudCcsIFJpY2hUZXh0RWxlbWVudCApOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBT0EsSUFBSSxNQUFxQixrQ0FBa0M7QUFDbEUsU0FBU0MsSUFBSSxFQUFFQyxpQkFBaUIsRUFBOEJDLE9BQU8sUUFBUSxrQkFBa0I7QUFFL0YsZUFBZSxNQUFNQyxlQUFlLFNBQVNGLGlCQUFpQixDQUFFRCxJQUFLLENBQUMsQ0FBc0I7RUFJMUY7O0VBSUE7QUFDRjtBQUNBO0FBQ0E7RUFDU0ksV0FBV0EsQ0FBRUMsS0FBYyxFQUFHO0lBQ25DLEtBQUssQ0FBQyxDQUFDO0lBRVAsSUFBSSxDQUFDQyxVQUFVLENBQUVELEtBQU0sQ0FBQztFQUMxQjtFQUVPQyxVQUFVQSxDQUFFRCxLQUFjLEVBQVM7SUFDeEMsSUFBSSxDQUFDQSxLQUFLLEdBQUdBLEtBQUs7SUFDbEIsSUFBSSxDQUFDRSxXQUFXLEdBQUcsQ0FBQztJQUNwQixJQUFJLENBQUNDLFlBQVksR0FBRyxDQUFDO0lBRXJCLE9BQU8sSUFBSTtFQUNiOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7RUFDU0MsVUFBVUEsQ0FBRUMsT0FBc0QsRUFBWTtJQUVuRixNQUFNQyxRQUFRLEdBQUcsSUFBSSxDQUFDQyxRQUFRLENBQUNDLE1BQU0sR0FBRyxDQUFDO0lBQ3pDLE1BQU1DLFVB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