// Copyright 2019-2023, University of Colorado Boulder

/**
 * Tests for styling accessibility siblings. Siblings should be positioned on top of other elements in the PDOM.
 *
 * @author Jesse Greenberg (PhET Interactive Simulations)
 */

import Bounds2 from '../../../../dot/js/Bounds2.js';
import Vector2 from '../../../../dot/js/Vector2.js';
import Display from '../../display/Display.js';
import Node from '../../nodes/Node.js';
import Rectangle from '../../nodes/Rectangle.js';
import PDOMPeer from './PDOMPeer.js';

// constants
const PIXEL_PADDING = 3;
QUnit.module('PDOMSibling');

/**
 * Gets the bounds of the DOMElement in the viewport in global coordinates.
 * @param {Node} node
 * @returns {Bounds2}
 */
const getSiblingBounds = node => {
  const siblingRect = node.pdomInstances[0].peer.primarySibling.getBoundingClientRect();
  return new Bounds2(siblingRect.x, siblingRect.y, siblingRect.x + siblingRect.width, siblingRect.y + siblingRect.height);
};

/**
 * Returns true if the node's first accessible peer has a primary sibling with bounds thar are correctly positioned
 * in the viewport. Some padding is required for the HTML elements to have defined bounds, so we allow a few pixels
 * of error.
 * @param  {Node} node
 * @returns {boolean}
 */
const siblingBoundsCorrect = node => {
  // if a pdomTransformSourceNode is specified, the sibling should overlap this node's bounds instead of its own
  // bounds
  const transformSourceNode = node.pdomTransformSourceNode;
  const sourceNodeBounds = transformSourceNode ? transformSourceNode.globalBounds : node.globalBounds;
  const siblingBounds = getSiblingBounds(node);
  const comparedBounds = node.positionInPDOM ? sourceNodeBounds : PDOMPeer.OFFSCREEN_SIBLING_BOUNDS;
  return siblingBounds.equalsEpsilon(comparedBounds, PIXEL_PADDING);
};

// tests
QUnit.test('sibling positioning', assert => {
  const rootNode = new Node({
    tagName: 'div'
  });
  const display = new Display(rootNode);
  document.body.appendChild(display.domElement);

  // test bounds are set for basic input elements
  const buttonElement = new Rectangle(5, 5, 5, 5, {
    tagName: 'button'
  });
  const divElement = new Rectangle(0, 0, 20, 20, {
    tagName: 'div',
    focusable: true
  });
  const inputElement = new Rectangle(10, 3, 25, 5, {
    tagName: 'input',
    inputType: 'range'
  });
  rootNode.addChild(buttonElement);
  rootNode.addChild(divElement);
  rootNode.addChild(inputElement);

  // udpdate so the display to position elements
  display.updateDisplay();
  assert.ok(siblingBoundsCorrect(buttonElement), 'button element child of root correctly positioned');
  assert.ok(siblingBoundsCorrect(divElement), 'div element child of root correctly positioned');
  assert.ok(siblingBoundsCorrect(inputElement), 'input element child of root correctly positioned');

  // test that bounds are set correctly once we have a hierarchy and add transformations
  rootNode.removeChild(buttonElement);
  rootNode.removeChild(divElement);
  rootNode.removeChild(inputElement);
  rootNode.addChild(divElement);
  divElement.addChild(buttonElement);
  buttonElement.addChild(inputElement);

  // arbitrary transformations down the tree (should be propagated to input element)
  divElement.setCenter(new Vector2(50, 50));
  buttonElement.setScaleMagnitude(0.89);
  inputElement.setRotation(Math.PI / 4);

  // udpdate so the display to position elements
  display.updateDisplay();
  assert.ok(siblingBoundsCorrect(buttonElement), 'button element descendant correctly positioned');
  assert.ok(siblingBoundsCorrect(inputElement), 'input element descendant correctly positioned');

  // when inner content of an element changes, its client bounds change - make sure that the element still matches
  // the Node
  buttonElement.innerHTML = 'Some Test';
  display.updateDisplay();
  assert.ok(siblingBoundsCorrect(buttonElement), 'button element descendant correclty positioned after inner content changed');

  // remove the display element so it doesn't interfere with qunit API
  document.body.removeChild(display.domElement);
  display.dispose();
});
QUnit.test('PDOM transform source Node', assert => {
  const rootNode = new Node({
    tagName: 'div'
  });
  const display = new Display(rootNode);
  document.body.appendChild(display.domElement);
  const buttonNode = new Rectangle(5, 5, 5, 5, {
    tagName: 'button',
    positionInPDOM: true
  });
  const transformSourceNode = new Rectangle(0, 0, 25, 25);
  rootNode.addChild(buttonNode);
  rootNode.addChild(transformSourceNode);

  // update the display to position elements
  display.updateDisplay();
  assert.ok(siblingBoundsCorrect(buttonNode), 'button element child of root correctly positioned');
  const siblingBoundsBefore = getSiblingBounds(buttonNode);

  // test setting transform source Node
  buttonNode.pdomTransformSourceNode = transformSourceNode;

  // update the display to position elements
  display.updateDisplay();
  assert.ok(siblingBoundsCorrect(buttonNode), 'button element transformed with transform source Node');
  assert.ok(!siblingBoundsBefore.equals(getSiblingBounds(buttonNode)), 'sibling bounds should have changed after setting transform source');

  // reposition the buttonNode - pdom sibling should NOT reposition
  const siblingBoundsBeforeNodeReposition = getSiblingBounds(buttonNode);
  buttonNode.setX(100);
  buttonNode.setY(100);
  display.updateDisplay();
  assert.ok(siblingBoundsCorrect(buttonNode), 'sibling bounds correct after node repositioned');
  assert.ok(siblingBoundsBeforeNodeReposition.equals(getSiblingBounds(buttonNode)), 'transform source didnt change, primary sibling should not reposition');

  // reposition the transform source - pdom sibling SHOULD reposition
  const siblingBoundsBeforeSourceReposition = getSiblingBounds(buttonNode);
  transformSourceNode.setX(50);
  transformSourceNode.setX(50);
  display.updateDisplay();
  assert.ok(siblingBoundsCorrect(buttonNode), 'sibling bounds correct after source node repositioned');
  assert.ok(!siblingBoundsBeforeSourceReposition.equals(getSiblingBounds(buttonNode)), 'transform source didnt change, primary sibling should not reposition');

  // remove the display element so it doesn't interfere with qunit API
  document.body.removeChild(display.domElement);
  display.dispose();
});
QUnit.test('setPositionElements test', assert => {
  const rootNode = new Node({
    tagName: 'div'
  });
  const display = new Display(rootNode);
  document.body.appendChild(display.domElement);
  const buttonNode = new Rectangle(5, 5, 5, 5, {
    tagName: 'button',
    positionInPDOM: true
  });
  rootNode.addChild(buttonNode);
  display.updateDisplay();
  assert.ok(siblingBoundsCorrect(buttonNode), 'sibling bounds initially correct');
  buttonNode.setPositionInPDOM(false);
  display.updateDisplay();
  assert.ok(siblingBoundsCorrect(buttonNode), 'sibling bounds correct after positionInPDOM false');
  buttonNode.setPositionInPDOM(true);
  display.updateDisplay();
  assert.ok(siblingBoundsCorrect(buttonNode), 'sibling bounds repositioned after positionInPDOM true');

  // remove the display element so it doesn't interfere with qunit API
  document.body.removeChild(display.domElement);
  display.dispose();
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCb3VuZHMyIiwiVmVjdG9yMiIsIkRpc3BsYXkiLCJOb2RlIiwiUmVjdGFuZ2xlIiwiUERPTVBlZXIiLCJQSVhFTF9QQURESU5HIiwiUVVuaXQiLCJtb2R1bGUiLCJnZXRTaWJsaW5nQm91bmRzIiwibm9kZSIsInNpYmxpbmdSZWN0IiwicGRvbUluc3RhbmNlcyIsInBlZXIiLCJwcmltYXJ5U2libGluZyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIngiLCJ5Iiwid2lkdGgiLCJoZWlnaHQiLCJzaWJsaW5nQm91bmRzQ29ycmVjdCIsInRyYW5zZm9ybVNvdXJjZU5vZGUiLCJwZG9tVHJhbnNmb3JtU291cmNlTm9kZSIsInNvdXJjZU5vZGVCb3VuZHMiLCJnbG9iYWxCb3VuZHMiLCJzaWJsaW5nQm91bmRzIiwiY29tcGFyZWRCb3VuZHMiLCJwb3NpdGlvbkluUERPTSIsIk9GRlNDUkVFTl9TSUJMSU5HX0JPVU5EUyIsImVxdWFsc0Vwc2lsb24iLCJ0ZXN0IiwiYXNzZXJ0Iiwicm9vdE5vZGUiLCJ0YWdOYW1lIiwiZGlzcGxheSIsImRvY3VtZW50IiwiYm9keSIsImFwcGVuZENoaWxkIiwiZG9tRWxlbWVudCIsImJ1dHRvbkVsZW1lbnQiLCJkaXZFbGVtZW50IiwiZm9jdXNhYmxlIiwiaW5wdXRFbGVtZW50IiwiaW5wdXRUeXBlIiwiYWRkQ2hpbGQiLCJ1cGRhdGVEaXNwbGF5Iiwib2siLCJyZW1vdmVDaGlsZCIsInNldENlbnRlciIsInNldFNjYWxlTWFnbml0dWRlIiwic2V0Um90YXRpb24iLCJNYXRoIiwiUEkiLCJpbm5lckhUTUwiLCJkaXNwb3NlIiwiYnV0dG9uTm9kZSIsInNpYmxpbmdCb3VuZHNCZWZvcmUiLCJlcXVhbHMiLCJzaWJsaW5nQm91bmRzQmVmb3JlTm9kZVJlcG9zaXRpb24iLCJzZXRYIiwic2V0WSIsInNpYmxpbmdCb3VuZHNCZWZvcmVTb3VyY2VSZXBvc2l0aW9uIiwic2V0UG9zaXRpb25JblBET00iXSwic291cmNlcyI6WyJQRE9NU2libGluZ1Rlc3RzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE5LTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGZvciBzdHlsaW5nIGFjY2Vzc2liaWxpdHkgc2libGluZ3MuIFNpYmxpbmdzIHNob3VsZCBiZSBwb3NpdGlvbmVkIG9uIHRvcCBvZiBvdGhlciBlbGVtZW50cyBpbiB0aGUgUERPTS5cclxuICpcclxuICogQGF1dGhvciBKZXNzZSBHcmVlbmJlcmcgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IEJvdW5kczIgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL0JvdW5kczIuanMnO1xyXG5pbXBvcnQgVmVjdG9yMiBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvVmVjdG9yMi5qcyc7XHJcbmltcG9ydCBEaXNwbGF5IGZyb20gJy4uLy4uL2Rpc3BsYXkvRGlzcGxheS5qcyc7XHJcbmltcG9ydCBOb2RlIGZyb20gJy4uLy4uL25vZGVzL05vZGUuanMnO1xyXG5pbXBvcnQgUmVjdGFuZ2xlIGZyb20gJy4uLy4uL25vZGVzL1JlY3RhbmdsZS5qcyc7XHJcbmltcG9ydCBQRE9NUGVlciBmcm9tICcuL1BET01QZWVyLmpzJztcclxuXHJcbi8vIGNvbnN0YW50c1xyXG5jb25zdCBQSVhFTF9QQURESU5HID0gMztcclxuXHJcblFVbml0Lm1vZHVsZSggJ1BET01TaWJsaW5nJyApO1xyXG5cclxuLyoqXHJcbiAqIEdldHMgdGhlIGJvdW5kcyBvZiB0aGUgRE9NRWxlbWVudCBpbiB0aGUgdmlld3BvcnQgaW4gZ2xvYmFsIGNvb3JkaW5hdGVzLlxyXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcclxuICogQHJldHVybnMge0JvdW5kczJ9XHJcbiAqL1xyXG5jb25zdCBnZXRTaWJsaW5nQm91bmRzID0gbm9kZSA9PiB7XHJcbiAgY29uc3Qgc2libGluZ1JlY3QgPSBub2RlLnBkb21JbnN0YW5jZXNbIDAgXS5wZWVyLnByaW1hcnlTaWJsaW5nLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gIHJldHVybiBuZXcgQm91bmRzMiggc2libGluZ1JlY3QueCwgc2libGluZ1JlY3QueSwgc2libGluZ1JlY3QueCArIHNpYmxpbmdSZWN0LndpZHRoLCBzaWJsaW5nUmVjdC55ICsgc2libGluZ1JlY3QuaGVpZ2h0ICk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBub2RlJ3MgZmlyc3QgYWNjZXNzaWJsZSBwZWVyIGhhcyBhIHByaW1hcnkgc2libGluZyB3aXRoIGJvdW5kcyB0aGFyIGFyZSBjb3JyZWN0bHkgcG9zaXRpb25lZFxyXG4gKiBpbiB0aGUgdmlld3BvcnQuIFNvbWUgcGFkZGluZyBpcyByZXF1aXJlZCBmb3IgdGhlIEhUTUwgZWxlbWVudHMgdG8gaGF2ZSBkZWZpbmVkIGJvdW5kcywgc28gd2UgYWxsb3cgYSBmZXcgcGl4ZWxzXHJcbiAqIG9mIGVycm9yLlxyXG4gKiBAcGFyYW0gIHtOb2RlfSBub2RlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuY29uc3Qgc2libGluZ0JvdW5kc0NvcnJlY3QgPSBub2RlID0+IHtcclxuXHJcbiAgLy8gaWYgYSBwZG9tVHJhbnNmb3JtU291cmNlTm9kZSBpcyBzcGVjaWZpZWQsIHRoZSBzaWJsaW5nIHNob3VsZCBvdmVybGFwIHRoaXMgbm9kZSdzIGJvdW5kcyBpbnN0ZWFkIG9mIGl0cyBvd25cclxuICAvLyBib3VuZHNcclxuICBjb25zdCB0cmFuc2Zvcm1Tb3VyY2VOb2RlID0gbm9kZS5wZG9tVHJhbnNmb3JtU291cmNlTm9kZTtcclxuICBjb25zdCBzb3VyY2VOb2RlQm91bmRzID0gdHJhbnNmb3JtU291cmNlTm9kZSA/IHRyYW5zZm9ybVNvdXJjZU5vZGUuZ2xvYmFsQm91bmRzIDogbm9kZS5nbG9iYWxCb3VuZHM7XHJcblxyXG4gIGNvbnN0IHNpYmxpbmdCb3VuZHMgPSBnZXRTaWJsaW5nQm91bmRzKCBub2RlICk7XHJcbiAgY29uc3QgY29tcGFyZWRCb3VuZHMgPSBub2RlLnBvc2l0aW9uSW5QRE9NID8gc291cmNlTm9kZUJvdW5kcyA6IFBET01QZWVyLk9GRlNDUkVFTl9TSUJMSU5HX0JPVU5EUztcclxuICByZXR1cm4gc2libGluZ0JvdW5kcy5lcXVhbHNFcHNpbG9uKCBjb21wYXJlZEJvdW5kcywgUElYRUxfUEFERElORyApO1xyXG59O1xyXG5cclxuLy8gdGVzdHNcclxuUVVuaXQudGVzdCggJ3NpYmxpbmcgcG9zaXRpb25pbmcnLCBhc3NlcnQgPT4ge1xyXG5cclxuICBjb25zdCByb290Tm9kZSA9IG5ldyBOb2RlKCB7IHRhZ05hbWU6ICdkaXYnIH0gKTtcclxuICBjb25zdCBkaXNwbGF5ID0gbmV3IERpc3BsYXkoIHJvb3ROb2RlICk7XHJcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCggZGlzcGxheS5kb21FbGVtZW50ICk7XHJcblxyXG4gIC8vIHRlc3QgYm91bmRzIGFyZSBzZXQgZm9yIGJhc2ljIGlucHV0IGVsZW1lbnRzXHJcbiAgY29uc3QgYnV0dG9uRWxlbWVudCA9IG5ldyBSZWN0YW5nbGUoIDUsIDUsIDUsIDUsIHsgdGFnTmFtZTogJ2J1dHRvbicgfSApO1xyXG4gIGNvbnN0IGRpdkVsZW1lbnQgPSBuZXcgUmVjdGFuZ2xlKCAwLCAwLCAyMCwgMjAsIHsgdGFnTmFtZTogJ2RpdicsIGZvY3VzYWJsZTogdHJ1ZSB9ICk7XHJcbiAgY29uc3QgaW5wdXRFbGVtZW50ID0gbmV3IFJlY3RhbmdsZSggMTAsIDMsIDI1LCA1LCB7IHRhZ05hbWU6ICdpbnB1dCcsIGlucHV0VHlwZTogJ3JhbmdlJyB9ICk7XHJcblxyXG4gIHJvb3ROb2RlLmFkZENoaWxkKCBidXR0b25FbGVtZW50ICk7XHJcbiAgcm9vdE5vZGUuYWRkQ2hpbGQoIGRpdkVsZW1lbnQgKTtcclxuICByb290Tm9kZS5hZGRDaGlsZCggaW5wdXRFbGVtZW50ICk7XHJcblxyXG4gIC8vIHVkcGRhdGUgc28gdGhlIGRpc3BsYXkgdG8gcG9zaXRpb24gZWxlbWVudHNcclxuICBkaXNwbGF5LnVwZGF0ZURpc3BsYXkoKTtcclxuXHJcbiAgYXNzZXJ0Lm9rKCBzaWJsaW5nQm91bmRzQ29ycmVjdCggYnV0dG9uRWxlbWVudCApLCAnYnV0dG9uIGVsZW1lbnQgY2hpbGQgb2Ygcm9vdCBjb3JyZWN0bHkgcG9zaXRpb25lZCcgKTtcclxuICBhc3NlcnQub2soIHNpYmxpbmdCb3VuZHNDb3JyZWN0KCBkaXZFbGVtZW50ICksICdkaXYgZWxlbWVudCBjaGlsZCBvZiByb290IGNvcnJlY3RseSBwb3NpdGlvbmVkJyApO1xyXG4gIGFzc2VydC5vayggc2libGluZ0JvdW5kc0NvcnJlY3QoIGlucHV0RWxlbWVudCApLCAnaW5wdXQgZWxlbWVudCBjaGlsZCBvZiByb290IGNvcnJlY3RseSBwb3NpdGlvbmVkJyApO1xyXG5cclxuICAvLyB0ZXN0IHRoYXQgYm91bmRzIGFyZSBzZXQgY29ycmVjdGx5IG9uY2Ugd2UgaGF2ZSBhIGhpZXJhcmNoeSBhbmQgYWRkIHRyYW5zZm9ybWF0aW9uc1xyXG4gIHJvb3ROb2RlLnJlbW92ZUNoaWxkKCBidXR0b25FbGVtZW50ICk7XHJcbiAgcm9vdE5vZGUucmVtb3ZlQ2hpbGQoIGRpdkVsZW1lbnQgKTtcclxuICByb290Tm9kZS5yZW1vdmVDaGlsZCggaW5wdXRFbGVtZW50ICk7XHJcblxyXG4gIHJvb3ROb2RlLmFkZENoaWxkKCBkaXZFbGVtZW50ICk7XHJcbiAgZGl2RWxlbWVudC5hZGRDaGlsZCggYnV0dG9uRWxlbWVudCApO1xyXG4gIGJ1dHRvbkVsZW1lbnQuYWRkQ2hpbGQoIGlucHV0RWxlbWVudCApO1xyXG5cclxuICAvLyBhcmJpdHJhcnkgdHJhbnNmb3JtYXRpb25zIGRvd24gdGhlIHRyZWUgKHNob3VsZCBiZSBwcm9wYWdhdGVkIHRvIGlucHV0IGVsZW1lbnQpXHJcbiAgZGl2RWxlbWVudC5zZXRDZW50ZXIoIG5ldyBWZWN0b3IyKCA1MCwgNTAgKSApO1xyXG4gIGJ1dHRvbkVsZW1lbnQuc2V0U2NhbGVNYWduaXR1ZGUoIDAuODkgKTtcclxuICBpbnB1dEVsZW1lbnQuc2V0Um90YXRpb24oIE1hdGguUEkgLyA0ICk7XHJcblxyXG4gIC8vIHVkcGRhdGUgc28gdGhlIGRpc3BsYXkgdG8gcG9zaXRpb24gZWxlbWVudHNcclxuICBkaXNwbGF5LnVwZGF0ZURpc3BsYXkoKTtcclxuICBhc3NlcnQub2soIHNpYmxpbmdCb3VuZHNDb3JyZWN0KCBidXR0b25FbGVtZW50ICksICdidXR0b24gZWxlbWVudCBkZXNjZW5kYW50IGNvcnJlY3RseSBwb3NpdGlvbmVkJyApO1xyXG4gIGFzc2VydC5vayggc2libGluZ0JvdW5kc0NvcnJlY3QoIGlucHV0RWxlbWVudCApLCAnaW5wdXQgZWxlbWVudCBkZXNjZW5kYW50IGNvcnJlY3RseSBwb3NpdGlvbmVkJyApO1xyXG5cclxuICAvLyB3aGVuIGlubmVyIGNvbnRlbnQgb2YgYW4gZWxlbWVudCBjaGFuZ2VzLCBpdHMgY2xpZW50IGJvdW5kcyBjaGFuZ2UgLSBtYWtlIHN1cmUgdGhhdCB0aGUgZWxlbWVudCBzdGlsbCBtYXRjaGVzXHJcbiAgLy8gdGhlIE5vZGVcclxuICBidXR0b25FbGVtZW50LmlubmVySFRNTCA9ICdTb21lIFRlc3QnO1xyXG4gIGRpc3BsYXkudXBkYXRlRGlzcGxheSgpO1xyXG4gIGFzc2VydC5vayggc2libGluZ0JvdW5kc0NvcnJlY3QoIGJ1dHRvbkVsZW1lbnQgKSwgJ2J1dHRvbiBlbGVtZW50IGRlc2NlbmRhbnQgY29ycmVjbHR5IHBvc2l0aW9uZWQgYWZ0ZXIgaW5uZXIgY29udGVudCBjaGFuZ2VkJyApO1xyXG5cclxuICAvLyByZW1vdmUgdGhlIGRpc3BsYXkgZWxlbWVudCBzbyBpdCBkb2Vzbid0IGludGVyZmVyZSB3aXRoIHF1bml0IEFQSVxyXG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoIGRpc3BsYXkuZG9tRWxlbWVudCApO1xyXG4gIGRpc3BsYXkuZGlzcG9zZSgpO1xyXG5cclxufSApO1xyXG5cclxuUVVuaXQudGVzdCggJ1BET00gdHJhbnNmb3JtIHNvdXJjZSBOb2RlJywgYXNzZXJ0ID0+IHtcclxuICBjb25zdCByb290Tm9kZSA9IG5ldyBOb2RlKCB7IHRhZ05hbWU6ICdkaXYnIH0gKTtcclxuICBjb25zdCBkaXNwbGF5ID0gbmV3IERpc3BsYXkoIHJvb3ROb2RlICk7XHJcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCggZGlzcGxheS5kb21FbGVtZW50ICk7XHJcblxyXG4gIGNvbnN0IGJ1dHRvbk5vZGUgPSBuZXcgUmVjdGFuZ2xlKCA1LCA1LCA1LCA1LCB7IHRhZ05hbWU6ICdidXR0b24nLCBwb3NpdGlvbkluUERPTTogdHJ1ZSB9ICk7XHJcbiAgY29uc3QgdHJhbnNmb3JtU291cmNlTm9kZSA9IG5ldyBSZWN0YW5nbGUoIDAsIDAsIDI1LCAyNSApO1xyXG5cclxuICByb290Tm9kZS5hZGRDaGlsZCggYnV0dG9uTm9kZSApO1xyXG4gIHJvb3ROb2RlLmFkZENoaWxkKCB0cmFuc2Zvcm1Tb3VyY2VOb2RlICk7XHJcblxyXG4gIC8vIHVwZGF0ZSB0aGUgZGlzcGxheSB0byBwb3NpdGlvbiBlbGVtZW50c1xyXG4gIGRpc3BsYXkudXBkYXRlRGlzcGxheSgpO1xyXG4gIGFzc2VydC5vayggc2libGluZ0JvdW5kc0NvcnJlY3QoIGJ1dHRvbk5vZGUgKSwgJ2J1dHRvbiBlbGVtZW50IGNoaWxkIG9mIHJvb3QgY29ycmVjdGx5IHBvc2l0aW9uZWQnICk7XHJcblxyXG4gIGNvbnN0IHNpYmxpbmdCb3VuZHNCZWZvcmUgPSBnZXRTaWJsaW5nQm91bmRzKCBidXR0b25Ob2RlICk7XHJcblxyXG4gIC8vIHRlc3Qgc2V0dGluZyB0cmFuc2Zvcm0gc291cmNlIE5vZGVcclxuICBidXR0b25Ob2RlLnBkb21UcmFuc2Zvcm1Tb3VyY2VOb2RlID0gdHJhbnNmb3JtU291cmNlTm9kZTtcclxuXHJcbiAgLy8gdXBkYXRlIHRoZSBkaXNwbGF5IHRvIHBvc2l0aW9uIGVsZW1lbnRzXHJcbiAgZGlzcGxheS51cGRhdGVEaXNwbGF5KCk7XHJcblxyXG4gIGFzc2VydC5vayggc2libGluZ0JvdW5kc0NvcnJlY3QoIGJ1dHRvbk5vZGUgKSwgJ2J1dHRvbiBlbGVtZW50IHRyYW5zZm9ybWVkIHdpdGggdHJhbnNmb3JtIHNvdXJjZSBOb2RlJyApO1xyXG4gIGFzc2VydC5vayggIXNpYmxpbmdCb3VuZHNCZWZvcmUuZXF1YWxzKCBnZXRTaWJsaW5nQm91bmRzKCBidXR0b25Ob2RlICkgKSwgJ3NpYmxpbmcgYm91bmRzIHNob3VsZCBoYXZlIGNoYW5nZWQgYWZ0ZXIgc2V0dGluZyB0cmFuc2Zvcm0gc291cmNlJyApO1xyXG5cclxuICAvLyByZXBvc2l0aW9uIHRoZSBidXR0b25Ob2RlIC0gcGRvbSBzaWJsaW5nIHNob3VsZCBOT1QgcmVwb3NpdGlvblxyXG4gIGNvbnN0IHNpYmxpbmdCb3VuZHNCZWZvcmVOb2RlUmVwb3NpdGlvbiA9IGdldFNpYmxpbmdCb3VuZHMoIGJ1dHRvbk5vZGUgKTtcclxuICBidXR0b25Ob2RlLnNldFgoIDEwMCApO1xyXG4gIGJ1dHRvbk5vZGUuc2V0WSggMTAwICk7XHJcbiAgZGlzcGxheS51cGRhdGVEaXNwbGF5KCk7XHJcbiAgYXNzZXJ0Lm9rKCBzaWJsaW5nQm91bmRzQ29ycmVjdCggYnV0dG9uTm9kZSApLCAnc2libGluZyBib3VuZHMgY29ycmVjdCBhZnRlciBub2RlIHJlcG9zaXRpb25lZCcgKTtcclxuICBhc3NlcnQub2soIHNpYmxpbmdCb3VuZHNCZWZvcmVOb2RlUmVwb3NpdGlvbi5lcXVhbHMoIGdldFNpYmxpbmdCb3VuZHMoIGJ1dHRvbk5vZGUgKSApLCAndHJhbnNmb3JtIHNvdXJjZSBkaWRudCBjaGFuZ2UsIHByaW1hcnkgc2libGluZyBzaG91bGQgbm90IHJlcG9zaXRpb24nICk7XHJcblxyXG4gIC8vIHJlcG9zaXRpb24gdGhlIHRyYW5zZm9ybSBzb3VyY2UgLSBwZG9tIHNpYmxpbmcgU0hPVUxEIHJlcG9zaXRpb25cclxuICBjb25zdCBzaWJsaW5nQm91bmRzQmVmb3JlU291cmNlUmVwb3NpdGlvbiA9IGdldFNpYmxpbmdCb3VuZHMoIGJ1dHRvbk5vZGUgKTtcclxuICB0cmFuc2Zvcm1Tb3VyY2VOb2RlLnNldFgoIDUwICk7XHJcbiAgdHJhbnNmb3JtU291cmNlTm9kZS5zZXRYKCA1MCApO1xyXG4gIGRpc3BsYXkudXBkYXRlRGlzcGxheSgpO1xyXG4gIGFzc2VydC5vayggc2libGluZ0JvdW5kc0NvcnJlY3QoIGJ1dHRvbk5vZGUgKSwgJ3NpYmxpbmcgYm91bmRzIGNvcnJlY3QgYWZ0ZXIgc291cmNlIG5vZGUgcmVwb3NpdGlvbmVkJyApO1xyXG4gIGFzc2VydC5vayggIXNpYmxpbmdCb3VuZHNCZWZvcmVTb3VyY2VSZXBvc2l0aW9uLmVxdWFscyggZ2V0U2libGluZ0JvdW5kcyggYnV0dG9uTm9kZSApICksICd0cmFuc2Zvcm0gc291cmNlIGRpZG50IGNoYW5nZSwgcHJpbWFyeSBzaWJsaW5nIHNob3VsZCBub3QgcmVwb3NpdGlvbicgKTtcclxuXHJcbiAgLy8gcmVtb3ZlIHRoZSBkaXNwbGF5IGVsZW1lbnQgc28gaXQgZG9lc24ndCBpbnRlcmZlcmUgd2l0aCBxdW5pdCBBUElcclxuICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKCBkaXNwbGF5LmRvbUVsZW1lbnQgKTtcclxuICBkaXNwbGF5LmRpc3Bvc2UoKTtcclxuXHJcbn0gKTtcclxuXHJcblFVbml0LnRlc3QoICdzZXRQb3NpdGlvbkVsZW1lbnRzIHRlc3QnLCBhc3NlcnQgPT4ge1xyXG4gIGNvbnN0IHJvb3ROb2RlID0gbmV3IE5vZGUoIHsgdGFnTmFtZTogJ2RpdicgfSApO1xyXG4gIGNvbnN0IGRpc3BsYXkgPSBuZXcgRGlzcGxheSggcm9vdE5vZGUgKTtcclxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKCBkaXNwbGF5LmRvbUVsZW1lbnQgKTtcclxuXHJcbiAgY29uc3QgYnV0dG9uTm9kZSA9IG5ldyBSZWN0YW5nbGUoIDUsIDUsIDUsIDUsIHsgdGFnTmFtZTogJ2J1dHRvbicsIHBvc2l0aW9uSW5QRE9NOiB0cnVlIH0gKTtcclxuICByb290Tm9kZS5hZGRDaGlsZCggYnV0dG9uTm9kZSApO1xyXG5cclxuICBkaXNwbGF5LnVwZGF0ZURpc3BsYXkoKTtcclxuICBhc3NlcnQub2soIHNpYmxpbmdCb3VuZHNDb3JyZWN0KCBidXR0b25Ob2RlICksICdzaWJsaW5nIGJvdW5kcyBpbml0aWFsbHkgY29ycmVjdCcgKTtcclxuXHJcbiAgYnV0dG9uTm9kZS5zZXRQb3NpdGlvbkluUERPTSggZmFsc2UgKTtcclxuICBkaXNwbGF5LnVwZGF0ZURpc3BsYXkoKTtcclxuICBhc3NlcnQub2soIHNpYmxpbmdCb3VuZHNDb3JyZWN0KCBidXR0b25Ob2RlICksICdzaWJsaW5nIGJvdW5kcyBjb3JyZWN0IGFmdGVyIHBvc2l0aW9uSW5QRE9NIGZhbHNlJyApO1xyXG5cclxuICBidXR0b25Ob2RlLnNldFBvc2l0aW9uSW5QRE9NKCB0cnVlICk7XHJcbiAgZGlzcGxheS51cGRhdGVEaXNwbGF5KCk7XHJcbiAgYXNzZXJ0Lm9rKCBzaWJsaW5nQm91bmRzQ29ycmVjdCggYnV0dG9uTm9kZSApLCAnc2libGluZyBib3VuZHMgcmVwb3NpdGlvbmVkIGFmdGVyIHBvc2l0aW9uSW5QRE9NIHRydWUnICk7XHJcblxyXG4gIC8vIHJlbW92ZSB0aGUgZGlzcGxheSBlbGVtZW50IHNvIGl0IGRvZXNuJ3QgaW50ZXJmZXJlIHdpdGggcXVuaXQgQVBJXHJcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCggZGlzcGxheS5kb21FbGVtZW50ICk7XHJcbiAgZGlzcGxheS5kaXNwb3NlKCk7XHJcbn0gKTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsT0FBTyxNQUFNLCtCQUErQjtBQUNuRCxPQUFPQyxPQUFPLE1BQU0sK0JBQStCO0FBQ25ELE9BQU9DLE9BQU8sTUFBTSwwQkFBMEI7QUFDOUMsT0FBT0MsSUFBSSxNQUFNLHFCQUFxQjtBQUN0QyxPQUFPQyxTQUFTLE1BQU0sMEJB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