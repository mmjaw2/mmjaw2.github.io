// Copyright 2023, University of Colorado Boulder

/**
 * A cache that helps reuse parametric IOTypes so they aren't dynamic created upon each usage. This also has the feature
 * of keeping a registry of all caches. This is predominantly used to clear an API and start over in phetioEngine.
 *
 * @author Michael Kauzmann (PhET Interactive Simulations)
 * @author Sam Reid (PhET Interactive Simulations)
 */

import tandemNamespace from './tandemNamespace.js';
// By default, the cache key is an IOType (like for a single parameter like PropertyIO)
class IOTypeCache extends Map {
  static caches = [];
  constructor(entries) {
    super(entries);
    IOTypeCache.caches.push(this);
  }
  static clearAll() {
    IOTypeCache.caches.forEach(cache => cache.clear());
  }
}
tandemNamespace.register('IOTypeCache', IOTypeCache);
export default IOTypeCache;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ0YW5kZW1OYW1lc3BhY2UiLCJJT1R5cGVDYWNoZSIsIk1hcCIsImNhY2hlcyIsImNvbnN0cnVjdG9yIiwiZW50cmllcyIsInB1c2giLCJjbGVhckFsbCIsImZvckVhY2giLCJjYWNoZSIsImNsZWFyIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJJT1R5cGVDYWNoZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogQSBjYWNoZSB0aGF0IGhlbHBzIHJldXNlIHBhcmFtZXRyaWMgSU9UeXBlcyBzbyB0aGV5IGFyZW4ndCBkeW5hbWljIGNyZWF0ZWQgdXBvbiBlYWNoIHVzYWdlLiBUaGlzIGFsc28gaGFzIHRoZSBmZWF0dXJlXHJcbiAqIG9mIGtlZXBpbmcgYSByZWdpc3RyeSBvZiBhbGwgY2FjaGVzLiBUaGlzIGlzIHByZWRvbWluYW50bHkgdXNlZCB0byBjbGVhciBhbiBBUEkgYW5kIHN0YXJ0IG92ZXIgaW4gcGhldGlvRW5naW5lLlxyXG4gKlxyXG4gKiBAYXV0aG9yIE1pY2hhZWwgS2F1em1hbm4gKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqIEBhdXRob3IgU2FtIFJlaWQgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IHR5cGUgSU9UeXBlIGZyb20gJy4vdHlwZXMvSU9UeXBlLmpzJztcclxuaW1wb3J0IHRhbmRlbU5hbWVzcGFjZSBmcm9tICcuL3RhbmRlbU5hbWVzcGFjZS5qcyc7XHJcbmltcG9ydCBJbnRlbnRpb25hbEFueSBmcm9tICcuLi8uLi9waGV0LWNvcmUvanMvdHlwZXMvSW50ZW50aW9uYWxBbnkuanMnO1xyXG5cclxuXHJcbi8vIEJ5IGRlZmF1bHQsIHRoZSBjYWNoZSBrZXkgaXMgYW4gSU9UeXBlIChsaWtlIGZvciBhIHNpbmdsZSBwYXJhbWV0ZXIgbGlrZSBQcm9wZXJ0eUlPKVxyXG5jbGFzcyBJT1R5cGVDYWNoZTxUID0gSU9UeXBlPiBleHRlbmRzIE1hcDxULCBJT1R5cGU+IHtcclxuXHJcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgY2FjaGVzOiBJT1R5cGVDYWNoZTxJbnRlbnRpb25hbEFueT5bXSA9IFtdO1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIGVudHJpZXM/OiByZWFkb25seSAoIHJlYWRvbmx5IFsgVCwgSU9UeXBlIF0gKVtdIHwgbnVsbCApIHtcclxuICAgIHN1cGVyKCBlbnRyaWVzICk7XHJcblxyXG4gICAgSU9UeXBlQ2FjaGUuY2FjaGVzLnB1c2goIHRoaXMgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgY2xlYXJBbGwoKTogdm9pZCB7XHJcbiAgICBJT1R5cGVDYWNoZS5jYWNoZXMuZm9yRWFjaCggY2FjaGUgPT4gY2FjaGUuY2xlYXIoKSApO1xyXG4gIH1cclxufVxyXG5cclxudGFuZGVtTmFtZXNwYWNlLnJlZ2lzdGVyKCAnSU9UeXBlQ2FjaGUnLCBJT1R5cGVDYWNoZSApO1xyXG5leHBvcnQgZGVmYXVsdCBJT1R5cGVDYWNoZTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBLE9BQU9BLGVBQWUsTUFBTSxzQkFBc0I7QUFJbEQ7QUFDQSxNQUFNQyxXQUFXLFNBQXFCQyxHQUFHLENBQVk7RUFFbkQsT0FBd0JDLE1BQU0sR0FBa0MsRUFBRTtFQUUzREMsV0FBV0EsQ0FBRUMsT0FBc0QsRUFBRztJQUMzRSxLQUFLLENBQUVBLE9BQVEsQ0FBQztJQUVoQkosV0FBVyxDQUFDRSxNQUFNLENBQUNHLElBQUksQ0FBRSxJQUFLLENBQUM7RUFDakM7RUFFQSxPQUFjQyxRQUFRQSxDQUFBLEVBQVM7SUFDN0JOLFdBQVcsQ0FBQ0UsTUFBTSxDQUFDSyxPQUFPLENBQUVDLEtBQUssSUFBSUEsS0FBSyxDQUFDQyxLQUFLLENBQUMsQ0FBRSxDQUFDO0VBQ3REO0FBQ0Y7QUFFQVYsZUFBZSxDQUFDVyxRQUFRLENBQUUsYUFBYSxFQUFFVixXQUFZLENBQUM7QUFDdEQsZUFBZUEsV0FBVyIsImlnbm9yZUxpc3QiOltdfQ==