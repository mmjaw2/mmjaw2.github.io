// Copyright 2022-2024, University of Colorado Boulder

/**
 * A TinyProperty that will take the value of a target Property until it is set to a value. When that happens, it will
 * be its own standalone Property.
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import axon from './axon.js';
import TinyProperty from './TinyProperty.js';
export default class TinyOverrideProperty extends TinyProperty {
  // If true, we ignore our targetProperty and just use our value. If false, we only report the value of the
  // targetProperty
  isOverridden = false;
  constructor(targetProperty) {
    super(targetProperty.value);
    this._targetProperty = targetProperty;
    assert && assert(!this.isOverridden, 'Should not be overridden on startup');

    // We'll need to listen to our target to dispatch notifications
    this._targetListener = this.onTargetPropertyChange.bind(this);
    this._targetProperty.lazyLink(this._targetListener);
  }
  set targetProperty(targetProperty) {
    this.setTargetProperty(targetProperty);
  }
  setTargetProperty(targetProperty) {
    // no-op if it's the same Property
    if (this.targetProperty === targetProperty) {
      return;
    }
    const oldValue = this.value;

    // Listeners are only connected if we are NOT overridden
    if (!this.isOverridden) {
      this._targetProperty.unlink(this._targetListener);
    }
    this._targetProperty = targetProperty;

    // Listeners are only connected if we are NOT overridden
    if (!this.isOverridden) {
      this._targetProperty.lazyLink(this._targetListener);

      // If we are overridden, changing the targetProperty will not trigger notifications
      if (!this.equalsValue(oldValue)) {
        this.notifyListeners(oldValue);
      }
    }
  }

  /**
   * Remove the "overridden" nature of this Property, so that it takes on the appearance of the targetProperty
   */
  clearOverride() {
    if (this.isOverridden) {
      const oldValue = this.value;
      this.isOverridden = false;
      this._targetProperty.lazyLink(this._targetListener);

      // This could change our value!
      if (!this.equalsValue(oldValue)) {
        this.notifyListeners(oldValue);
      }
    }
  }
  get() {
    // The main logic for TinyOverrideProperty
    return this.isOverridden ? this._value : this._targetProperty.value;
  }
  set(value) {
    if (!this.isOverridden) {
      // Grab the last value of the Property, as it will be "active" after this
      this._value = this._targetProperty.value;
    }
    super.set(value);
  }
  setPropertyValue(value) {
    // Switch to "override"
    if (!this.isOverridden) {
      this.isOverridden = true;
      this._targetProperty.unlink(this._targetListener);
    }
    super.setPropertyValue(value);
  }

  // We have to override here to have the getter called
  equalsValue(value) {
    return this.areValuesEqual(value, this.value);
  }
  onTargetPropertyChange(newValue, oldValue) {
    if (!this.isOverridden) {
      this.notifyListeners(oldValue);
    }
  }

  // Overridden, since we need to call our getter
  notifyListeners(oldValue) {
    this.emit(this.value, oldValue, this);
  }
  dispose() {
    // If we've been overridden, we will already have removed the listener
    if (!this.isOverridden) {
      this._targetProperty.unlink(this._targetListener);
    }
    super.dispose();
  }
}
axon.register('TinyOverrideProperty', TinyOverrideProperty);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJheG9uIiwiVGlueVByb3BlcnR5IiwiVGlueU92ZXJyaWRlUHJvcGVydHkiLCJpc092ZXJyaWRkZW4iLCJjb25zdHJ1Y3RvciIsInRhcmdldFByb3BlcnR5IiwidmFsdWUiLCJfdGFyZ2V0UHJvcGVydHkiLCJhc3NlcnQiLCJfdGFyZ2V0TGlzdGVuZXIiLCJvblRhcmdldFByb3BlcnR5Q2hhbmdlIiwiYmluZCIsImxhenlMaW5rIiwic2V0VGFyZ2V0UHJvcGVydHkiLCJvbGRWYWx1ZSIsInVubGluayIsImVxdWFsc1ZhbHVlIiwibm90aWZ5TGlzdGVuZXJzIiwiY2xlYXJPdmVycmlkZSIsImdldCIsIl92YWx1ZSIsInNldCIsInNldFByb3BlcnR5VmFsdWUiLCJhcmVWYWx1ZXNFcXVhbCIsIm5ld1ZhbHVlIiwiZW1pdCIsImRpc3Bvc2UiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIlRpbnlPdmVycmlkZVByb3BlcnR5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIyLTIwMjQsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIEEgVGlueVByb3BlcnR5IHRoYXQgd2lsbCB0YWtlIHRoZSB2YWx1ZSBvZiBhIHRhcmdldCBQcm9wZXJ0eSB1bnRpbCBpdCBpcyBzZXQgdG8gYSB2YWx1ZS4gV2hlbiB0aGF0IGhhcHBlbnMsIGl0IHdpbGxcclxuICogYmUgaXRzIG93biBzdGFuZGFsb25lIFByb3BlcnR5LlxyXG4gKlxyXG4gKiBAYXV0aG9yIEpvbmF0aGFuIE9sc29uIDxqb25hdGhhbi5vbHNvbkBjb2xvcmFkby5lZHU+XHJcbiAqL1xyXG5cclxuaW1wb3J0IGF4b24gZnJvbSAnLi9heG9uLmpzJztcclxuaW1wb3J0IFRpbnlQcm9wZXJ0eSBmcm9tICcuL1RpbnlQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBUUmVhZE9ubHlQcm9wZXJ0eSBmcm9tICcuL1RSZWFkT25seVByb3BlcnR5LmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbnlPdmVycmlkZVByb3BlcnR5PFQ+IGV4dGVuZHMgVGlueVByb3BlcnR5PFQ+IHtcclxuXHJcbiAgLy8gSWYgdHJ1ZSwgd2UgaWdub3JlIG91ciB0YXJnZXRQcm9wZXJ0eSBhbmQganVzdCB1c2Ugb3VyIHZhbHVlLiBJZiBmYWxzZSwgd2Ugb25seSByZXBvcnQgdGhlIHZhbHVlIG9mIHRoZVxyXG4gIC8vIHRhcmdldFByb3BlcnR5XHJcbiAgcHVibGljIGlzT3ZlcnJpZGRlbiA9IGZhbHNlO1xyXG5cclxuICBwcml2YXRlIF90YXJnZXRQcm9wZXJ0eTogVFJlYWRPbmx5UHJvcGVydHk8VD47XHJcbiAgcHJpdmF0ZSByZWFkb25seSBfdGFyZ2V0TGlzdGVuZXI6ICggbmV3VmFsdWU6IFQsIG9sZFZhbHVlOiBUICkgPT4gdm9pZDtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCB0YXJnZXRQcm9wZXJ0eTogVFJlYWRPbmx5UHJvcGVydHk8VD4gKSB7XHJcbiAgICBzdXBlciggdGFyZ2V0UHJvcGVydHkudmFsdWUgKTtcclxuXHJcbiAgICB0aGlzLl90YXJnZXRQcm9wZXJ0eSA9IHRhcmdldFByb3BlcnR5O1xyXG5cclxuICAgIGFzc2VydCAmJiBhc3NlcnQoICF0aGlzLmlzT3ZlcnJpZGRlbiwgJ1Nob3VsZCBub3QgYmUgb3ZlcnJpZGRlbiBvbiBzdGFydHVwJyApO1xyXG5cclxuICAgIC8vIFdlJ2xsIG5lZWQgdG8gbGlzdGVuIHRvIG91ciB0YXJnZXQgdG8gZGlzcGF0Y2ggbm90aWZpY2F0aW9uc1xyXG4gICAgdGhpcy5fdGFyZ2V0TGlzdGVuZXIgPSB0aGlzLm9uVGFyZ2V0UHJvcGVydHlDaGFuZ2UuYmluZCggdGhpcyApO1xyXG4gICAgdGhpcy5fdGFyZ2V0UHJvcGVydHkubGF6eUxpbmsoIHRoaXMuX3RhcmdldExpc3RlbmVyICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0IHRhcmdldFByb3BlcnR5KCB0YXJnZXRQcm9wZXJ0eTogVFJlYWRPbmx5UHJvcGVydHk8VD4gKSB7XHJcbiAgICB0aGlzLnNldFRhcmdldFByb3BlcnR5KCB0YXJnZXRQcm9wZXJ0eSApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldFRhcmdldFByb3BlcnR5KCB0YXJnZXRQcm9wZXJ0eTogVFJlYWRPbmx5UHJvcGVydHk8VD4gKTogdm9pZCB7XHJcbiAgICAvLyBuby1vcCBpZiBpdCdzIHRoZSBzYW1lIFByb3BlcnR5XHJcbiAgICBpZiAoIHRoaXMudGFyZ2V0UHJvcGVydHkgPT09IHRhcmdldFByb3BlcnR5ICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLnZhbHVlO1xyXG5cclxuICAgIC8vIExpc3RlbmVycyBhcmUgb25seSBjb25uZWN0ZWQgaWYgd2UgYXJlIE5PVCBvdmVycmlkZGVuXHJcbiAgICBpZiAoICF0aGlzLmlzT3ZlcnJpZGRlbiApIHtcclxuICAgICAgdGhpcy5fdGFyZ2V0UHJvcGVydHkudW5saW5rKCB0aGlzLl90YXJnZXRMaXN0ZW5lciApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX3RhcmdldFByb3BlcnR5ID0gdGFyZ2V0UHJvcGVydHk7XHJcblxyXG4gICAgLy8gTGlzdGVuZXJzIGFyZSBvbmx5IGNvbm5lY3RlZCBpZiB3ZSBhcmUgTk9UIG92ZXJyaWRkZW5cclxuICAgIGlmICggIXRoaXMuaXNPdmVycmlkZGVuICkge1xyXG4gICAgICB0aGlzLl90YXJnZXRQcm9wZXJ0eS5sYXp5TGluayggdGhpcy5fdGFyZ2V0TGlzdGVuZXIgKTtcclxuXHJcbiAgICAgIC8vIElmIHdlIGFyZSBvdmVycmlkZGVuLCBjaGFuZ2luZyB0aGUgdGFyZ2V0UHJvcGVydHkgd2lsbCBub3QgdHJpZ2dlciBub3RpZmljYXRpb25zXHJcbiAgICAgIGlmICggIXRoaXMuZXF1YWxzVmFsdWUoIG9sZFZhbHVlICkgKSB7XHJcbiAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoIG9sZFZhbHVlICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZSB0aGUgXCJvdmVycmlkZGVuXCIgbmF0dXJlIG9mIHRoaXMgUHJvcGVydHksIHNvIHRoYXQgaXQgdGFrZXMgb24gdGhlIGFwcGVhcmFuY2Ugb2YgdGhlIHRhcmdldFByb3BlcnR5XHJcbiAgICovXHJcbiAgcHVibGljIGNsZWFyT3ZlcnJpZGUoKTogdm9pZCB7XHJcbiAgICBpZiAoIHRoaXMuaXNPdmVycmlkZGVuICkge1xyXG4gICAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXMudmFsdWU7XHJcblxyXG4gICAgICB0aGlzLmlzT3ZlcnJpZGRlbiA9IGZhbHNlO1xyXG4gICAgICB0aGlzLl90YXJnZXRQcm9wZXJ0eS5sYXp5TGluayggdGhpcy5fdGFyZ2V0TGlzdGVuZXIgKTtcclxuXHJcbiAgICAgIC8vIFRoaXMgY291bGQgY2hhbmdlIG91ciB2YWx1ZSFcclxuICAgICAgaWYgKCAhdGhpcy5lcXVhbHNWYWx1ZSggb2xkVmFsdWUgKSApIHtcclxuICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyggb2xkVmFsdWUgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIG92ZXJyaWRlIGdldCgpOiBUIHtcclxuICAgIC8vIFRoZSBtYWluIGxvZ2ljIGZvciBUaW55T3ZlcnJpZGVQcm9wZXJ0eVxyXG4gICAgcmV0dXJuIHRoaXMuaXNPdmVycmlkZGVuID8gdGhpcy5fdmFsdWUgOiB0aGlzLl90YXJnZXRQcm9wZXJ0eS52YWx1ZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBvdmVycmlkZSBzZXQoIHZhbHVlOiBUICk6IHZvaWQge1xyXG4gICAgaWYgKCAhdGhpcy5pc092ZXJyaWRkZW4gKSB7XHJcbiAgICAgIC8vIEdyYWIgdGhlIGxhc3QgdmFsdWUgb2YgdGhlIFByb3BlcnR5LCBhcyBpdCB3aWxsIGJlIFwiYWN0aXZlXCIgYWZ0ZXIgdGhpc1xyXG4gICAgICB0aGlzLl92YWx1ZSA9IHRoaXMuX3RhcmdldFByb3BlcnR5LnZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHN1cGVyLnNldCggdmFsdWUgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBvdmVycmlkZSBzZXRQcm9wZXJ0eVZhbHVlKCB2YWx1ZTogVCApOiB2b2lkIHtcclxuICAgIC8vIFN3aXRjaCB0byBcIm92ZXJyaWRlXCJcclxuICAgIGlmICggIXRoaXMuaXNPdmVycmlkZGVuICkge1xyXG4gICAgICB0aGlzLmlzT3ZlcnJpZGRlbiA9IHRydWU7XHJcbiAgICAgIHRoaXMuX3RhcmdldFByb3BlcnR5LnVubGluayggdGhpcy5fdGFyZ2V0TGlzdGVuZXIgKTtcclxuICAgIH1cclxuXHJcbiAgICBzdXBlci5zZXRQcm9wZXJ0eVZhbHVlKCB2YWx1ZSApO1xyXG4gIH1cclxuXHJcbiAgLy8gV2UgaGF2ZSB0byBvdmVycmlkZSBoZXJlIHRvIGhhdmUgdGhlIGdldHRlciBjYWxsZWRcclxuICBwcm90ZWN0ZWQgb3ZlcnJpZGUgZXF1YWxzVmFsdWUoIHZhbHVlOiBUICk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuYXJlVmFsdWVzRXF1YWwoIHZhbHVlLCB0aGlzLnZhbHVlICk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uVGFyZ2V0UHJvcGVydHlDaGFuZ2UoIG5ld1ZhbHVlOiBULCBvbGRWYWx1ZTogVCApOiB2b2lkIHtcclxuICAgIGlmICggIXRoaXMuaXNPdmVycmlkZGVuICkge1xyXG4gICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyggb2xkVmFsdWUgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIE92ZXJyaWRkZW4sIHNpbmNlIHdlIG5lZWQgdG8gY2FsbCBvdXIgZ2V0dGVyXHJcbiAgcHVibGljIG92ZXJyaWRlIG5vdGlmeUxpc3RlbmVycyggb2xkVmFsdWU6IFQgKTogdm9pZCB7XHJcbiAgICB0aGlzLmVtaXQoIHRoaXMudmFsdWUsIG9sZFZhbHVlLCB0aGlzICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgb3ZlcnJpZGUgZGlzcG9zZSgpOiB2b2lkIHtcclxuICAgIC8vIElmIHdlJ3ZlIGJlZW4gb3ZlcnJpZGRlbiwgd2Ugd2lsbCBhbHJlYWR5IGhhdmUgcmVtb3ZlZCB0aGUgbGlzdGVuZXJcclxuICAgIGlmICggIXRoaXMuaXNPdmVycmlkZGVuICkge1xyXG4gICAgICB0aGlzLl90YXJnZXRQcm9wZXJ0eS51bmxpbmsoIHRoaXMuX3RhcmdldExpc3RlbmVyICk7XHJcbiAgICB9XHJcblxyXG4gICAgc3VwZXIuZGlzcG9zZSgpO1xyXG4gIH1cclxufVxyXG5cclxuYXhvbi5yZWdpc3RlciggJ1RpbnlPdmVycmlkZVByb3BlcnR5JywgVGlueU92ZXJyaWRlUHJvcGVydHkgKTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxJQUFJLE1BQU0sV0FBVztBQUM1QixPQUFPQyxZQUFZLE1BQU0sbUJBQW1CO0FBRzVDLGVBQWUsTUFBTUMsb0JBQW9CLFNBQVlELFlBQVksQ0FBSTtFQUVuRTtFQUNBO0VBQ09FLFlBQVksR0FBRyxLQUFLO0VBS3BCQyxXQUFXQSxDQUFFQyxjQUFvQyxFQUFHO0lBQ3pELEtBQUssQ0FBRUEsY0FBYyxDQUFDQyxLQUFNLENBQUM7SUFFN0IsSUFBSSxDQUFDQyxlQUFlLEdBQUdGLGNBQWM7SUFFckNHLE1BQU0sSUFBSUEsTUFBTSxDQUFFLENBQUMsSUFBSSxDQUFDTCxZQUFZLEVBQUUscUNBQXNDLENBQUM7O0lBRTdFO0lBQ0EsSUFBSSxDQUFDTSxlQUFlLEdBQUcsSUFBSSxDQUFDQyxzQkFBc0IsQ0FBQ0MsSUFBSSxDQUFFLElBQUssQ0FBQztJQUMvRCxJQUFJLENBQUNKLGVBQWUsQ0FBQ0ssUUFBUSxDQUFFLElBQUksQ0FBQ0gsZUFBZ0IsQ0FBQztFQUN2RDtFQUVBLElBQVdKLGNBQWNBLENBQUVBLGNBQW9DLEVBQUc7SUFDaEUsSUFBSSxDQUFDUSxpQkFBaUIsQ0FBRVIsY0FBZSxDQUFDO0VBQzFDO0VB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