// Copyright 2022-2024, University of Colorado Boulder

/**
 * QUnit tests for TinyOverrideProperty
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import TinyProperty from './TinyProperty.js';
import TinyOverrideProperty from './TinyOverrideProperty.js';
QUnit.module('TinyOverrideProperty');
QUnit.test('TinyOverrideProperty Basics', assert => {
  const property = new TinyProperty('x');
  const overrideProperty = new TinyOverrideProperty(property);
  let lastNewValue;
  let lastOldValue;
  overrideProperty.lazyLink((newValue, oldValue) => {
    console.log(newValue, oldValue);
    lastNewValue = newValue;
    lastOldValue = oldValue;
  });
  assert.equal(property.value, 'x');
  assert.equal(overrideProperty.value, 'x');
  property.value = 'y';
  assert.equal(property.value, 'y');
  assert.equal(overrideProperty.value, 'y', 'We follow target Property changes originally');
  assert.equal(lastNewValue, 'y');
  assert.equal(lastOldValue, 'x');
  overrideProperty.value = 'z';
  assert.equal(property.value, 'y', 'Setting the override should not modify the original');
  assert.equal(overrideProperty.value, 'z', 'Our value should have diverged');
  assert.equal(lastNewValue, 'z');
  assert.equal(lastOldValue, 'y');
  property.value = 'w';
  assert.equal(property.value, 'w');
  assert.equal(overrideProperty.value, 'z', 'We should be overridden, so we ignore the Property');
});
QUnit.test('TinyOverrideProperty targetProperty change', assert => {
  const tiny1Property = new TinyProperty('x');
  const tiny2Property = new TinyProperty('a');
  const overrideProperty = new TinyOverrideProperty(tiny1Property);
  let lastNewValue;
  let lastOldValue;
  overrideProperty.lazyLink((newValue, oldValue) => {
    console.log(newValue, oldValue);
    lastNewValue = newValue;
    lastOldValue = oldValue;
  });
  assert.equal(tiny1Property.value, 'x');
  assert.equal(overrideProperty.value, 'x');
  tiny1Property.value = 'y';
  assert.equal(tiny1Property.value, 'y');
  assert.equal(overrideProperty.value, 'y', 'We follow target Property changes originally');
  assert.equal(lastNewValue, 'y');
  assert.equal(lastOldValue, 'x');
  overrideProperty.targetProperty = tiny2Property;
  assert.equal(tiny2Property.value, 'a');
  assert.equal(overrideProperty.value, 'a', 'Switching target properties should result in a change');
  assert.equal(lastNewValue, 'a');
  assert.equal(lastOldValue, 'y');
  tiny2Property.value = 'b';
  assert.equal(tiny2Property.value, 'b');
  assert.equal(overrideProperty.value, 'b', 'We follow our new target Property changes originally');
  assert.equal(lastNewValue, 'b');
  assert.equal(lastOldValue, 'a');
  overrideProperty.value = 'z';
  assert.equal(tiny2Property.value, 'b', 'Setting the override should not modify the original');
  assert.equal(overrideProperty.value, 'z', 'Our value should have diverged');
  assert.equal(lastNewValue, 'z');
  assert.equal(lastOldValue, 'b');
  tiny2Property.value = 'c';
  assert.equal(tiny2Property.value, 'c');
  assert.equal(overrideProperty.value, 'z', 'We should be overridden, so we ignore the Property');
});
QUnit.test('TinyOverrideProperty targetProperty change', assert => {
  const tiny1Property = new TinyProperty('x');
  const tiny2Property = new TinyProperty('a');
  const overrideProperty = new TinyOverrideProperty(tiny1Property);
  let lastNewValue;
  let lastOldValue;
  overrideProperty.lazyLink((newValue, oldValue) => {
    console.log(newValue, oldValue);
    lastNewValue = newValue;
    lastOldValue = oldValue;
  });
  assert.equal(tiny1Property.value, 'x');
  assert.equal(overrideProperty.value, 'x');
  tiny1Property.value = 'y';
  assert.equal(tiny1Property.value, 'y');
  assert.equal(overrideProperty.value, 'y', 'We follow target Property changes originally');
  assert.equal(lastNewValue, 'y');
  assert.equal(lastOldValue, 'x');
  overrideProperty.targetProperty = tiny2Property;
  assert.equal(tiny2Property.value, 'a');
  assert.equal(overrideProperty.value, 'a', 'Switching target properties should result in a change');
  assert.equal(lastNewValue, 'a');
  assert.equal(lastOldValue, 'y');
  tiny2Property.value = 'b';
  assert.equal(tiny2Property.value, 'b');
  assert.equal(overrideProperty.value, 'b', 'We follow our new target Property changes originally');
  assert.equal(lastNewValue, 'b');
  assert.equal(lastOldValue, 'a');
  overrideProperty.value = 'z';
  assert.equal(tiny2Property.value, 'b', 'Setting the override should not modify the original');
  assert.equal(overrideProperty.value, 'z', 'Our value should have diverged');
  assert.equal(lastNewValue, 'z');
  assert.equal(lastOldValue, 'b');
  tiny2Property.value = 'c';
  assert.equal(tiny2Property.value, 'c');
  assert.equal(overrideProperty.value, 'z', 'We should be overridden, so we ignore the Property');
});
QUnit.test('TinyOverrideProperty no notify on targetProperty change with same value', assert => {
  const tiny1Property = new TinyProperty('f');
  const tiny2Property = new TinyProperty('f');
  const overrideProperty = new TinyOverrideProperty(tiny1Property);
  let notified = false;
  overrideProperty.lazyLink((newValue, oldValue) => {
    notified = true;
  });
  overrideProperty.targetProperty = tiny2Property;
  assert.equal(notified, false);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJUaW55UHJvcGVydHkiLCJUaW55T3ZlcnJpZGVQcm9wZXJ0eSIsIlFVbml0IiwibW9kdWxlIiwidGVzdCIsImFzc2VydCIsInByb3BlcnR5Iiwib3ZlcnJpZGVQcm9wZXJ0eSIsImxhc3ROZXdWYWx1ZSIsImxhc3RPbGRWYWx1ZSIsImxhenlMaW5rIiwibmV3VmFsdWUiLCJvbGRWYWx1ZSIsImNvbnNvbGUiLCJsb2ciLCJlcXVhbCIsInZhbHVlIiwidGlueTFQcm9wZXJ0eSIsInRpbnkyUHJvcGVydHkiLCJ0YXJnZXRQcm9wZXJ0eSIsIm5vdGlmaWVkIl0sInNvdXJjZXMiOlsiVGlueU92ZXJyaWRlUHJvcGVydHlUZXN0cy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMi0yMDI0LCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBRVW5pdCB0ZXN0cyBmb3IgVGlueU92ZXJyaWRlUHJvcGVydHlcclxuICpcclxuICogQGF1dGhvciBKb25hdGhhbiBPbHNvbiA8am9uYXRoYW4ub2xzb25AY29sb3JhZG8uZWR1PlxyXG4gKi9cclxuXHJcbmltcG9ydCBUaW55UHJvcGVydHkgZnJvbSAnLi9UaW55UHJvcGVydHkuanMnO1xyXG5pbXBvcnQgVGlueU92ZXJyaWRlUHJvcGVydHkgZnJvbSAnLi9UaW55T3ZlcnJpZGVQcm9wZXJ0eS5qcyc7XHJcblxyXG5RVW5pdC5tb2R1bGUoICdUaW55T3ZlcnJpZGVQcm9wZXJ0eScgKTtcclxuXHJcblFVbml0LnRlc3QoICdUaW55T3ZlcnJpZGVQcm9wZXJ0eSBCYXNpY3MnLCBhc3NlcnQgPT4ge1xyXG4gIGNvbnN0IHByb3BlcnR5ID0gbmV3IFRpbnlQcm9wZXJ0eSggJ3gnICk7XHJcbiAgY29uc3Qgb3ZlcnJpZGVQcm9wZXJ0eSA9IG5ldyBUaW55T3ZlcnJpZGVQcm9wZXJ0eSggcHJvcGVydHkgKTtcclxuXHJcbiAgbGV0IGxhc3ROZXdWYWx1ZTtcclxuICBsZXQgbGFzdE9sZFZhbHVlO1xyXG4gIG92ZXJyaWRlUHJvcGVydHkubGF6eUxpbmsoICggbmV3VmFsdWUsIG9sZFZhbHVlICkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coIG5ld1ZhbHVlLCBvbGRWYWx1ZSApO1xyXG4gICAgbGFzdE5ld1ZhbHVlID0gbmV3VmFsdWU7XHJcbiAgICBsYXN0T2xkVmFsdWUgPSBvbGRWYWx1ZTtcclxuICB9ICk7XHJcblxyXG4gIGFzc2VydC5lcXVhbCggcHJvcGVydHkudmFsdWUsICd4JyApO1xyXG4gIGFzc2VydC5lcXVhbCggb3ZlcnJpZGVQcm9wZXJ0eS52YWx1ZSwgJ3gnICk7XHJcblxyXG4gIHByb3BlcnR5LnZhbHVlID0gJ3knO1xyXG4gIGFzc2VydC5lcXVhbCggcHJvcGVydHkudmFsdWUsICd5JyApO1xyXG4gIGFzc2VydC5lcXVhbCggb3ZlcnJpZGVQcm9wZXJ0eS52YWx1ZSwgJ3knLCAnV2UgZm9sbG93IHRhcmdldCBQcm9wZXJ0eSBjaGFuZ2VzIG9yaWdpbmFsbHknICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBsYXN0TmV3VmFsdWUsICd5JyApO1xyXG4gIGFzc2VydC5lcXVhbCggbGFzdE9sZFZhbHVlLCAneCcgKTtcclxuXHJcbiAgb3ZlcnJpZGVQcm9wZXJ0eS52YWx1ZSA9ICd6JztcclxuICBhc3NlcnQuZXF1YWwoIHByb3BlcnR5LnZhbHVlLCAneScsICdTZXR0aW5nIHRoZSBvdmVycmlkZSBzaG91bGQgbm90IG1vZGlmeSB0aGUgb3JpZ2luYWwnICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBvdmVycmlkZVByb3BlcnR5LnZhbHVlLCAneicsICdPdXIgdmFsdWUgc2hvdWxkIGhhdmUgZGl2ZXJnZWQnICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBsYXN0TmV3VmFsdWUsICd6JyApO1xyXG4gIGFzc2VydC5lcXVhbCggbGFzdE9sZFZhbHVlLCAneScgKTtcclxuXHJcbiAgcHJvcGVydHkudmFsdWUgPSAndyc7XHJcbiAgYXNzZXJ0LmVxdWFsKCBwcm9wZXJ0eS52YWx1ZSwgJ3cnICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBvdmVycmlkZVByb3BlcnR5LnZhbHVlLCAneicsICdXZSBzaG91bGQgYmUgb3ZlcnJpZGRlbiwgc28gd2UgaWdub3JlIHRoZSBQcm9wZXJ0eScgKTtcclxufSApO1xyXG5cclxuUVVuaXQudGVzdCggJ1RpbnlPdmVycmlkZVByb3BlcnR5IHRhcmdldFByb3BlcnR5IGNoYW5nZScsIGFzc2VydCA9PiB7XHJcbiAgY29uc3QgdGlueTFQcm9wZXJ0eSA9IG5ldyBUaW55UHJvcGVydHkoICd4JyApO1xyXG4gIGNvbnN0IHRpbnkyUHJvcGVydHkgPSBuZXcgVGlueVByb3BlcnR5KCAnYScgKTtcclxuICBjb25zdCBvdmVycmlkZVByb3BlcnR5ID0gbmV3IFRpbnlPdmVycmlkZVByb3BlcnR5KCB0aW55MVByb3BlcnR5ICk7XHJcblxyXG4gIGxldCBsYXN0TmV3VmFsdWU7XHJcbiAgbGV0IGxhc3RPbGRWYWx1ZTtcclxuICBvdmVycmlkZVByb3BlcnR5LmxhenlMaW5rKCAoIG5ld1ZhbHVlLCBvbGRWYWx1ZSApID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCBuZXdWYWx1ZSwgb2xkVmFsdWUgKTtcclxuICAgIGxhc3ROZXdWYWx1ZSA9IG5ld1ZhbHVlO1xyXG4gICAgbGFzdE9sZFZhbHVlID0gb2xkVmFsdWU7XHJcbiAgfSApO1xyXG5cclxuICBhc3NlcnQuZXF1YWwoIHRpbnkxUHJvcGVydHkudmFsdWUsICd4JyApO1xyXG4gIGFzc2VydC5lcXVhbCggb3ZlcnJpZGVQcm9wZXJ0eS52YWx1ZSwgJ3gnICk7XHJcblxyXG4gIHRpbnkxUHJvcGVydHkudmFsdWUgPSAneSc7XHJcbiAgYXNzZXJ0LmVxdWFsKCB0aW55MVByb3BlcnR5LnZhbHVlLCAneScgKTtcclxuICBhc3NlcnQuZXF1YWwoIG92ZXJyaWRlUHJvcGVydHkudmFsdWUsICd5JywgJ1dlIGZvbGxvdyB0YXJnZXQgUHJvcGVydHkgY2hhbmdlcyBvcmlnaW5hbGx5JyApO1xyXG4gIGFzc2VydC5lcXVhbCggbGFzdE5ld1ZhbHVlLCAneScgKTtcclxuICBhc3NlcnQuZXF1YWwoIGxhc3RPbGRWYWx1ZSwgJ3gnICk7XHJcblxyXG4gIG92ZXJyaWRlUHJvcGVydHkudGFyZ2V0UHJvcGVydHkgPSB0aW55MlByb3BlcnR5O1xyXG4gIGFzc2VydC5lcXVhbCggdGlueTJQcm9wZXJ0eS52YWx1ZSwgJ2EnICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBvdmVycmlkZVByb3BlcnR5LnZhbHVlLCAnYScsICdTd2l0Y2hpbmcgdGFyZ2V0IHByb3BlcnRpZXMgc2hvdWxkIHJlc3VsdCBpbiBhIGNoYW5nZScgKTtcclxuICBhc3NlcnQuZXF1YWwoIGxhc3ROZXdWYWx1ZSwgJ2EnICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBsYXN0T2xkVmFsdWUsICd5JyApO1xyXG5cclxuICB0aW55MlByb3BlcnR5LnZhbHVlID0gJ2InO1xyXG4gIGFzc2VydC5lcXVhbCggdGlueTJQcm9wZXJ0eS52YWx1ZSwgJ2InICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBvdmVycmlkZVByb3BlcnR5LnZhbHVlLCAnYicsICdXZSBmb2xsb3cgb3VyIG5ldyB0YXJnZXQgUHJvcGVydHkgY2hhbmdlcyBvcmlnaW5hbGx5JyApO1xyXG4gIGFzc2VydC5lcXVhbCggbGFzdE5ld1ZhbHVlLCAnYicgKTtcclxuICBhc3NlcnQuZXF1YWwoIGxhc3RPbGRWYWx1ZSwgJ2EnICk7XHJcblxyXG4gIG92ZXJyaWRlUHJvcGVydHkudmFsdWUgPSAneic7XHJcbiAgYXNzZXJ0LmVxdWFsKCB0aW55MlByb3BlcnR5LnZhbHVlLCAnYicsICdTZXR0aW5nIHRoZSBvdmVycmlkZSBzaG91bGQgbm90IG1vZGlmeSB0aGUgb3JpZ2luYWwnICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBvdmVycmlkZVByb3BlcnR5LnZhbHVlLCAneicsICdPdXIgdmFsdWUgc2hvdWxkIGhhdmUgZGl2ZXJnZWQnICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBsYXN0TmV3VmFsdWUsICd6JyApO1xyXG4gIGFzc2VydC5lcXVhbCggbGFzdE9sZFZhbHVlLCAnYicgKTtcclxuXHJcbiAgdGlueTJQcm9wZXJ0eS52YWx1ZSA9ICdjJztcclxuICBhc3NlcnQuZXF1YWwoIHRpbnkyUHJvcGVydHkudmFsdWUsICdjJyApO1xyXG4gIGFzc2VydC5lcXVhbCggb3ZlcnJpZGVQcm9wZXJ0eS52YWx1ZSwgJ3onLCAnV2Ugc2hvdWxkIGJlIG92ZXJyaWRkZW4sIHNvIHdlIGlnbm9yZSB0aGUgUHJvcGVydHknICk7XHJcbn0gKTtcclxuXHJcblFVbml0LnRlc3QoICdUaW55T3ZlcnJpZGVQcm9wZXJ0eSB0YXJnZXRQcm9wZXJ0eSBjaGFuZ2UnLCBhc3NlcnQgPT4ge1xyXG4gIGNvbnN0IHRpbnkxUHJvcGVydHkgPSBuZXcgVGlueVByb3BlcnR5KCAneCcgKTtcclxuICBjb25zdCB0aW55MlByb3BlcnR5ID0gbmV3IFRpbnlQcm9wZXJ0eSggJ2EnICk7XHJcbiAgY29uc3Qgb3ZlcnJpZGVQcm9wZXJ0eSA9IG5ldyBUaW55T3ZlcnJpZGVQcm9wZXJ0eSggdGlueTFQcm9wZXJ0eSApO1xyXG5cclxuICBsZXQgbGFzdE5ld1ZhbHVlO1xyXG4gIGxldCBsYXN0T2xkVmFsdWU7XHJcbiAgb3ZlcnJpZGVQcm9wZXJ0eS5sYXp5TGluayggKCBuZXdWYWx1ZSwgb2xkVmFsdWUgKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyggbmV3VmFsdWUsIG9sZFZhbHVlICk7XHJcbiAgICBsYXN0TmV3VmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgIGxhc3RPbGRWYWx1ZSA9IG9sZFZhbHVlO1xyXG4gIH0gKTtcclxuXHJcbiAgYXNzZXJ0LmVxdWFsKCB0aW55MVByb3BlcnR5LnZhbHVlLCAneCcgKTtcclxuICBhc3NlcnQuZXF1YWwoIG92ZXJyaWRlUHJvcGVydHkudmFsdWUsICd4JyApO1xyXG5cclxuICB0aW55MVByb3BlcnR5LnZhbHVlID0gJ3knO1xyXG4gIGFzc2VydC5lcXVhbCggdGlueTFQcm9wZXJ0eS52YWx1ZSwgJ3knICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBvdmVycmlkZVByb3BlcnR5LnZhbHVlLCAneScsICdXZSBmb2xsb3cgdGFyZ2V0IFByb3BlcnR5IGNoYW5nZXMgb3JpZ2luYWxseScgKTtcclxuICBhc3NlcnQuZXF1YWwoIGxhc3ROZXdWYWx1ZSwgJ3knICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBsYXN0T2xkVmFsdWUsICd4JyApO1xyXG5cclxuICBvdmVycmlkZVByb3BlcnR5LnRhcmdldFByb3BlcnR5ID0gdGlueTJQcm9wZXJ0eTtcclxuICBhc3NlcnQuZXF1YWwoIHRpbnkyUHJvcGVydHkudmFsdWUsICdhJyApO1xyXG4gIGFzc2VydC5lcXVhbCggb3ZlcnJpZGVQcm9wZXJ0eS52YWx1ZSwgJ2EnLCAnU3dpdGNoaW5nIHRhcmdldCBwcm9wZXJ0aWVzIHNob3VsZCByZXN1bHQgaW4gYSBjaGFuZ2UnICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBsYXN0TmV3VmFsdWUsICdhJyApO1xyXG4gIGFzc2VydC5lcXVhbCggbGFzdE9sZFZhbHVlLCAneScgKTtcclxuXHJcbiAgdGlueTJQcm9wZXJ0eS52YWx1ZSA9ICdiJztcclxuICBhc3NlcnQuZXF1YWwoIHRpbnkyUHJvcGVydHkudmFsdWUsICdiJyApO1xyXG4gIGFzc2VydC5lcXVhbCggb3ZlcnJpZGVQcm9wZXJ0eS52YWx1ZSwgJ2InLCAnV2UgZm9sbG93IG91ciBuZXcgdGFyZ2V0IFByb3BlcnR5IGNoYW5nZXMgb3JpZ2luYWxseScgKTtcclxuICBhc3NlcnQuZXF1YWwoIGxhc3ROZXdWYWx1ZSwgJ2InICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBsYXN0T2xkVmFsdWUsICdhJyApO1xyXG5cclxuICBvdmVycmlkZVByb3BlcnR5LnZhbHVlID0gJ3onO1xyXG4gIGFzc2VydC5lcXVhbCggdGlueTJQcm9wZXJ0eS52YWx1ZSwgJ2InLCAnU2V0dGluZyB0aGUgb3ZlcnJpZGUgc2hvdWxkIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsJyApO1xyXG4gIGFzc2VydC5lcXVhbCggb3ZlcnJpZGVQcm9wZXJ0eS52YWx1ZSwgJ3onLCAnT3VyIHZhbHVlIHNob3VsZCBoYXZlIGRpdmVyZ2VkJyApO1xyXG4gIGFzc2VydC5lcXVhbCggbGFzdE5ld1ZhbHVlLCAneicgKTtcclxuICBhc3NlcnQuZXF1YWwoIGxhc3RPbGRWYWx1ZSwgJ2InICk7XHJcblxyXG4gIHRpbnkyUHJvcGVydHkudmFsdWUgPSAnYyc7XHJcbiAgYXNzZXJ0LmVxdWFsKCB0aW55MlByb3BlcnR5LnZhbHVlLCAnYycgKTtcclxuICBhc3NlcnQuZXF1YWwoIG92ZXJyaWRlUHJvcGVydHkudmFsdWUsICd6JywgJ1dlIHNob3VsZCBiZSBvdmVycmlkZGVuLCBzbyB3ZSBpZ25vcmUgdGhlIFByb3BlcnR5JyApO1xyXG59ICk7XHJcblxyXG5RVW5pdC50ZXN0KCAnVGlueU92ZXJyaWRlUHJvcGVydHkgbm8gbm90aWZ5IG9uIHRhcmdldFByb3BlcnR5IGNoYW5nZSB3aXRoIHNhbWUgdmFsdWUnLCBhc3NlcnQgPT4ge1xyXG4gIGNvbnN0IHRpbnkxUHJvcGVydHkgPSBuZXcgVGlueVByb3BlcnR5KCAnZicgKTtcclxuICBjb25zdCB0aW55MlByb3BlcnR5ID0gbmV3IFRpbnlQcm9wZXJ0eSggJ2YnICk7XHJcbiAgY29uc3Qgb3ZlcnJpZGVQcm9wZXJ0eSA9IG5ldyBUaW55T3ZlcnJpZGVQcm9wZXJ0eSggdGlueTFQcm9wZXJ0eSApO1xyXG5cclxuICBsZXQgbm90aWZpZWQgPSBmYWxzZTtcclxuICBvdmVycmlkZVByb3BlcnR5LmxhenlMaW5rKCAoIG5ld1ZhbHVlLCBvbGRWYWx1ZSApID0+IHtcclxuICAgIG5vdGlmaWVkID0gdHJ1ZTtcclxuICB9ICk7XHJcblxyXG4gIG92ZXJyaWRlUHJvcGVydHkudGFyZ2V0UHJvcGVydHkgPSB0aW55MlByb3BlcnR5O1xyXG5cclxuICBhc3NlcnQuZXF1YWwoIG5vdGlmaWVkLCBmYWxzZSApO1xyXG59ICk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9B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