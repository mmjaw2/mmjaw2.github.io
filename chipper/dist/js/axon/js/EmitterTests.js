// Copyright 2018-2024, University of Colorado Boulder
/**
 * QUnit tests for Emitter
 *
 * @author Sam Reid (PhET Interactive Simulations)
 * @author Michael Kauzmann (PhET Interactive Simulations)
 * @author Chris Klusendorf (PhET Interactive Simulations)
 */

import Emitter from './Emitter.js';
QUnit.module('Emitter');
QUnit.test('Emitter Constructing and options', assert => {
  assert.ok(true, 'Token test in case assertions are disabled, because each test must have at least one assert.');
  const e1 = new Emitter({
    parameters: [{
      valueType: 'number'
    }]
  });
  e1.emit(1);

  // Workaround for a lint rule

  // emitting with an object as parameter
  const e2 = new Emitter({
    parameters: [{
      valueType: Emitter
    }, {
      valueType: Object
    }, {
      valueType: 'function'
    }]
  });
  e2.emit(new Emitter(), {}, _.noop);
  const e3 = new Emitter({
    parameters: [{
      valueType: 'number'
    }, {
      valueType: ['string', null]
    }]
  });
  e3.emit(1, 'hi');
  e3.emit(1, null);
});
QUnit.test('Test emit timing Emitter', assert => {
  const e = new Emitter();
  let x = 0;
  e.addListener(() => {
    x++;
  });
  e.addListener(() => {
    x++;
  });
  e.addListener(() => {
    x++;
  });
  e.addListener(() => {
    x++;
  });
  e.addListener(() => {
    x++;
  });
  e.emit();
  assert.ok(x === 5, 'fired all listeners');
  const e1 = new Emitter();
  e1.addListener(_.noop);
  const testEmitter = (emitter, numberOfLoopings) => {
    const start = Date.now();
    for (let i = 0; i < numberOfLoopings; i++) {
      emitter.emit();
    }
    const end = Date.now();
    const totalTime = end - start;
    console.log(`Time for ${numberOfLoopings}: `, totalTime, totalTime / numberOfLoopings);
  };

  // No assertions here, but it can be nice to test how expensive emit calls are
  testEmitter(e1, 100000);
  testEmitter(e, 100000);
});
QUnit.test('Emitter Basics', assert => {
  const stack = [];
  const emitter = new Emitter();
  const a = () => {
    stack.push('a');
    emitter.removeListener(b);
  };
  const b = () => {
    stack.push('b');
  };
  emitter.addListener(a);
  emitter.addListener(b);
  emitter.emit();
  assert.equal(stack.length, 2, 'Should have received 2 callbacks');
  assert.equal(stack[0], 'a', 'true');
  assert.equal(stack[1], 'b', 'true');
  assert.equal(emitter.hasListener(b), false, 'b should have been removed');
});
QUnit.test('Emitter Tricks', assert => {
  const entries = [];
  const emitter = new Emitter({
    parameters: [{
      valueType: 'string'
    }]
  });
  const a = arg => {
    entries.push({
      listener: 'a',
      arg: arg
    });
    if (arg === 'first') {
      emitter.emit('second');
    }
  };
  const b = arg => {
    entries.push({
      listener: 'b',
      arg: arg
    });
    if (arg === 'second') {
      emitter.addListener(c);
      emitter.emit('third');
    }
  };
  const c = arg => {
    entries.push({
      listener: 'c',
      arg: arg
    });
  };
  emitter.addListener(a);
  emitter.addListener(b);
  emitter.emit('first');

  /*
   * Expected order:
   *   a first
   *     a second
   *     b second
   *       a third
   *       b third
   *       c third
   *   b first
   *
   * It looks like "c first" is (currently?) being triggered since defendCallbacks only defends the top of the stack.
   * If the stack is [ undefended, undefended ], changing listeners copies only the top, leaving
   * [ undefended, defended ], and our first event triggers a listener that wasn't listening when it was called.
   */
  _.each(entries, entry => {
    assert.ok(!(entry.listener === 'c' && entry.arg === 'first'), 'not C,first');
  });
  assert.equal(entries.length, 7, 'Should have 7 callbacks');
  assert.equal(entries[0].listener, 'a');
  assert.equal(entries[0].arg, 'first');
  assert.equal(entries[1].listener, 'a');
  assert.equal(entries[1].arg, 'second');
  assert.equal(entries[2].listener, 'b');
  assert.equal(entries[2].arg, 'second');
  assert.equal(entries[3].listener, 'a');
  assert.equal(entries[3].arg, 'third');
  assert.equal(entries[4].listener, 'b');
  assert.equal(entries[4].arg, 'third');
  assert.equal(entries[5].listener, 'c');
  assert.equal(entries[5].arg, 'third');
  assert.equal(entries[6].listener, 'b');
  assert.equal(entries[6].arg, 'first');
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFbWl0dGVyIiwiUVVuaXQiLCJtb2R1bGUiLCJ0ZXN0IiwiYXNzZXJ0Iiwib2siLCJlMSIsInBhcmFtZXRlcnMiLCJ2YWx1ZVR5cGUiLCJlbWl0IiwiZTIiLCJPYmplY3QiLCJfIiwibm9vcCIsImUzIiwiZSIsIngiLCJhZGRMaXN0ZW5lciIsInRlc3RFbWl0dGVyIiwiZW1pdHRlciIsIm51bWJlck9mTG9vcGluZ3MiLCJzdGFydCIsIkRhdGUiLCJub3ciLCJpIiwiZW5kIiwidG90YWxUaW1lIiwiY29uc29sZSIsImxvZyIsInN0YWNrIiwiYSIsInB1c2giLCJyZW1vdmVMaXN0ZW5lciIsImIiLCJlcXVhbCIsImxlbmd0aCIsImhhc0xpc3RlbmVyIiwiZW50cmllcyIsImFyZyIsImxpc3RlbmVyIiwiYyIsImVhY2giLCJlbnRyeSJdLCJzb3VyY2VzIjpbIkVtaXR0ZXJUZXN0cy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOC0yMDI0LCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuLyoqXHJcbiAqIFFVbml0IHRlc3RzIGZvciBFbWl0dGVyXHJcbiAqXHJcbiAqIEBhdXRob3IgU2FtIFJlaWQgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqIEBhdXRob3IgTWljaGFlbCBLYXV6bWFubiAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICogQGF1dGhvciBDaHJpcyBLbHVzZW5kb3JmIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxyXG4gKi9cclxuXHJcbmltcG9ydCBFbWl0dGVyIGZyb20gJy4vRW1pdHRlci5qcyc7XHJcbmltcG9ydCBURW1pdHRlciBmcm9tICcuL1RFbWl0dGVyLmpzJztcclxuXHJcblFVbml0Lm1vZHVsZSggJ0VtaXR0ZXInICk7XHJcblxyXG5RVW5pdC50ZXN0KCAnRW1pdHRlciBDb25zdHJ1Y3RpbmcgYW5kIG9wdGlvbnMnLCBhc3NlcnQgPT4ge1xyXG5cclxuICBhc3NlcnQub2soIHRydWUsICdUb2tlbiB0ZXN0IGluIGNhc2UgYXNzZXJ0aW9ucyBhcmUgZGlzYWJsZWQsIGJlY2F1c2UgZWFjaCB0ZXN0IG11c3QgaGF2ZSBhdCBsZWFzdCBvbmUgYXNzZXJ0LicgKTtcclxuICBjb25zdCBlMSA9IG5ldyBFbWl0dGVyPFsgbnVtYmVyIF0+KCB7XHJcbiAgICBwYXJhbWV0ZXJzOiBbIHsgdmFsdWVUeXBlOiAnbnVtYmVyJyB9IF1cclxuICB9ICk7XHJcblxyXG4gIGUxLmVtaXQoIDEgKTtcclxuXHJcbiAgLy8gV29ya2Fyb3VuZCBmb3IgYSBsaW50IHJ1bGVcclxuICB0eXBlIFZvaWRGdW5jID0gKCkgPT4gdm9pZDtcclxuXHJcbiAgLy8gZW1pdHRpbmcgd2l0aCBhbiBvYmplY3QgYXMgcGFyYW1ldGVyXHJcbiAgY29uc3QgZTIgPSBuZXcgRW1pdHRlcjxbIEVtaXR0ZXIsIFJlY29yZDxzdHJpbmcsIHVua25vd24+LCBWb2lkRnVuYyBdPigge1xyXG4gICAgcGFyYW1ldGVyczogWyB7IHZhbHVlVHlwZTogRW1pdHRlciB9LCB7IHZhbHVlVHlwZTogT2JqZWN0IH0sIHsgdmFsdWVUeXBlOiAnZnVuY3Rpb24nIH0gXVxyXG4gIH0gKTtcclxuXHJcbiAgZTIuZW1pdCggbmV3IEVtaXR0ZXIoKSwge30sIF8ubm9vcCApO1xyXG5cclxuICBjb25zdCBlMyA9IG5ldyBFbWl0dGVyPFsgbnVtYmVyLCBzdHJpbmcgfCBudWxsIF0+KCB7XHJcbiAgICBwYXJhbWV0ZXJzOiBbIHsgdmFsdWVUeXBlOiAnbnVtYmVyJyB9LCB7IHZhbHVlVHlwZTogWyAnc3RyaW5nJywgbnVsbCBdIH0gXVxyXG4gIH0gKTtcclxuXHJcbiAgZTMuZW1pdCggMSwgJ2hpJyApO1xyXG4gIGUzLmVtaXQoIDEsIG51bGwgKTtcclxufSApO1xyXG5cclxuUVVuaXQudGVzdCggJ1Rlc3QgZW1pdCB0aW1pbmcgRW1pdHRlcicsIGFzc2VydCA9PiB7XHJcblxyXG4gIGNvbnN0IGUgPSBuZXcgRW1pdHRlcigpO1xyXG4gIGxldCB4ID0gMDtcclxuICBlLmFkZExpc3RlbmVyKCAoKSA9PiB7eCsrO30gKTtcclxuICBlLmFkZExpc3RlbmVyKCAoKSA9PiB7eCsrO30gKTtcclxuICBlLmFkZExpc3RlbmVyKCAoKSA9PiB7eCsrO30gKTtcclxuICBlLmFkZExpc3RlbmVyKCAoKSA9PiB7eCsrO30gKTtcclxuICBlLmFkZExpc3RlbmVyKCAoKSA9PiB7eCsrO30gKTtcclxuXHJcbiAgZS5lbWl0KCk7XHJcblxyXG4gIGFzc2VydC5vayggeCA9PT0gNSwgJ2ZpcmVkIGFsbCBsaXN0ZW5lcnMnICk7XHJcblxyXG4gIGNvbnN0IGUxID0gbmV3IEVtaXR0ZXIoKTtcclxuICBlMS5hZGRMaXN0ZW5lciggXy5ub29wICk7XHJcblxyXG4gIGNvbnN0IHRlc3RFbWl0dGVyID0gKCBlbWl0dGVyOiBURW1pdHRlciwgbnVtYmVyT2ZMb29waW5nczogbnVtYmVyICkgPT4ge1xyXG5cclxuICAgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCBudW1iZXJPZkxvb3BpbmdzOyBpKysgKSB7XHJcbiAgICAgIGVtaXR0ZXIuZW1pdCgpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZW5kID0gRGF0ZS5ub3coKTtcclxuICAgIGNvbnN0IHRvdGFsVGltZSA9IGVuZCAtIHN0YXJ0O1xyXG4gICAgY29uc29sZS5sb2coIGBUaW1lIGZvciAke251bWJlck9mTG9vcGluZ3N9OiBgLCB0b3RhbFRpbWUsIHRvdGFsVGltZSAvIG51bWJlck9mTG9vcGluZ3MgKTtcclxuICB9O1xyXG5cclxuICAvLyBObyBhc3NlcnRpb25zIGhlcmUsIGJ1dCBpdCBjYW4gYmUgbmljZSB0byB0ZXN0IGhvdyBleHBlbnNpdmUgZW1pdCBjYWxscyBhcmVcclxuICB0ZXN0RW1pdHRlciggZTEsIDEwMDAwMCApO1xyXG4gIHRlc3RFbWl0dGVyKCBlLCAxMDAwMDAgKTtcclxufSApO1xyXG5cclxuUVVuaXQudGVzdCggJ0VtaXR0ZXIgQmFzaWNzJywgYXNzZXJ0ID0+IHtcclxuICBjb25zdCBzdGFjazogc3RyaW5nW10gPSBbXTtcclxuICBjb25zdCBlbWl0dGVyID0gbmV3IEVtaXR0ZXIoKTtcclxuICBjb25zdCBhID0gKCkgPT4ge1xyXG4gICAgc3RhY2sucHVzaCggJ2EnICk7XHJcbiAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKCBiICk7XHJcbiAgfTtcclxuICBjb25zdCBiID0gKCkgPT4ge1xyXG4gICAgc3RhY2sucHVzaCggJ2InICk7XHJcbiAgfTtcclxuICBlbWl0dGVyLmFkZExpc3RlbmVyKCBhICk7XHJcbiAgZW1pdHRlci5hZGRMaXN0ZW5lciggYiApO1xyXG4gIGVtaXR0ZXIuZW1pdCgpO1xyXG5cclxuICBhc3NlcnQuZXF1YWwoIHN0YWNrLmxlbmd0aCwgMiwgJ1Nob3VsZCBoYXZlIHJlY2VpdmVkIDIgY2FsbGJhY2tzJyApO1xyXG4gIGFzc2VydC5lcXVhbCggc3RhY2tbIDAgXSwgJ2EnLCAndHJ1ZScgKTtcclxuICBhc3NlcnQuZXF1YWwoIHN0YWNrWyAxIF0sICdiJywgJ3RydWUnICk7XHJcblxyXG4gIGFzc2VydC5lcXVhbCggZW1pdHRlci5oYXNMaXN0ZW5lciggYiApLCBmYWxzZSwgJ2Igc2hvdWxkIGhhdmUgYmVlbiByZW1vdmVkJyApO1xyXG59ICk7XHJcblxyXG5RVW5pdC50ZXN0KCAnRW1pdHRlciBUcmlja3MnLCBhc3NlcnQgPT4ge1xyXG4gIGNvbnN0IGVudHJpZXM6IEFycmF5PHsgbGlzdGVuZXI6IHN0cmluZzsgYXJnOiBzdHJpbmcgfT4gPSBbXTtcclxuXHJcbiAgY29uc3QgZW1pdHRlciA9IG5ldyBFbWl0dGVyPFsgc3RyaW5nIF0+KCB7XHJcbiAgICBwYXJhbWV0ZXJzOiBbIHsgdmFsdWVUeXBlOiAnc3RyaW5nJyB9IF1cclxuICB9ICk7XHJcblxyXG4gIGNvbnN0IGEgPSAoIGFyZzogc3RyaW5nICkgPT4ge1xyXG4gICAgZW50cmllcy5wdXNoKCB7IGxpc3RlbmVyOiAnYScsIGFyZzogYXJnIH0gKTtcclxuXHJcbiAgICBpZiAoIGFyZyA9PT0gJ2ZpcnN0JyApIHtcclxuICAgICAgZW1pdHRlci5lbWl0KCAnc2Vjb25kJyApO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgY29uc3QgYiA9ICggYXJnOiBzdHJpbmcgKSA9PiB7XHJcbiAgICBlbnRyaWVzLnB1c2goIHsgbGlzdGVuZXI6ICdiJywgYXJnOiBhcmcgfSApO1xyXG5cclxuICAgIGlmICggYXJnID09PSAnc2Vjb25kJyApIHtcclxuICAgICAgZW1pdHRlci5hZGRMaXN0ZW5lciggYyApO1xyXG4gICAgICBlbWl0dGVyLmVtaXQoICd0aGlyZCcgKTtcclxuICAgIH1cclxuICB9O1xyXG4gIGNvbnN0IGMgPSAoIGFyZzogc3RyaW5nICkgPT4ge1xyXG4gICAgZW50cmllcy5wdXNoKCB7IGxpc3RlbmVyOiAnYycsIGFyZzogYXJnIH0gKTtcclxuICB9O1xyXG5cclxuICBlbWl0dGVyLmFkZExpc3RlbmVyKCBhICk7XHJcbiAgZW1pdHRlci5hZGRMaXN0ZW5lciggYiApO1xyXG4gIGVtaXR0ZXIuZW1pdCggJ2ZpcnN0JyApO1xyXG5cclxuICAvKlxyXG4gICAqIEV4cGVjdGVkIG9yZGVyOlxyXG4gICAqICAgYSBmaXJzdFxyXG4gICAqICAgICBhIHNlY29uZFxyXG4gICAqICAgICBiIHNlY29uZFxyXG4gICAqICAgICAgIGEgdGhpcmRcclxuICAgKiAgICAgICBiIHRoaXJkXHJcbiAgICogICAgICAgYyB0aGlyZFxyXG4gICAqICAgYiBmaXJzdFxyXG4gICAqXHJcbiAgICogSXQgbG9va3MgbGlrZSBcImMgZmlyc3RcIiBpcyAoY3VycmVudGx5PykgYmVpbmcgdHJpZ2dlcmVkIHNpbmNlIGRlZmVuZENhbGxiYWNrcyBvbmx5IGRlZmVuZHMgdGhlIHRvcCBvZiB0aGUgc3RhY2suXHJcbiAgICogSWYgdGhlIHN0YWNrIGlzIFsgdW5kZWZlbmRlZCwgdW5kZWZlbmRlZCBdLCBjaGFuZ2luZyBsaXN0ZW5lcnMgY29waWVzIG9ubHkgdGhlIHRvcCwgbGVhdmluZ1xyXG4gICAqIFsgdW5kZWZlbmRlZCwgZGVmZW5kZWQgXSwgYW5kIG91ciBmaXJzdCBldmVudCB0cmlnZ2VycyBhIGxpc3RlbmVyIHRoYXQgd2Fzbid0IGxpc3RlbmluZyB3aGVuIGl0IHdhcyBjYWxsZWQuXHJcbiAgICovXHJcbiAgXy5lYWNoKCBlbnRyaWVzLCBlbnRyeSA9PiB7XHJcbiAgICBhc3NlcnQub2soICEoIGVudHJ5Lmxpc3RlbmVyID09PSAnYycgJiYgZW50cnkuYXJnID09PSAnZmlyc3QnICksICdub3QgQyxmaXJzdCcgKTtcclxuICB9ICk7XHJcblxyXG4gIGFzc2VydC5lcXVhbCggZW50cmllcy5sZW5ndGgsIDcsICdTaG91bGQgaGF2ZSA3IGNhbGxiYWNrcycgKTtcclxuXHJcbiAgYXNzZXJ0LmVxdWFsKCBlbnRyaWVzWyAwIF0ubGlzdGVuZXIsICdhJyApO1xyXG4gIGFzc2VydC5lcXVhbCggZW50cmllc1sgMCBdLmFyZywgJ2ZpcnN0JyApO1xyXG5cclxuICBhc3NlcnQuZXF1YWwoIGVudHJpZXNbIDEgXS5saXN0ZW5lciwgJ2EnICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBlbnRyaWVzWyAxIF0uYXJnLCAnc2Vjb25kJyApO1xyXG5cclxuICBhc3NlcnQuZXF1YWwoIGVudHJpZXNbIDIgXS5saXN0ZW5lciwgJ2InICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBlbnRyaWVzWyAyIF0uYXJnLCAnc2Vjb25kJyApO1xyXG5cclxuICBhc3NlcnQuZXF1YWwoIGVudHJpZXNbIDMgXS5saXN0ZW5lciwgJ2EnICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBlbnRyaWVzWyAzIF0uYXJnLCAndGhpcmQnICk7XHJcblxyXG4gIGFzc2VydC5lcXVhbCggZW50cmllc1sgNCBdLmxpc3RlbmVyLCAnYicgKTtcclxuICBhc3NlcnQuZXF1YWwoIGVudHJpZXNbIDQgXS5hcmcsICd0aGlyZCcgKTtcclxuXHJcbiAgYXNzZXJ0LmVxdWFsKCBlbnRyaWVzWyA1IF0ubGlzdGVuZXIsICdjJyApO1xyXG4gIGFzc2VydC5lcXVhbCggZW50cmllc1sgNSBdLmFyZywgJ3RoaXJkJyApO1xyXG5cclxuICBhc3NlcnQuZXF1YWwoIGVudHJpZXNbIDYgXS5saXN0ZW5lciwgJ2InICk7XHJcbiAgYXNzZXJ0LmVxdWFsKCBlbnRyaWVzWyA2IF0uYXJnLCAnZmlyc3QnICk7XHJcbn0gKTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsT0FBTyxNQUFNLGNBQWM7QUFHbENDLEtBQUssQ0FBQ0MsTUFBTSxDQUFFLFNBQVUsQ0FBQztBQUV6QkQsS0FBSyxDQUFDRSxJQUFJLENBQUUsa0NBQWtDLEVBQUVDLE1BQU0sSUFBSTtFQUV4REEsTUFBTSxDQUFDQyxFQUFFLENBQUUsSUFBSSxFQUFFLDhGQUErRixDQUFDO0VBQ2pILE1BQU1DLEVBQUUsR0FBRyxJQUFJTixPQUFPLENBQWM7SUFDbENPLFVBQVUsRUFBRSxDQUFFO01BQUVDLFNBQVMsRUFBRTtJQUFTLENBQUM7RUFDdkMsQ0FBRSxDQUFDO0VBRUhGLEVBQUUsQ0FBQ0csSUFBSSxDQUFFLENBQUUsQ0FBQzs7RUFFWjs7RUFHQTtFQUNBLE1BQU1DLEVBQUUsR0FBRyxJQUFJVixPQUFPLENBQWtEO0lBQ3RFTyxVQUFVLEVBQUUsQ0FBRTtNQUFFQyxTQUFTLEVBQUVSO0lBQVEsQ0FBQyxFQUFFO01BQUVRLFNBQVMsRUFBRUc7SUFBTyxDQUFDLEVBQUU7TUFBRUgsU0FBUyxFQUFFO0lBQVcsQ0FBQztFQUN4RixDQUFFLENBQUM7RUFFSEUsRUFBRSxDQUFDRCxJQUFJLENBQUUsSUFBSVQsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRVksQ0FBQyxDQUFDQyxJQUFLLENBQUM7RUFFcEMsTUFBTUMsRUFBRSxHQUFHLElBQUlkLE9BQU8sQ0FBNkI7SUFDakRPLFVBQVUsRUFBRSxDQUFFO01BQUVDLFNBQVMsRUFBRTtJQUFTLENBQUMsRUFBRTtNQUFFQSxTQUFTLEVBQUUs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