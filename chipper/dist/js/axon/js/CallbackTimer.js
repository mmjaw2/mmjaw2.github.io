// Copyright 2019-2023, University of Colorado Boulder

/**
 * CallbackTimer is a timer that calls a set of registered callbacks.
 * It utilizes AXON/stepTimer, but provides a higher level of abstraction, hiding the details of managing stepTimer.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import axon from './axon.js';
import stepTimer from './stepTimer.js';
export default class CallbackTimer {
  callbacks = [];

  // initial delay between when start is called and the timer first fires, in ms
  _delay = 400;

  // fire the timer at this continuous interval, in ms
  _interval = 100;

  // identifier for timer associated with the initial delay
  delayID = null;

  // identifier for timer associated with the continuous interval
  intervalID = null;

  // has the timer fired since it was started?
  fired = false;
  constructor(options) {
    if (options?.delay !== undefined) {
      this.delay = options.delay;
    }
    if (options?.interval !== undefined) {
      this.interval = options.interval;
    }
    if (options?.callback) {
      this.callbacks.push(options.callback);
    }
  }
  isRunning() {
    return this.delayID !== null || this.intervalID !== null;
  }
  start() {
    if (!this.isRunning()) {
      this.fired = false;
      this.delayID = stepTimer.setTimeout(() => {
        this.delayID = null;
        this.intervalID = stepTimer.setInterval(() => this.fire(), this.interval);

        // fire after scheduling the intervalID, so that isRunning will be true for callbacks, see sun#216
        this.fire();
      }, this.delay);
    }
  }

  /**
   * Stops the timer.
   * @param fire - should we fire if we haven't fired already?
   */
  stop(fire) {
    if (this.isRunning()) {
      if (this.delayID) {
        stepTimer.clearTimeout(this.delayID);
        this.delayID = null;
      }
      if (this.intervalID) {
        stepTimer.clearInterval(this.intervalID);
        this.intervalID = null;
      }
      if (fire && !this.fired) {
        this.fire();
      }
    }
  }
  addCallback(callback) {
    if (!this.callbacks.includes(callback)) {
      this.callbacks.push(callback);
    }
  }
  removeCallback(callback) {
    const index = this.callbacks.indexOf(callback);
    if (index !== -1) {
      this.callbacks.splice(index, 1);
    }
  }

  /**
   * Calls all callbacks. Clients are free to call this when the timer is not running.
   */
  fire() {
    const callbacksCopy = this.callbacks.slice(0);
    for (let i = 0; i < callbacksCopy.length; i++) {
      callbacksCopy[i]();
    }
    this.fired = true;
  }
  set delay(delay) {
    assert && assert(delay >= 0, `bad value for delay: ${delay}`);
    this._delay = delay;
  }
  get delay() {
    return this._delay;
  }
  set interval(interval) {
    assert && assert(interval > 0, `bad value for interval: ${interval}`);
    this._interval = interval;
  }
  get interval() {
    return this._interval;
  }
  dispose() {
    this.stop(false);
    this.callbacks.length = 0;
  }
}
axon.register('CallbackTimer', CallbackTimer);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJheG9uIiwic3RlcFRpbWVyIiwiQ2FsbGJhY2tUaW1lciIsImNhbGxiYWNrcyIsIl9kZWxheSIsIl9pbnRlcnZhbCIsImRlbGF5SUQiLCJpbnRlcnZhbElEIiwiZmlyZWQiLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJkZWxheSIsInVuZGVmaW5lZCIsImludGVydmFsIiwiY2FsbGJhY2siLCJwdXNoIiwiaXNSdW5uaW5nIiwic3RhcnQiLCJzZXRUaW1lb3V0Iiwic2V0SW50ZXJ2YWwiLCJmaXJlIiwic3RvcCIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJhZGRDYWxsYmFjayIsImluY2x1ZGVzIiwicmVtb3ZlQ2FsbGJhY2siLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJjYWxsYmFja3NDb3B5Iiwic2xpY2UiLCJpIiwibGVuZ3RoIiwiYXNzZXJ0IiwiZGlzcG9zZSIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiQ2FsbGJhY2tUaW1lci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOS0yMDIzLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBDYWxsYmFja1RpbWVyIGlzIGEgdGltZXIgdGhhdCBjYWxscyBhIHNldCBvZiByZWdpc3RlcmVkIGNhbGxiYWNrcy5cclxuICogSXQgdXRpbGl6ZXMgQVhPTi9zdGVwVGltZXIsIGJ1dCBwcm92aWRlcyBhIGhpZ2hlciBsZXZlbCBvZiBhYnN0cmFjdGlvbiwgaGlkaW5nIHRoZSBkZXRhaWxzIG9mIG1hbmFnaW5nIHN0ZXBUaW1lci5cclxuICpcclxuICogQGF1dGhvciBDaHJpcyBNYWxsZXkgKFBpeGVsWm9vbSwgSW5jLilcclxuICovXHJcblxyXG5pbXBvcnQgYXhvbiBmcm9tICcuL2F4b24uanMnO1xyXG5pbXBvcnQgc3RlcFRpbWVyIGZyb20gJy4vc3RlcFRpbWVyLmpzJztcclxuaW1wb3J0IHsgVGltZXJMaXN0ZW5lciB9IGZyb20gJy4vVGltZXIuanMnO1xyXG5cclxuZXhwb3J0IHR5cGUgQ2FsbGJhY2tUaW1lckNhbGxiYWNrID0gKCkgPT4gdm9pZDtcclxuXHJcbnR5cGUgU2VsZk9wdGlvbnMgPSB7XHJcblxyXG4gIC8vIGNvbnZlbmllbmNlIGZvciBhZGRpbmcgMSBjYWxsYmFja1xyXG4gIGNhbGxiYWNrPzogQ2FsbGJhY2tUaW1lckNhbGxiYWNrO1xyXG5cclxuICAvLyBzdGFydCB0byBmaXJlIGNvbnRpbnVvdXNseSBhZnRlciBwcmVzc2luZyBmb3IgdGhpcyBsb25nLCBpbiBtc1xyXG4gIGRlbGF5PzogbnVtYmVyO1xyXG5cclxuICAvLyBmaXJlIGNvbnRpbnVvdXNseSBhdCB0aGlzIGludGVydmFsLCBpbiBtc1xyXG4gIGludGVydmFsPzogbnVtYmVyO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgQ2FsbGJhY2tUaW1lck9wdGlvbnMgPSBTZWxmT3B0aW9ucztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbGxiYWNrVGltZXIge1xyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IGNhbGxiYWNrczogQ2FsbGJhY2tUaW1lckNhbGxiYWNrW10gPSBbXTtcclxuXHJcbiAgLy8gaW5pdGlhbCBkZWxheSBiZXR3ZWVuIHdoZW4gc3RhcnQgaXMgY2FsbGVkIGFuZCB0aGUgdGltZXIgZmlyc3QgZmlyZXMsIGluIG1zXHJcbiAgcHJpdmF0ZSBfZGVsYXkgPSA0MDA7XHJcblxyXG4gIC8vIGZpcmUgdGhlIHRpbWVyIGF0IHRoaXMgY29udGludW91cyBpbnRlcnZhbCwgaW4gbXNcclxuICBwcml2YXRlIF9pbnRlcnZhbCA9IDEwMDtcclxuXHJcbiAgLy8gaWRlbnRpZmllciBmb3IgdGltZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBpbml0aWFsIGRlbGF5XHJcbiAgcHJpdmF0ZSBkZWxheUlEOiBUaW1lckxpc3RlbmVyIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gIC8vIGlkZW50aWZpZXIgZm9yIHRpbWVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgY29udGludW91cyBpbnRlcnZhbFxyXG4gIHByaXZhdGUgaW50ZXJ2YWxJRDogVGltZXJMaXN0ZW5lciB8IG51bGwgPSBudWxsO1xyXG5cclxuICAvLyBoYXMgdGhlIHRpbWVyIGZpcmVkIHNpbmNlIGl0IHdhcyBzdGFydGVkP1xyXG4gIHByaXZhdGUgZmlyZWQgPSBmYWxzZTtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBvcHRpb25zPzogQ2FsbGJhY2tUaW1lck9wdGlvbnMgKSB7XHJcblxyXG4gICAgaWYgKCBvcHRpb25zPy5kZWxheSAhPT0gdW5kZWZpbmVkICkge1xyXG4gICAgICB0aGlzLmRlbGF5ID0gb3B0aW9ucy5kZWxheTtcclxuICAgIH1cclxuICAgIGlmICggb3B0aW9ucz8uaW50ZXJ2YWwgIT09IHVuZGVmaW5lZCApIHtcclxuICAgICAgdGhpcy5pbnRlcnZhbCA9IG9wdGlvbnMuaW50ZXJ2YWw7XHJcbiAgICB9XHJcbiAgICBpZiAoIG9wdGlvbnM/LmNhbGxiYWNrICkge1xyXG4gICAgICB0aGlzLmNhbGxiYWNrcy5wdXNoKCBvcHRpb25zLmNhbGxiYWNrICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgaXNSdW5uaW5nKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuICggdGhpcy5kZWxheUlEICE9PSBudWxsIHx8IHRoaXMuaW50ZXJ2YWxJRCAhPT0gbnVsbCApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0YXJ0KCk6IHZvaWQge1xyXG4gICAgaWYgKCAhdGhpcy5pc1J1bm5pbmcoKSApIHtcclxuICAgICAgdGhpcy5maXJlZCA9IGZhbHNlO1xyXG4gICAgICB0aGlzLmRlbGF5SUQgPSBzdGVwVGltZXIuc2V0VGltZW91dCggKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZGVsYXlJRCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pbnRlcnZhbElEID0gc3RlcFRpbWVyLnNldEludGVydmFsKCAoKSA9PiB0aGlzLmZpcmUoKSwgdGhpcy5pbnRlcnZhbCApO1xyXG5cclxuICAgICAgICAvLyBmaXJlIGFmdGVyIHNjaGVkdWxpbmcgdGhlIGludGVydmFsSUQsIHNvIHRoYXQgaXNSdW5uaW5nIHdpbGwgYmUgdHJ1ZSBmb3IgY2FsbGJhY2tzLCBzZWUgc3VuIzIxNlxyXG4gICAgICAgIHRoaXMuZmlyZSgpO1xyXG4gICAgICB9LCB0aGlzLmRlbGF5ICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdG9wcyB0aGUgdGltZXIuXHJcbiAgICogQHBhcmFtIGZpcmUgLSBzaG91bGQgd2UgZmlyZSBpZiB3ZSBoYXZlbid0IGZpcmVkIGFscmVhZHk/XHJcbiAgICovXHJcbiAgcHVibGljIHN0b3AoIGZpcmU6IGJvb2xlYW4gKTogdm9pZCB7XHJcbiAgICBpZiAoIHRoaXMuaXNSdW5uaW5nKCkgKSB7XHJcbiAgICAgIGlmICggdGhpcy5kZWxheUlEICkge1xyXG4gICAgICAgIHN0ZXBUaW1lci5jbGVhclRpbWVvdXQoIHRoaXMuZGVsYXlJRCApO1xyXG4gICAgICAgIHRoaXMuZGVsYXlJRCA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCB0aGlzLmludGVydmFsSUQgKSB7XHJcbiAgICAgICAgc3RlcFRpbWVyLmNsZWFySW50ZXJ2YWwoIHRoaXMuaW50ZXJ2YWxJRCApO1xyXG4gICAgICAgIHRoaXMuaW50ZXJ2YWxJRCA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCBmaXJlICYmICF0aGlzLmZpcmVkICkge1xyXG4gICAgICAgIHRoaXMuZmlyZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYWRkQ2FsbGJhY2soIGNhbGxiYWNrOiBDYWxsYmFja1RpbWVyQ2FsbGJhY2sgKTogdm9pZCB7XHJcbiAgICBpZiAoICF0aGlzLmNhbGxiYWNrcy5pbmNsdWRlcyggY2FsbGJhY2sgKSApIHtcclxuICAgICAgdGhpcy5jYWxsYmFja3MucHVzaCggY2FsbGJhY2sgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyByZW1vdmVDYWxsYmFjayggY2FsbGJhY2s6IENhbGxiYWNrVGltZXJDYWxsYmFjayApOiB2b2lkIHtcclxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jYWxsYmFja3MuaW5kZXhPZiggY2FsbGJhY2sgKTtcclxuICAgIGlmICggaW5kZXggIT09IC0xICkge1xyXG4gICAgICB0aGlzLmNhbGxiYWNrcy5zcGxpY2UoIGluZGV4LCAxICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYWxscyBhbGwgY2FsbGJhY2tzLiBDbGllbnRzIGFyZSBmcmVlIHRvIGNhbGwgdGhpcyB3aGVuIHRoZSB0aW1lciBpcyBub3QgcnVubmluZy5cclxuICAgKi9cclxuICBwdWJsaWMgZmlyZSgpOiB2b2lkIHtcclxuICAgIGNvbnN0IGNhbGxiYWNrc0NvcHkgPSB0aGlzLmNhbGxiYWNrcy5zbGljZSggMCApO1xyXG4gICAgZm9yICggbGV0IGkgPSAwOyBpIDwgY2FsbGJhY2tzQ29weS5sZW5ndGg7IGkrKyApIHtcclxuICAgICAgY2FsbGJhY2tzQ29weVsgaSBdKCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXQgZGVsYXkoIGRlbGF5OiBudW1iZXIgKSB7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBkZWxheSA+PSAwLCBgYmFkIHZhbHVlIGZvciBkZWxheTogJHtkZWxheX1gICk7XHJcblxyXG4gICAgdGhpcy5fZGVsYXkgPSBkZWxheTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgZGVsYXkoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLl9kZWxheTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXQgaW50ZXJ2YWwoIGludGVydmFsOiBudW1iZXIgKSB7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBpbnRlcnZhbCA+IDAsIGBiYWQgdmFsdWUgZm9yIGludGVydmFsOiAke2ludGVydmFsfWAgKTtcclxuXHJcbiAgICB0aGlzLl9pbnRlcnZhbCA9IGludGVydmFsO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBpbnRlcnZhbCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuX2ludGVydmFsO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGRpc3Bvc2UoKTogdm9pZCB7XHJcbiAgICB0aGlzLnN0b3AoIGZhbHNlICk7XHJcbiAgICB0aGlzLmNhbGxiYWNrcy5sZW5ndGggPSAwO1xyXG4gIH1cclxufVxyXG5cclxuYXhvbi5yZWdpc3RlciggJ0NhbGxiYWNrVGltZXInLCBDYWxsYmFja1RpbWVyICk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsSUFBSSxNQUFNLFdBQVc7QUFDNUIsT0FBT0MsU0FBUyxNQUFNLGdCQUFnQjtBQW1CdEMsZUFBZSxNQUFNQyxhQUFhLENBQUM7RUFFaEJDLFNBQVMsR0FBNEIsRUFBRTs7RUFFeEQ7RUFDUUMsTUFBTSxHQUFHLEdBQUc7O0VBRXBCO0VBQ1FDLFNBQVMsR0FBRyxHQUFHOztFQUV2QjtFQUNRQyxPQUFPLEdBQXlCLElBQUk7O0VBRTVDO0VBQ1FDLFVBQVUsR0FBeUIsSUFBSTs7RUFFL0M7RUFDUUMsS0FBSyxHQUFHLEtBQUs7RUFFZEMsV0FBV0EsQ0FBRUMsT0FBOEIsRUFBRztJQUVuRCxJQUFLQSxPQUFPLEVBQUVDLEtBQUssS0FBS0MsU0FBUyxFQUFHO01BQ2xDLElBQUksQ0FBQ0QsS0FBSyxHQUFHRCxPQUFPLENBQUNDLEtBQUs7SUFDNUI7SUFDQSxJQUFLRCxPQUFPLEVBQUVHLFFBQVEsS0FBS0QsU0FBUyxFQUFHO01BQ3JDLElBQUksQ0FBQ0MsUUFBUSxHQUFHSCxPQUFPLENBQUNHLFFBQVE7SUFDbEM7SUFDQSxJQUFLSCxPQUFPLEVBQUVJLFFBQVEsRUFBRztNQUN2QixJQUFJLENBQUNYLFNBQVMsQ0FBQ1ksSUFBSSxDQUFFTCxPQUFPLENBQUNJLFFBQVMs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