// Copyright 2012-2024, University of Colorado Boulder

/**
 * Google analytics collection for HTML5 sims.
 * Code provided by Google and Hewlett, possibly doctored by PhET.
 *
 * NOTE: Please be careful about modifications, as it relies on external scripts.
 *
 * @author Sam Reid (PhET Interactive Simulations)
 */

(function () {
  // If yotta has been turned off by query parameter, don't send any messages.
  if (!phet.chipper.queryParameters.yotta) {
    return;
  }
  assert && assert(window.phet && phet.chipper, 'We will require multiple things from the chipper preload namespace');
  assert && assert(!!phet.chipper.brand, 'A brand is required, since some messages depend on the brand');
  assert && assert(!!phet.chipper.queryParameters, 'We will need query parameters to be parsed for multiple purposes');
  assert && assert(!!phet.chipper.buildTimestamp, 'buildTimestamp is required for GA messages');
  assert && assert(!!phet.chipper.project, 'project is required for GA messages');
  assert && assert(!!phet.chipper.version, 'version is required for GA messages');
  assert && assert(!!phet.chipper.locale, 'locale is required for GA messages');
  const ua = navigator.userAgent;
  const hasIESecurityRestrictions = !!(ua.match(/MSIE/) || ua.match(/Trident\//) || ua.match(/Edge\//));

  // If we're in some form of IE running offline, don't attempt to make a cross-origin request.
  // See https://github.com/phetsims/joist/issues/164
  if (window.location.protocol === 'file:' && hasIESecurityRestrictions) {
    return;
  }

  // Don't track sims that we didn't develop
  if (phet.chipper.brand !== 'phet' && phet.chipper.brand !== 'phet-io') {
    return;
  }
  let loadType;
  // This is the iOS app
  if (phet.chipper.queryParameters['phet-app']) {
    loadType = 'phet-app';
  }
  // For the Android app, see https://github.com/phetsims/phet-android-app/issues/16
  else if (phet.chipper.queryParameters['phet-android-app']) {
    loadType = 'phet-android-app';
  } else if (top !== self) {
    // Checks to see if this sim is embedded - phetsims/chipper#50
    loadType = 'embedded';
  }
  // TODO Add additional conditions for tracking hits from the installer, etc. See https://github.com/phetsims/phetcommon/issues/49
  else {
    loadType = 'default';
  }
  function sendMessages() {
    // {boolean} - Whether an error was detected with anything relating to google analytics.
    // See https://github.com/phetsims/yotta/issues/30
    let googleAnalyticsErrored = false;
    window.addEventListener('error', event => {
      if (event && event.target && event.target.src && event.target.src.indexOf && event.target.src.indexOf('google-analytics') >= 0) {
        googleAnalyticsErrored = true;
      }
    }, true);
    let pingParams = `${'pingver=3&' + 'project='}${encodeURIComponent(phet.chipper.project)}&` + `brand=${encodeURIComponent(phet.chipper.brand)}&` + `version=${encodeURIComponent(phet.chipper.version)}&` + `locale=${encodeURIComponent(phet.chipper.locale)}&` + `buildTimestamp=${encodeURIComponent(phet.chipper.buildTimestamp)}&` + `domain=${encodeURIComponent(document.domain)}&` + `href=${encodeURIComponent(window.location.href)}&` + 'type=html&' + `timestamp=${encodeURIComponent(Date.now())}&` + `loadType=${encodeURIComponent(loadType)}&` + `ref=${encodeURIComponent(document.referrer)}`;

    // Forward yotta-specific query parameters, see https://github.com/phetsims/phetcommon/issues/66
    for (const [key, value] of new URLSearchParams(window.location.search)) {
      if (key.startsWith('yotta')) {
        pingParams += `&${encodeURIComponent(key)}=${encodeURIComponent(value)}`;
      }
    }
    function pingURL(url) {
      const img = document.createElement('img');
      img.src = url;
    }
    pingURL(`https://phet.colorado.edu/yotta/immediate.gif?${pingParams}`);
    window.addEventListener('load', event => {
      pingURL(`https://phet.colorado.edu/yotta/sanity.gif?${pingParams}&` + `gaError=${encodeURIComponent(googleAnalyticsErrored)}&` + `gaLoaded=${encodeURIComponent(false)}`);
    }, false);

    // External GA4 tracker
    if (phet.chipper.queryParameters.ga4) {
      // Use a custom data layer to both (a) get gtag.js and gtm to work at the same time, and (b) don't provide the
      // extra data to third parties by default
      window.ga4DataLayer = window.ga4DataLayer || [];

      // NOTE: Using the GA-provided function here, to be extra cautious.
      function gtag() {
        ga4DataLayer.push(arguments);
      } // eslint-disable-line no-inner-declarations,no-undef,prefer-rest-params

      gtag('js', new Date());
      gtag('consent', 'default', {
        ad_storage: 'denied',
        analytics_storage: 'granted'
      });
      // EEA analytics storage denied for cookies, see https://github.com/phetsims/website/issues/1190
      gtag('consent', 'default', {
        ad_storage: 'denied',
        analytics_storage: 'denied',
        region: ['BE', 'BG', 'CZ', 'DK', 'CY', 'LV', 'LT', 'LU', 'ES', 'FR', 'HR', 'IT', 'PL', 'PT', 'RO', 'SI', 'HU', 'MT', 'NL', 'AT', 'IS', 'LI', 'NO', 'SK', 'FI', 'SE', 'DE', 'EE', 'IE', 'EL', 'GB', 'CH']
      });
      gtag('config', phet.chipper.queryParameters.ga4);

      // Dynamically load the script
      const firstScript = document.getElementsByTagName('script')[0];
      const script = document.createElement('script');
      script.async = true;

      // `l` query parameter allows a different data layer name
      script.src = `https://www.googletagmanager.com/gtag/js?id=${phet.chipper.queryParameters.ga4}&l=ga4DataLayer`;
      firstScript.parentNode.insertBefore(script, firstScript);
    }

    // For some reason, having dataLayer declaration here might have fixed the ability to use gtag.js and gtm.js at the
    // same time. Don't move without testing.
    window.dataLayer = window.dataLayer || [];
    function gtmTag() {
      window.dataLayer.push(arguments); // eslint-disable-line prefer-rest-params
    }
    gtmTag('consent', 'default', {
      ad_storage: 'denied',
      analytics_storage: 'granted'
    });
    // EEA analytics storage denied for cookies, see https://github.com/phetsims/website/issues/1190
    gtmTag('consent', 'default', {
      ad_storage: 'denied',
      analytics_storage: 'denied',
      region: ['BE', 'BG', 'CZ', 'DK', 'CY', 'LV', 'LT', 'LU', 'ES', 'FR', 'HR', 'IT', 'PL', 'PT', 'RO', 'SI', 'HU', 'MT', 'NL', 'AT', 'IS', 'LI', 'NO', 'SK', 'FI', 'SE', 'DE', 'EE', 'IE', 'EL', 'GB', 'CH']
    });
    window.dataLayer.push({
      simBrand: phet.chipper.brand,
      simName: phet.chipper.project,
      simVersion: phet.chipper.version,
      simLocale: phet.chipper.locale,
      simBuildTimestamp: phet.chipper.buildTimestamp,
      simLoadType: loadType,
      documentReferrer: document.referrer
    });

    // Google Tag Manager (gtm.js) - Identical to recommended snippet with eslint disables to keep it this way.
    (function (w, d, s, l, i) {
      w[l] = w[l] || [];
      w[l].push({
        'gtm.start': new Date().getTime(),
        event: 'gtm.js'
      });
      var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s),
        dl = l != 'dataLayer' ? '&l=' + l : '';
      j.async = true;
      j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
      f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-WLNGBXD'); // eslint-disable-line space-infix-ops,space-in-parens,comma-spacing,key-spacing,one-var,semi-spacing,eqeqeq,computed-property-spacing,no-var,one-var-declaration-per-line,object-curly-spacing,space-before-blocks
  }
  if (loadType === 'phet-app') {
    window.addEventListener('load', () => {
      setTimeout(sendMessages, 0); // eslint-disable-line bad-sim-text
    }, false);
  } else {
    sendMessages();
  }
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwaGV0IiwiY2hpcHBlciIsInF1ZXJ5UGFyYW1ldGVycyIsInlvdHRhIiwiYXNzZXJ0Iiwid2luZG93IiwiYnJhbmQiLCJidWlsZFRpbWVzdGFtcCIsInByb2plY3QiLCJ2ZXJzaW9uIiwibG9jYWxlIiwidWEiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJoYXNJRVNlY3VyaXR5UmVzdHJpY3Rpb25zIiwibWF0Y2giLCJsb2NhdGlvbiIsInByb3RvY29sIiwibG9hZFR5cGUiLCJ0b3AiLCJzZWxmIiwic2VuZE1lc3NhZ2VzIiwiZ29vZ2xlQW5hbHl0aWNzRXJyb3JlZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInRhcmdldCIsInNyYyIsImluZGV4T2YiLCJwaW5nUGFyYW1zIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZG9jdW1lbnQiLCJkb21haW4iLCJocmVmIiwiRGF0ZSIsIm5vdyIsInJlZmVycmVyIiwia2V5IiwidmFsdWUiLCJVUkxTZWFyY2hQYXJhbXMiLCJzZWFyY2giLCJzdGFydHNXaXRoIiwicGluZ1VSTCIsInVybCIsImltZyIsImNyZWF0ZUVsZW1lbnQiLCJnYTQiLCJnYTREYXRhTGF5ZXIiLCJndGFnIiwicHVzaCIsImFyZ3VtZW50cyIsImFkX3N0b3JhZ2UiLCJhbmFseXRpY3Nfc3RvcmFnZSIsInJlZ2lvbiIsImZpcnN0U2NyaXB0IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzY3JpcHQiLCJhc3luYyIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJkYXRhTGF5ZXIiLCJndG1UYWciLCJzaW1CcmFuZCIsInNpbU5hbWUiLCJzaW1WZXJzaW9uIiwic2ltTG9jYWxlIiwic2ltQnVpbGRUaW1lc3RhbXAiLCJzaW1Mb2FkVHlwZSIsImRvY3VtZW50UmVmZXJyZXIiLCJ3IiwiZCIsInMiLCJsIiwiaSIsImdldFRpbWUiLCJmIiwiaiIsImRsIiwic2V0VGltZW91dCJdLCJzb3VyY2VzIjpbImdvb2dsZS1hbmFseXRpY3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTItMjAyNCwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogR29vZ2xlIGFuYWx5dGljcyBjb2xsZWN0aW9uIGZvciBIVE1MNSBzaW1zLlxyXG4gKiBDb2RlIHByb3ZpZGVkIGJ5IEdvb2dsZSBhbmQgSGV3bGV0dCwgcG9zc2libHkgZG9jdG9yZWQgYnkgUGhFVC5cclxuICpcclxuICogTk9URTogUGxlYXNlIGJlIGNhcmVmdWwgYWJvdXQgbW9kaWZpY2F0aW9ucywgYXMgaXQgcmVsaWVzIG9uIGV4dGVybmFsIHNjcmlwdHMuXHJcbiAqXHJcbiAqIEBhdXRob3IgU2FtIFJlaWQgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuKCBmdW5jdGlvbigpIHtcclxuICAvLyBJZiB5b3R0YSBoYXMgYmVlbiB0dXJuZWQgb2ZmIGJ5IHF1ZXJ5IHBhcmFtZXRlciwgZG9uJ3Qgc2VuZCBhbnkgbWVzc2FnZXMuXHJcbiAgaWYgKCAhcGhldC5jaGlwcGVyLnF1ZXJ5UGFyYW1ldGVycy55b3R0YSApIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGFzc2VydCAmJiBhc3NlcnQoIHdpbmRvdy5waGV0ICYmIHBoZXQuY2hpcHBlciwgJ1dlIHdpbGwgcmVxdWlyZSBtdWx0aXBsZSB0aGluZ3MgZnJvbSB0aGUgY2hpcHBlciBwcmVsb2FkIG5hbWVzcGFjZScgKTtcclxuICBhc3NlcnQgJiYgYXNzZXJ0KCAhIXBoZXQuY2hpcHBlci5icmFuZCwgJ0EgYnJhbmQgaXMgcmVxdWlyZWQsIHNpbmNlIHNvbWUgbWVzc2FnZXMgZGVwZW5kIG9uIHRoZSBicmFuZCcgKTtcclxuICBhc3NlcnQgJiYgYXNzZXJ0KCAhIXBoZXQuY2hpcHBlci5xdWVyeVBhcmFtZXRlcnMsICdXZSB3aWxsIG5lZWQgcXVlcnkgcGFyYW1ldGVycyB0byBiZSBwYXJzZWQgZm9yIG11bHRpcGxlIHB1cnBvc2VzJyApO1xyXG4gIGFzc2VydCAmJiBhc3NlcnQoICEhcGhldC5jaGlwcGVyLmJ1aWxkVGltZXN0YW1wLCAnYnVpbGRUaW1lc3RhbXAgaXMgcmVxdWlyZWQgZm9yIEdBIG1lc3NhZ2VzJyApO1xyXG4gIGFzc2VydCAmJiBhc3NlcnQoICEhcGhldC5jaGlwcGVyLnByb2plY3QsICdwcm9qZWN0IGlzIHJlcXVpcmVkIGZvciBHQSBtZXNzYWdlcycgKTtcclxuICBhc3NlcnQgJiYgYXNzZXJ0KCAhIXBoZXQuY2hpcHBlci52ZXJzaW9uLCAndmVyc2lvbiBpcyByZXF1aXJlZCBmb3IgR0EgbWVzc2FnZXMnICk7XHJcbiAgYXNzZXJ0ICYmIGFzc2VydCggISFwaGV0LmNoaXBwZXIubG9jYWxlLCAnbG9jYWxlIGlzIHJlcXVpcmVkIGZvciBHQSBtZXNzYWdlcycgKTtcclxuXHJcbiAgY29uc3QgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xyXG4gIGNvbnN0IGhhc0lFU2VjdXJpdHlSZXN0cmljdGlvbnMgPSAhISggdWEubWF0Y2goIC9NU0lFLyApIHx8IHVhLm1hdGNoKCAvVHJpZGVudFxcLy8gKSB8fCB1YS5tYXRjaCggL0VkZ2VcXC8vICkgKTtcclxuXHJcbiAgLy8gSWYgd2UncmUgaW4gc29tZSBmb3JtIG9mIElFIHJ1bm5pbmcgb2ZmbGluZSwgZG9uJ3QgYXR0ZW1wdCB0byBtYWtlIGEgY3Jvc3Mtb3JpZ2luIHJlcXVlc3QuXHJcbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9qb2lzdC9pc3N1ZXMvMTY0XHJcbiAgaWYgKCB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09ICdmaWxlOicgJiYgaGFzSUVTZWN1cml0eVJlc3RyaWN0aW9ucyApIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8vIERvbid0IHRyYWNrIHNpbXMgdGhhdCB3ZSBkaWRuJ3QgZGV2ZWxvcFxyXG4gIGlmICggcGhldC5jaGlwcGVyLmJyYW5kICE9PSAncGhldCcgJiYgcGhldC5jaGlwcGVyLmJyYW5kICE9PSAncGhldC1pbycgKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBsZXQgbG9hZFR5cGU7XHJcbiAgLy8gVGhpcyBpcyB0aGUgaU9TIGFwcFxyXG4gIGlmICggcGhldC5jaGlwcGVyLnF1ZXJ5UGFyYW1ldGVyc1sgJ3BoZXQtYXBwJyBdICkge1xyXG4gICAgbG9hZFR5cGUgPSAncGhldC1hcHAnO1xyXG4gIH1cclxuICAvLyBGb3IgdGhlIEFuZHJvaWQgYXBwLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL3BoZXQtYW5kcm9pZC1hcHAvaXNzdWVzLzE2XHJcbiAgZWxzZSBpZiAoIHBoZXQuY2hpcHBlci5xdWVyeVBhcmFtZXRlcnNbICdwaGV0LWFuZHJvaWQtYXBwJyBdICkge1xyXG4gICAgbG9hZFR5cGUgPSAncGhldC1hbmRyb2lkLWFwcCc7XHJcbiAgfVxyXG4gIGVsc2UgaWYgKCB0b3AgIT09IHNlbGYgKSB7XHJcbiAgICAvLyBDaGVja3MgdG8gc2VlIGlmIHRoaXMgc2ltIGlzIGVtYmVkZGVkIC0gcGhldHNpbXMvY2hpcHBlciM1MFxyXG4gICAgbG9hZFR5cGUgPSAnZW1iZWRkZWQnO1xyXG4gIH1cclxuICAvLyBUT0RPIEFkZCBhZGRpdGlvbmFsIGNvbmRpdGlvbnMgZm9yIHRyYWNraW5nIGhpdHMgZnJvbSB0aGUgaW5zdGFsbGVyLCBldGMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvcGhldGNvbW1vbi9pc3N1ZXMvNDlcclxuICBlbHNlIHtcclxuICAgIGxvYWRUeXBlID0gJ2RlZmF1bHQnO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2VuZE1lc3NhZ2VzKCkge1xyXG4gICAgLy8ge2Jvb2xlYW59IC0gV2hldGhlciBhbiBlcnJvciB3YXMgZGV0ZWN0ZWQgd2l0aCBhbnl0aGluZyByZWxhdGluZyB0byBnb29nbGUgYW5hbHl0aWNzLlxyXG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy95b3R0YS9pc3N1ZXMvMzBcclxuICAgIGxldCBnb29nbGVBbmFseXRpY3NFcnJvcmVkID0gZmFsc2U7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ2Vycm9yJywgZXZlbnQgPT4ge1xyXG4gICAgICBpZiAoIGV2ZW50ICYmXHJcbiAgICAgICAgICAgZXZlbnQudGFyZ2V0ICYmXHJcbiAgICAgICAgICAgZXZlbnQudGFyZ2V0LnNyYyAmJlxyXG4gICAgICAgICAgIGV2ZW50LnRhcmdldC5zcmMuaW5kZXhPZiAmJlxyXG4gICAgICAgICAgIGV2ZW50LnRhcmdldC5zcmMuaW5kZXhPZiggJ2dvb2dsZS1hbmFseXRpY3MnICkgPj0gMCApIHtcclxuICAgICAgICBnb29nbGVBbmFseXRpY3NFcnJvcmVkID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSwgdHJ1ZSApO1xyXG5cclxuICAgIGxldCBwaW5nUGFyYW1zID0gYCR7J3Bpbmd2ZXI9MyYnICtcclxuICAgICAgJ3Byb2plY3Q9J30ke2VuY29kZVVSSUNvbXBvbmVudCggcGhldC5jaGlwcGVyLnByb2plY3QgKX0mYCArXHJcbiAgICAgIGBicmFuZD0ke2VuY29kZVVSSUNvbXBvbmVudCggcGhldC5jaGlwcGVyLmJyYW5kICl9JmAgK1xyXG4gICAgICBgdmVyc2lvbj0ke2VuY29kZVVSSUNvbXBvbmVudCggcGhldC5jaGlwcGVyLnZlcnNpb24gKX0mYCArXHJcbiAgICAgIGBsb2NhbGU9JHtlbmNvZGVVUklDb21wb25lbnQoIHBoZXQuY2hpcHBlci5sb2NhbGUgKX0mYCArXHJcbiAgICAgIGBidWlsZFRpbWVzdGFtcD0ke2VuY29kZVVSSUNvbXBvbmVudCggcGhldC5jaGlwcGVyLmJ1aWxkVGltZXN0YW1wICl9JmAgK1xyXG4gICAgICBgZG9tYWluPSR7ZW5jb2RlVVJJQ29tcG9uZW50KCBkb2N1bWVudC5kb21haW4gKX0mYCArXHJcbiAgICAgIGBocmVmPSR7ZW5jb2RlVVJJQ29tcG9uZW50KCB3aW5kb3cubG9jYXRpb24uaHJlZiApfSZgICtcclxuICAgICAgJ3R5cGU9aHRtbCYnICtcclxuICAgICAgYHRpbWVzdGFtcD0ke2VuY29kZVVSSUNvbXBvbmVudCggRGF0ZS5ub3coKSApfSZgICtcclxuICAgICAgYGxvYWRUeXBlPSR7ZW5jb2RlVVJJQ29tcG9uZW50KCBsb2FkVHlwZSApfSZgICtcclxuICAgICAgYHJlZj0ke2VuY29kZVVSSUNvbXBvbmVudCggZG9jdW1lbnQucmVmZXJyZXIgKX1gO1xyXG5cclxuICAgIC8vIEZvcndhcmQgeW90dGEtc3BlY2lmaWMgcXVlcnkgcGFyYW1ldGVycywgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9waGV0Y29tbW9uL2lzc3Vlcy82NlxyXG4gICAgZm9yICggY29uc3QgWyBrZXksIHZhbHVlIF0gb2YgbmV3IFVSTFNlYXJjaFBhcmFtcyggd2luZG93LmxvY2F0aW9uLnNlYXJjaCApICkge1xyXG4gICAgICBpZiAoIGtleS5zdGFydHNXaXRoKCAneW90dGEnICkgKSB7XHJcbiAgICAgICAgcGluZ1BhcmFtcyArPSBgJiR7ZW5jb2RlVVJJQ29tcG9uZW50KCBrZXkgKX09JHtlbmNvZGVVUklDb21wb25lbnQoIHZhbHVlICl9YDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBpbmdVUkwoIHVybCApIHtcclxuICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2ltZycgKTtcclxuICAgICAgaW1nLnNyYyA9IHVybDtcclxuICAgIH1cclxuXHJcbiAgICBwaW5nVVJMKCBgaHR0cHM6Ly9waGV0LmNvbG9yYWRvLmVkdS95b3R0YS9pbW1lZGlhdGUuZ2lmPyR7cGluZ1BhcmFtc31gICk7XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdsb2FkJywgZXZlbnQgPT4ge1xyXG4gICAgICBwaW5nVVJMKCBgaHR0cHM6Ly9waGV0LmNvbG9yYWRvLmVkdS95b3R0YS9zYW5pdHkuZ2lmPyR7cGluZ1BhcmFtc30mYCArXHJcbiAgICAgICAgICAgICAgIGBnYUVycm9yPSR7ZW5jb2RlVVJJQ29tcG9uZW50KCBnb29nbGVBbmFseXRpY3NFcnJvcmVkICl9JmAgK1xyXG4gICAgICAgICAgICAgICBgZ2FMb2FkZWQ9JHtlbmNvZGVVUklDb21wb25lbnQoIGZhbHNlICl9YCApO1xyXG4gICAgfSwgZmFsc2UgKTtcclxuXHJcbiAgICAvLyBFeHRlcm5hbCBHQTQgdHJhY2tlclxyXG4gICAgaWYgKCBwaGV0LmNoaXBwZXIucXVlcnlQYXJhbWV0ZXJzLmdhNCApIHtcclxuICAgICAgLy8gVXNlIGEgY3VzdG9tIGRhdGEgbGF5ZXIgdG8gYm90aCAoYSkgZ2V0IGd0YWcuanMgYW5kIGd0bSB0byB3b3JrIGF0IHRoZSBzYW1lIHRpbWUsIGFuZCAoYikgZG9uJ3QgcHJvdmlkZSB0aGVcclxuICAgICAgLy8gZXh0cmEgZGF0YSB0byB0aGlyZCBwYXJ0aWVzIGJ5IGRlZmF1bHRcclxuICAgICAgd2luZG93LmdhNERhdGFMYXllciA9IHdpbmRvdy5nYTREYXRhTGF5ZXIgfHwgW107XHJcblxyXG4gICAgICAvLyBOT1RFOiBVc2luZyB0aGUgR0EtcHJvdmlkZWQgZnVuY3Rpb24gaGVyZSwgdG8gYmUgZXh0cmEgY2F1dGlvdXMuXHJcbiAgICAgIGZ1bmN0aW9uIGd0YWcoKSB7IGdhNERhdGFMYXllci5wdXNoKCBhcmd1bWVudHMgKTsgfSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWlubmVyLWRlY2xhcmF0aW9ucyxuby11bmRlZixwcmVmZXItcmVzdC1wYXJhbXNcclxuXHJcbiAgICAgIGd0YWcoICdqcycsIG5ldyBEYXRlKCkgKTtcclxuICAgICAgZ3RhZyggJ2NvbnNlbnQnLCAnZGVmYXVsdCcsIHtcclxuICAgICAgICBhZF9zdG9yYWdlOiAnZGVuaWVkJyxcclxuICAgICAgICBhbmFseXRpY3Nfc3RvcmFnZTogJ2dyYW50ZWQnXHJcbiAgICAgIH0gKTtcclxuICAgICAgLy8gRUVBIGFuYWx5dGljcyBzdG9yYWdlIGRlbmllZCBmb3IgY29va2llcywgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy93ZWJzaXRlL2lzc3Vlcy8xMTkwXHJcbiAgICAgIGd0YWcoICdjb25zZW50JywgJ2RlZmF1bHQnLCB7XHJcbiAgICAgICAgYWRfc3RvcmFnZTogJ2RlbmllZCcsXHJcbiAgICAgICAgYW5hbHl0aWNzX3N0b3JhZ2U6ICdkZW5pZWQnLFxyXG4gICAgICAgIHJlZ2lvbjogWyAnQkUnLCAnQkcnLCAnQ1onLCAnREsnLCAnQ1knLCAnTFYnLCAnTFQnLCAnTFUnLCAnRVMnLCAnRlInLCAnSFInLCAnSVQnLCAnUEwnLCAnUFQnLCAnUk8nLCAnU0knLCAnSFUnLCAnTVQnLCAnTkwnLCAnQVQnLCAnSVMnLCAnTEknLCAnTk8nLCAnU0snLCAnRkknLCAnU0UnLCAnREUnLCAnRUUnLCAnSUUnLCAnRUwnLCAnR0InLCAnQ0gnIF1cclxuICAgICAgfSApO1xyXG4gICAgICBndGFnKCAnY29uZmlnJywgcGhldC5jaGlwcGVyLnF1ZXJ5UGFyYW1ldGVycy5nYTQgKTtcclxuXHJcbiAgICAgIC8vIER5bmFtaWNhbGx5IGxvYWQgdGhlIHNjcmlwdFxyXG4gICAgICBjb25zdCBmaXJzdFNjcmlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCAnc2NyaXB0JyApWyAwIF07XHJcbiAgICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdzY3JpcHQnICk7XHJcbiAgICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XHJcblxyXG4gICAgICAvLyBgbGAgcXVlcnkgcGFyYW1ldGVyIGFsbG93cyBhIGRpZmZlcmVudCBkYXRhIGxheWVyIG5hbWVcclxuICAgICAgc2NyaXB0LnNyYyA9IGBodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbS9ndGFnL2pzP2lkPSR7cGhldC5jaGlwcGVyLnF1ZXJ5UGFyYW1ldGVycy5nYTR9Jmw9Z2E0RGF0YUxheWVyYDtcclxuICAgICAgZmlyc3RTY3JpcHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIHNjcmlwdCwgZmlyc3RTY3JpcHQgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGb3Igc29tZSByZWFzb24sIGhhdmluZyBkYXRhTGF5ZXIgZGVjbGFyYXRpb24gaGVyZSBtaWdodCBoYXZlIGZpeGVkIHRoZSBhYmlsaXR5IHRvIHVzZSBndGFnLmpzIGFuZCBndG0uanMgYXQgdGhlXHJcbiAgICAvLyBzYW1lIHRpbWUuIERvbid0IG1vdmUgd2l0aG91dCB0ZXN0aW5nLlxyXG4gICAgd2luZG93LmRhdGFMYXllciA9IHdpbmRvdy5kYXRhTGF5ZXIgfHwgW107XHJcbiAgICBmdW5jdGlvbiBndG1UYWcoKSB7XHJcbiAgICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKCBhcmd1bWVudHMgKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcclxuICAgIH1cclxuICAgIGd0bVRhZyggJ2NvbnNlbnQnLCAnZGVmYXVsdCcsIHtcclxuICAgICAgYWRfc3RvcmFnZTogJ2RlbmllZCcsXHJcbiAgICAgIGFuYWx5dGljc19zdG9yYWdlOiAnZ3JhbnRlZCdcclxuICAgIH0gKTtcclxuICAgIC8vIEVFQSBhbmFseXRpY3Mgc3RvcmFnZSBkZW5pZWQgZm9yIGNvb2tpZXMsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvd2Vic2l0ZS9pc3N1ZXMvMTE5MFxyXG4gICAgZ3RtVGFnKCAnY29uc2VudCcsICdkZWZhdWx0Jywge1xyXG4gICAgICBhZF9zdG9yYWdlOiAnZGVuaWVkJyxcclxuICAgICAgYW5hbHl0aWNzX3N0b3JhZ2U6ICdkZW5pZWQnLFxyXG4gICAgICByZWdpb246IFsgJ0JFJywgJ0JHJywgJ0NaJywgJ0RLJywgJ0NZJywgJ0xWJywgJ0xUJywgJ0xVJywgJ0VTJywgJ0ZSJywgJ0hSJywgJ0lUJywgJ1BMJywgJ1BUJywgJ1JPJywgJ1NJJywgJ0hVJywgJ01UJywgJ05MJywgJ0FUJywgJ0lTJywgJ0xJJywgJ05PJywgJ1NLJywgJ0ZJJywgJ1NFJywgJ0RFJywgJ0VFJywgJ0lFJywgJ0VMJywgJ0dCJywgJ0NIJyBdXHJcbiAgICB9ICk7XHJcbiAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goIHtcclxuICAgICAgc2ltQnJhbmQ6IHBoZXQuY2hpcHBlci5icmFuZCxcclxuICAgICAgc2ltTmFtZTogcGhldC5jaGlwcGVyLnByb2plY3QsXHJcbiAgICAgIHNpbVZlcnNpb246IHBoZXQuY2hpcHBlci52ZXJzaW9uLFxyXG4gICAgICBzaW1Mb2NhbGU6IHBoZXQuY2hpcHBlci5sb2NhbGUsXHJcbiAgICAgIHNpbUJ1aWxkVGltZXN0YW1wOiBwaGV0LmNoaXBwZXIuYnVpbGRUaW1lc3RhbXAsXHJcbiAgICAgIHNpbUxvYWRUeXBlOiBsb2FkVHlwZSxcclxuICAgICAgZG9jdW1lbnRSZWZlcnJlcjogZG9jdW1lbnQucmVmZXJyZXJcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBHb29nbGUgVGFnIE1hbmFnZXIgKGd0bS5qcykgLSBJZGVudGljYWwgdG8gcmVjb21tZW5kZWQgc25pcHBldCB3aXRoIGVzbGludCBkaXNhYmxlcyB0byBrZWVwIGl0IHRoaXMgd2F5LlxyXG4gICAgKGZ1bmN0aW9uKHcsZCxzLGwsaSl7d1tsXT13W2xdfHxbXTt3W2xdLnB1c2goeydndG0uc3RhcnQnOm5ldyBEYXRlKCkuZ2V0VGltZSgpLGV2ZW50OidndG0uanMnfSk7dmFyIGY9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZShzKVswXSxqPWQuY3JlYXRlRWxlbWVudChzKSxkbD1sIT0nZGF0YUxheWVyJz8nJmw9JytsOicnO2ouYXN5bmM9dHJ1ZTtqLnNyYz0naHR0cHM6Ly93d3cuZ29vZ2xldGFnbWFuYWdlci5jb20vZ3RtLmpzP2lkPScraStkbDtmLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGosZik7fSkod2luZG93LGRvY3VtZW50LCdzY3JpcHQnLCdkYXRhTGF5ZXInLCdHVE0tV0xOR0JYRCcpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHNwYWNlLWluZml4LW9wcyxzcGFjZS1pbi1wYXJlbnMsY29tbWEtc3BhY2luZyxrZXktc3BhY2luZyxvbmUtdmFyLHNlbWktc3BhY2luZyxlcWVxZXEsY29tcHV0ZWQtcHJvcGVydHktc3BhY2luZyxuby12YXIsb25lLXZhci1kZWNsYXJhdGlvbi1wZXItbGluZSxvYmplY3QtY3VybHktc3BhY2luZyxzcGFjZS1iZWZvcmUtYmxvY2tzXHJcbiAgfVxyXG5cclxuICBpZiAoIGxvYWRUeXBlID09PSAncGhldC1hcHAnICkge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdsb2FkJywgKCkgPT4ge1xyXG4gICAgICBzZXRUaW1lb3V0KCBzZW5kTWVzc2FnZXMsIDAgKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYWQtc2ltLXRleHRcclxuICAgIH0sIGZhbHNlICk7XHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgc2VuZE1lc3NhZ2VzKCk7XHJcbiAgfVxyXG59ICkoKTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBRSxZQUFXO0VBQ1g7RUFDQSxJQUFLLENBQUNBLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxlQUFlLENBQUNDLEtBQUssRUFBRztJQUN6QztFQUNGO0VBRUFDLE1BQU0sSUFBSUEsTUFBTSxDQUFFQyxNQUFNLENBQUNMLElBQUksSUFBSUEsSUFBSSxDQUFDQyxPQUFPLEVBQUUsb0VBQXFFLENBQUM7RUFDckhHLE1BQU0sSUFBSUEsTUFBTSxDQUFFLENBQUMsQ0FBQ0osSUFBSSxDQUFDQyxPQUFPLENBQUNLLEtBQUssRUFBRSw4REFBK0QsQ0FBQztFQUN4R0YsTUFBTSxJQUFJQSxNQUFNLENBQUUsQ0FBQyxDQUFDSixJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsZUFBZSxFQUFFLGtFQUFtRSxDQUFDO0VBQ3RIRSxNQUFNLElBQUlBLE1BQU0sQ0FBRSxDQUFDLENBQUNKLElBQUksQ0FBQ0MsT0FBTyxDQUFDTSxjQUFjLEVBQUUsNENBQTZDLENBQUM7RUFDL0ZILE1BQU0sSUFBSUEsTUFB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