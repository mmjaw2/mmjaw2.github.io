// Copyright 2016-2024, University of Colorado Boulder

/**
 * Control panel that allows users to alter properties of the projectile fired.
 * Also includes a slider for changing altitude, which changes air density.
 *
 * @author Andrea Lin (PhET Interactive Simulations)
 */

import Dimension2 from '../../../../dot/js/Dimension2.js';
import Utils from '../../../../dot/js/Utils.js';
import merge from '../../../../phet-core/js/merge.js';
import StringUtils from '../../../../phetcommon/js/util/StringUtils.js';
import NumberControl from '../../../../scenery-phet/js/NumberControl.js';
import { HBox, HStrut, Node, VBox } from '../../../../scenery/js/imports.js';
import Panel from '../../../../sun/js/Panel.js';
import Tandem from '../../../../tandem/js/Tandem.js';
import ProjectileMotionConstants from '../../common/ProjectileMotionConstants.js';
import ArrowlessNumberControl from '../../common/view/ArrowlessNumberControl.js';
import ProjectileObjectViewFactory from '../../common/view/ProjectileObjectViewFactory.js';
import projectileMotion from '../../projectileMotion.js';
import ProjectileMotionStrings from '../../ProjectileMotionStrings.js';
const altitudeString = ProjectileMotionStrings.altitude;
const diameterString = ProjectileMotionStrings.diameter;
const dragCoefficientString = ProjectileMotionStrings.dragCoefficient;
const kgString = ProjectileMotionStrings.kg;
const massString = ProjectileMotionStrings.mass;
const mString = ProjectileMotionStrings.m;
const pattern0Value1UnitsWithSpaceString = ProjectileMotionStrings.pattern0Value1UnitsWithSpace;

// constants
const DRAG_OBJECT_DISPLAY_DIAMETER = 24;
const DRAG_OBJECT_MAX_WIDTH = 70; // empirically determined to account for the largest width of dragObjectDisplay
const TEXT_FONT = ProjectileMotionConstants.PANEL_LABEL_OPTIONS.font;
const READOUT_X_MARGIN = ProjectileMotionConstants.RIGHTSIDE_PANEL_OPTIONS.readoutXMargin;
class DragProjectileControlPanel extends Panel {
  /**
   * @param {Property.<ProjectileObjectType>} selectedObjectTypeProperty
   * @param {Property.<number>} projectileDragCoefficientProperty
   * @param {Property.<number>} projectileDiameterProperty
   * @param {Property.<number>} projectileMassProperty
   * @param {Property.<number>} altitudeProperty
   * @param {Object} [options]
   */
  constructor(selectedObjectTypeProperty, projectileDragCoefficientProperty, projectileDiameterProperty, projectileMassProperty, altitudeProperty, options) {
    // The first object is a placeholder so none of the others get mutated
    // The second object is the default, in the constants files
    // The third object is options specific to this panel, which overrides the defaults
    // The fourth object is options given at time of construction, which overrides all the others
    options = merge({}, ProjectileMotionConstants.RIGHTSIDE_PANEL_OPTIONS, {
      tandem: Tandem.REQUIRED
    }, options);
    const diameterNumberControl = new ArrowlessNumberControl(diameterString, mString, projectileDiameterProperty, selectedObjectTypeProperty.get().diameterRange, selectedObjectTypeProperty.get().diameterRound, {
      containerWidth: options.minWidth,
      xMargin: options.xMargin,
      numberDisplayMaxWidth: options.numberDisplayMaxWidth,
      tandem: options.tandem.createTandem('diameterNumberControl'),
      phetioDocumentation: 'UI control to adjust the diameter of the projectile'
    });
    const massNumberControl = new ArrowlessNumberControl(massString, kgString, projectileMassProperty, selectedObjectTypeProperty.get().massRange, selectedObjectTypeProperty.get().massRound, {
      containerWidth: options.minWidth,
      xMargin: options.xMargin,
      numberDisplayMaxWidth: options.numberDisplayMaxWidth,
      tandem: options.tandem.createTandem('massNumberControl'),
      phetioDocumentation: 'UI control to adjust the mass of the projectile'
    });
    const defaultNumberControlOptions = {
      numberDisplayOptions: {
        align: 'right',
        maxWidth: options.numberDisplayMaxWidth + options.readoutXMargin * 2,
        xMargin: READOUT_X_MARGIN,
        yMargin: 4,
        textOptions: {
          font: TEXT_FONT
        }
      },
      titleNodeOptions: {
        font: TEXT_FONT,
        maxWidth: options.minWidth - options.numberDisplayMaxWidth - 3 * options.readoutXMargin - 2 * options.xMargin
      },
      sliderOptions: {
        trackSize: new Dimension2(options.minWidth - 2 * options.xMargin - 80, 0.5),
        thumbSize: new Dimension2(13, 22),
        thumbTouchAreaXDilation: 6,
        thumbTouchAreaYDilation: 4
      },
      arrowButtonOptions: {
        scale: 0.56,
        touchAreaXDilation: 20,
        touchAreaYDilation: 20
      }
    };

    // create altitude number control
    const altitudeBox = new NumberControl(altitudeString, altitudeProperty, ProjectileMotionConstants.ALTITUDE_RANGE, merge({}, defaultNumberControlOptions, {
      numberDisplayOptions: {
        // results in '{{value}} m'
        valuePattern: StringUtils.fillIn(pattern0Value1UnitsWithSpaceString, {
          units: mString
        }),
        xMargin: 8
      },
      sliderOptions: {
        constrainValue: value => Utils.roundToInterval(value, 100)
      },
      delta: 100,
      layoutFunction: NumberControl.createLayoutFunction4({
        arrowButtonSpacing: 10
      }),
      tandem: options.tandem.createTandem('altitudeNumberControl'),
      phetioDocumentation: 'UI control to adjust the altitude of position where the projectile is being launched'
    }));
    const dragObjectDisplay = new Node({
      tandem: options.tandem.createTandem('dragObjectDisplay'),
      phetioDocumentation: 'the icon that changes shape as the drag coefficient changes value'
    });
    dragObjectDisplay.addChild(new HStrut(DRAG_OBJECT_DISPLAY_DIAMETER)); // min size

    // layout function for drag coefficient NumberControl. This is needed to add the icon in
    const dragLayoutFunction = (titleNode, numberDisplay, slider, leftArrowButton, rightArrowButton) => {
      const strut = new HStrut(DRAG_OBJECT_MAX_WIDTH); //
      const displayBox = new VBox({
        align: 'center',
        children: [strut, dragObjectDisplay]
      });
      const displayAndValueBox = new HBox({
        spacing: options.xMargin,
        children: [displayBox, numberDisplay]
      });
      return NumberControl.createLayoutFunction4({
        arrowButtonSpacing: 10
      })(titleNode, displayAndValueBox, slider, leftArrowButton, rightArrowButton);
    };

    // create drag coefficient control box
    const dragCoefficientBox = new NumberControl(dragCoefficientString, projectileDragCoefficientProperty, selectedObjectTypeProperty.get().dragCoefficientRange, merge({}, defaultNumberControlOptions, {
      titleNodeOptions: {
        // whole panel, take away margins, take away numberDisplay, take away drag icon
        maxWidth: options.minWidth - 2 * options.xMargin - options.numberDisplayMaxWidth - options.readoutXMargin - DRAG_OBJECT_MAX_WIDTH
      },
      numberDisplayOptions: {
        constrainValue: value => Utils.roundToInterval(value, 0.01),
        decimalPlaces: 2
      },
      delta: 0.01,
      layoutFunction: dragLayoutFunction,
      tandem: options.tandem.createTandem('dragCoefficientNumberControl'),
      phetioDocumentation: 'UI control to adjust the drag coefficient of the projectile'
    }));

    // Listen to changes in model drag coefficient and update the little projectile object display
    projectileDragCoefficientProperty.link(dragCoefficient => {
      if (dragObjectDisplay.children.length > 1) {
        dragObjectDisplay.removeChildAt(1);
      }
      const objectView = ProjectileObjectViewFactory.createCustom(DRAG_OBJECT_DISPLAY_DIAMETER, dragCoefficient);
      objectView.center = dragObjectDisplay.center;
      dragObjectDisplay.addChild(objectView);
    });

    // The contents of the control panel
    const content = new VBox({
      align: 'left',
      spacing: options.controlsVerticalSpace,
      children: [dragCoefficientBox, diameterNumberControl, massNumberControl, altitudeBox]
    });
    super(content, options);
  }
}
projectileMotion.register('DragProjectileControlPanel', DragProjectileControlPanel);
export default DragProjectileControlPanel;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEaW1lbnNpb24yIiwiVXRpbHMiLCJtZXJnZSIsIlN0cmluZ1V0aWxzIiwiTnVtYmVyQ29udHJvbCIsIkhCb3giLCJIU3RydXQiLCJOb2RlIiwiVkJveCIsIlBhbmVsIiwiVGFuZGVtIiwiUHJvamVjdGlsZU1vdGlvbkNvbnN0YW50cyIsIkFycm93bGVzc051bWJlckNvbnRyb2wiLCJQcm9qZWN0aWxlT2JqZWN0Vmlld0ZhY3RvcnkiLCJwcm9qZWN0aWxlTW90aW9uIiwiUHJvamVjdGlsZU1vdGlvblN0cmluZ3MiLCJhbHRpdHVkZVN0cmluZyIsImFsdGl0dWRlIiwiZGlhbWV0ZXJTdHJpbmciLCJkaWFtZXRlciIsImRyYWdDb2VmZmljaWVudFN0cmluZyIsImRyYWdDb2VmZmljaWVudCIsImtnU3RyaW5nIiwia2ciLCJtYXNzU3RyaW5nIiwibWFzcyIsIm1TdHJpbmciLCJtIiwicGF0dGVybjBWYWx1ZTFVbml0c1dpdGhTcGFjZVN0cmluZyIsInBhdHRlcm4wVmFsdWUxVW5pdHNXaXRoU3BhY2UiLCJEUkFHX09CSkVDVF9ESVNQTEFZX0RJQU1FVEVSIiwiRFJBR19PQkpFQ1RfTUFYX1dJRFRIIiwiVEVYVF9GT05UIiwiUEFORUxfTEFCRUxfT1BUSU9OUyIsImZvbnQiLCJSRUFET1VUX1hfTUFSR0lOIiwiUklHSFRTSURFX1BBTkVMX09QVElPTlMiLCJyZWFkb3V0WE1hcmdpbiIsIkRyYWdQcm9qZWN0aWxlQ29udHJvbFBhbmVsIiwiY29uc3RydWN0b3IiLCJzZWxlY3RlZE9iamVjdFR5cGVQcm9wZXJ0eSIsInByb2plY3RpbGVEcmFnQ29lZmZpY2llbnRQcm9wZXJ0eSIsInByb2plY3RpbGVEaWFtZXRlclByb3BlcnR5IiwicHJvamVjdGlsZU1hc3NQcm9wZXJ0eSIsImFsdGl0dWRlUHJvcGVydHkiLCJvcHRpb25zIiwidGFuZGVtIiwiUkVRVUlSRUQiLCJkaWFtZXRlck51bWJlckNvbnRyb2wiLCJnZXQiLCJkaWFtZXRlclJhbmdlIiwiZGlhbWV0ZXJSb3VuZCIsImNvbnRhaW5lcldpZHRoIiwibWluV2lkdGgiLCJ4TWFyZ2luIiwibnVtYmVyRGlzcGxheU1heFdpZHRoIiwiY3JlYXRlVGFuZGVtIiwicGhldGlvRG9jdW1lbnRhdGlvbiIsIm1hc3NOdW1iZXJDb250cm9sIiwibWFzc1JhbmdlIiwibWFzc1JvdW5kIiwiZGVmYXVsdE51bWJlckNvbnRyb2xPcHRpb25zIiwibnVtYmVyRGlzcGxheU9wdGlvbnMiLCJhbGlnbiIsIm1heFdpZHRoIiwieU1hcmdpbiIsInRleHRPcHRpb25zIiwidGl0bGVOb2RlT3B0aW9ucyIsInNsaWRlck9wdGlvbnMiLCJ0cmFja1NpemUiLCJ0aHVtYlNpemUiLCJ0aHVtYlRvdWNoQXJlYVhEaWxhdGlvbiIsInRodW1iVG91Y2hBcmVhWURpbGF0aW9uIiwiYXJyb3dCdXR0b25PcHRpb25zIiwic2NhbGUiLCJ0b3VjaEFyZWFYRGlsYXRpb24iLCJ0b3VjaEFyZWFZRGlsYXRpb24iLCJhbHRpdHVkZUJveCIsIkFMVElUVURFX1JBTkdFIiwidmFsdWVQYXR0ZXJuIiwiZmlsbEluIiwidW5pdHMiLCJjb25zdHJhaW5WYWx1ZSIsInZhbHVlIiwicm91bmRUb0ludGVydmFsIiwiZGVsdGEiLCJsYXlvdXRGdW5jdGlvbiIsImNyZWF0ZUxheW91dEZ1bmN0aW9uNCIsImFycm93QnV0dG9uU3BhY2luZyIsImRyYWdPYmplY3REaXNwbGF5IiwiYWRkQ2hpbGQiLCJkcmFnTGF5b3V0RnVuY3Rpb24iLCJ0aXRsZU5vZGUiLCJudW1iZXJEaXNwbGF5Iiwic2xpZGVyIiwibGVmdEFycm93QnV0dG9uIiwicmlnaHRBcnJvd0J1dHRvbiIsInN0cnV0IiwiZGlzcGxheUJveCIsImNoaWxkcmVuIiwiZGlzcGxheUFuZFZhbHVlQm94Iiwic3BhY2luZyIsImRyYWdDb2VmZmljaWVudEJveCIsImRyYWdDb2VmZmljaWVudFJhbmdlIiwiZGVjaW1hbFBsYWNlcyIsImxpbmsiLCJsZW5ndGgiLCJyZW1vdmVDaGlsZEF0Iiwib2JqZWN0VmlldyIsImNyZWF0ZUN1c3RvbSIsImNlbnRlciIsImNvbnRlbnQiLCJjb250cm9sc1ZlcnRpY2FsU3BhY2UiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkRyYWdQcm9qZWN0aWxlQ29udHJvbFBhbmVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE2LTIwMjQsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIENvbnRyb2wgcGFuZWwgdGhhdCBhbGxvd3MgdXNlcnMgdG8gYWx0ZXIgcHJvcGVydGllcyBvZiB0aGUgcHJvamVjdGlsZSBmaXJlZC5cclxuICogQWxzbyBpbmNsdWRlcyBhIHNsaWRlciBmb3IgY2hhbmdpbmcgYWx0aXR1ZGUsIHdoaWNoIGNoYW5nZXMgYWlyIGRlbnNpdHkuXHJcbiAqXHJcbiAqIEBhdXRob3IgQW5kcmVhIExpbiAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgRGltZW5zaW9uMiBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvRGltZW5zaW9uMi5qcyc7XHJcbmltcG9ydCBVdGlscyBmcm9tICcuLi8uLi8uLi8uLi9kb3QvanMvVXRpbHMuanMnO1xyXG5pbXBvcnQgbWVyZ2UgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL21lcmdlLmpzJztcclxuaW1wb3J0IFN0cmluZ1V0aWxzIGZyb20gJy4uLy4uLy4uLy4uL3BoZXRjb21tb24vanMvdXRpbC9TdHJpbmdVdGlscy5qcyc7XHJcbmltcG9ydCBOdW1iZXJDb250cm9sIGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9OdW1iZXJDb250cm9sLmpzJztcclxuaW1wb3J0IHsgSEJveCwgSFN0cnV0LCBOb2RlLCBWQm94IH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IFBhbmVsIGZyb20gJy4uLy4uLy4uLy4uL3N1bi9qcy9QYW5lbC5qcyc7XHJcbmltcG9ydCBUYW5kZW0gZnJvbSAnLi4vLi4vLi4vLi4vdGFuZGVtL2pzL1RhbmRlbS5qcyc7XHJcbmltcG9ydCBQcm9qZWN0aWxlTW90aW9uQ29uc3RhbnRzIGZyb20gJy4uLy4uL2NvbW1vbi9Qcm9qZWN0aWxlTW90aW9uQ29uc3RhbnRzLmpzJztcclxuaW1wb3J0IEFycm93bGVzc051bWJlckNvbnRyb2wgZnJvbSAnLi4vLi4vY29tbW9uL3ZpZXcvQXJyb3dsZXNzTnVtYmVyQ29udHJvbC5qcyc7XHJcbmltcG9ydCBQcm9qZWN0aWxlT2JqZWN0Vmlld0ZhY3RvcnkgZnJvbSAnLi4vLi4vY29tbW9uL3ZpZXcvUHJvamVjdGlsZU9iamVjdFZpZXdGYWN0b3J5LmpzJztcclxuaW1wb3J0IHByb2plY3RpbGVNb3Rpb24gZnJvbSAnLi4vLi4vcHJvamVjdGlsZU1vdGlvbi5qcyc7XHJcbmltcG9ydCBQcm9qZWN0aWxlTW90aW9uU3RyaW5ncyBmcm9tICcuLi8uLi9Qcm9qZWN0aWxlTW90aW9uU3RyaW5ncy5qcyc7XHJcblxyXG5jb25zdCBhbHRpdHVkZVN0cmluZyA9IFByb2plY3RpbGVNb3Rpb25TdHJpbmdzLmFsdGl0dWRlO1xyXG5jb25zdCBkaWFtZXRlclN0cmluZyA9IFByb2plY3RpbGVNb3Rpb25TdHJpbmdzLmRpYW1ldGVyO1xyXG5jb25zdCBkcmFnQ29lZmZpY2llbnRTdHJpbmcgPSBQcm9qZWN0aWxlTW90aW9uU3RyaW5ncy5kcmFnQ29lZmZpY2llbnQ7XHJcbmNvbnN0IGtnU3RyaW5nID0gUHJvamVjdGlsZU1vdGlvblN0cmluZ3Mua2c7XHJcbmNvbnN0IG1hc3NTdHJpbmcgPSBQcm9qZWN0aWxlTW90aW9uU3RyaW5ncy5tYXNzO1xyXG5jb25zdCBtU3RyaW5nID0gUHJvamVjdGlsZU1vdGlvblN0cmluZ3MubTtcclxuY29uc3QgcGF0dGVybjBWYWx1ZTFVbml0c1dpdGhTcGFjZVN0cmluZyA9IFByb2plY3RpbGVNb3Rpb25TdHJpbmdzLnBhdHRlcm4wVmFsdWUxVW5pdHNXaXRoU3BhY2U7XHJcblxyXG4vLyBjb25zdGFudHNcclxuY29uc3QgRFJBR19PQkpFQ1RfRElTUExBWV9ESUFNRVRFUiA9IDI0O1xyXG5jb25zdCBEUkFHX09CSkVDVF9NQVhfV0lEVEggPSA3MDsgLy8gZW1waXJpY2FsbHkgZGV0ZXJtaW5lZCB0byBhY2NvdW50IGZvciB0aGUgbGFyZ2VzdCB3aWR0aCBvZiBkcmFnT2JqZWN0RGlzcGxheVxyXG5jb25zdCBURVhUX0ZPTlQgPSBQcm9qZWN0aWxlTW90aW9uQ29uc3RhbnRzLlBBTkVMX0xBQkVMX09QVElPTlMuZm9udDtcclxuY29uc3QgUkVBRE9VVF9YX01BUkdJTiA9IFByb2plY3RpbGVNb3Rpb25Db25zdGFudHMuUklHSFRTSURFX1BBTkVMX09QVElPTlMucmVhZG91dFhNYXJnaW47XHJcblxyXG5jbGFzcyBEcmFnUHJvamVjdGlsZUNvbnRyb2xQYW5lbCBleHRlbmRzIFBhbmVsIHtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtQcm9wZXJ0eS48UHJvamVjdGlsZU9iamVjdFR5cGU+fSBzZWxlY3RlZE9iamVjdFR5cGVQcm9wZXJ0eVxyXG4gICAqIEBwYXJhbSB7UHJvcGVydHkuPG51bWJlcj59IHByb2plY3RpbGVEcmFnQ29lZmZpY2llbnRQcm9wZXJ0eVxyXG4gICAqIEBwYXJhbSB7UHJvcGVydHkuPG51bWJlcj59IHByb2plY3RpbGVEaWFtZXRlclByb3BlcnR5XHJcbiAgICogQHBhcmFtIHtQcm9wZXJ0eS48bnVtYmVyPn0gcHJvamVjdGlsZU1hc3NQcm9wZXJ0eVxyXG4gICAqIEBwYXJhbSB7UHJvcGVydHkuPG51bWJlcj59IGFsdGl0dWRlUHJvcGVydHlcclxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoIHNlbGVjdGVkT2JqZWN0VHlwZVByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICBwcm9qZWN0aWxlRHJhZ0NvZWZmaWNpZW50UHJvcGVydHksXHJcbiAgICAgICAgICAgICAgIHByb2plY3RpbGVEaWFtZXRlclByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICBwcm9qZWN0aWxlTWFzc1Byb3BlcnR5LFxyXG4gICAgICAgICAgICAgICBhbHRpdHVkZVByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICBvcHRpb25zICkge1xyXG5cclxuICAgIC8vIFRoZSBmaXJzdCBvYmplY3QgaXMgYSBwbGFjZWhvbGRlciBzbyBub25lIG9mIHRoZSBvdGhlcnMgZ2V0IG11dGF0ZWRcclxuICAgIC8vIFRoZSBzZWNvbmQgb2JqZWN0IGlzIHRoZSBkZWZhdWx0LCBpbiB0aGUgY29uc3RhbnRzIGZpbGVzXHJcbiAgICAvLyBUaGUgdGhpcmQgb2JqZWN0IGlzIG9wdGlvbnMgc3BlY2lmaWMgdG8gdGhpcyBwYW5lbCwgd2hpY2ggb3ZlcnJpZGVzIHRoZSBkZWZhdWx0c1xyXG4gICAgLy8gVGhlIGZvdXJ0aCBvYmplY3QgaXMgb3B0aW9ucyBnaXZlbiBhdCB0aW1lIG9mIGNvbnN0cnVjdGlvbiwgd2hpY2ggb3ZlcnJpZGVzIGFsbCB0aGUgb3RoZXJzXHJcbiAgICBvcHRpb25zID0gbWVyZ2UoIHt9LCBQcm9qZWN0aWxlTW90aW9uQ29uc3RhbnRzLlJJR0hUU0lERV9QQU5FTF9PUFRJT05TLCB7XHJcbiAgICAgIHRhbmRlbTogVGFuZGVtLlJFUVVJUkVEXHJcbiAgICB9LCBvcHRpb25zICk7XHJcblxyXG4gICAgY29uc3QgZGlhbWV0ZXJOdW1iZXJDb250cm9sID0gbmV3IEFycm93bGVzc051bWJlckNvbnRyb2woXHJcbiAgICAgIGRpYW1ldGVyU3RyaW5nLFxyXG4gICAgICBtU3RyaW5nLFxyXG4gICAgICBwcm9qZWN0aWxlRGlhbWV0ZXJQcm9wZXJ0eSxcclxuICAgICAgc2VsZWN0ZWRPYmplY3RUeXBlUHJvcGVydHkuZ2V0KCkuZGlhbWV0ZXJSYW5nZSxcclxuICAgICAgc2VsZWN0ZWRPYmplY3RUeXBlUHJvcGVydHkuZ2V0KCkuZGlhbWV0ZXJSb3VuZCwge1xyXG4gICAgICAgIGNvbnRhaW5lcldpZHRoOiBvcHRpb25zLm1pbldpZHRoLFxyXG4gICAgICAgIHhNYXJnaW46IG9wdGlvbnMueE1hcmdpbixcclxuICAgICAgICBudW1iZXJEaXNwbGF5TWF4V2lkdGg6IG9wdGlvbnMubnVtYmVyRGlzcGxheU1heFdpZHRoLFxyXG4gICAgICAgIHRhbmRlbTogb3B0aW9ucy50YW5kZW0uY3JlYXRlVGFuZGVtKCAnZGlhbWV0ZXJOdW1iZXJDb250cm9sJyApLFxyXG4gICAgICAgIHBoZXRpb0RvY3VtZW50YXRpb246ICdVSSBjb250cm9sIHRvIGFkanVzdCB0aGUgZGlhbWV0ZXIgb2YgdGhlIHByb2plY3RpbGUnXHJcbiAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgbWFzc051bWJlckNvbnRyb2wgPSBuZXcgQXJyb3dsZXNzTnVtYmVyQ29udHJvbChcclxuICAgICAgbWFzc1N0cmluZyxcclxuICAgICAga2dTdHJpbmcsXHJcbiAgICAgIHByb2plY3RpbGVNYXNzUHJvcGVydHksXHJcbiAgICAgIHNlbGVjdGVkT2JqZWN0VHlwZVByb3BlcnR5LmdldCgpLm1hc3NSYW5nZSxcclxuICAgICAgc2VsZWN0ZWRPYmplY3RUeXBlUHJvcGVydHkuZ2V0KCkubWFzc1JvdW5kLCB7XHJcbiAgICAgICAgY29udGFpbmVyV2lkdGg6IG9wdGlvbnMubWluV2lkdGgsXHJcbiAgICAgICAgeE1hcmdpbjogb3B0aW9ucy54TWFyZ2luLFxyXG4gICAgICAgIG51bWJlckRpc3BsYXlNYXhXaWR0aDogb3B0aW9ucy5udW1iZXJEaXNwbGF5TWF4V2lkdGgsXHJcbiAgICAgICAgdGFuZGVtOiBvcHRpb25zLnRhbmRlbS5jcmVhdGVUYW5kZW0oICdtYXNzTnVtYmVyQ29udHJvbCcgKSxcclxuICAgICAgICBwaGV0aW9Eb2N1bWVudGF0aW9uOiAnVUkgY29udHJvbCB0byBhZGp1c3QgdGhlIG1hc3Mgb2YgdGhlIHByb2plY3RpbGUnXHJcbiAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgZGVmYXVsdE51bWJlckNvbnRyb2xPcHRpb25zID0ge1xyXG4gICAgICBudW1iZXJEaXNwbGF5T3B0aW9uczoge1xyXG4gICAgICAgIGFsaWduOiAncmlnaHQnLFxyXG4gICAgICAgIG1heFdpZHRoOiBvcHRpb25zLm51bWJlckRpc3BsYXlNYXhXaWR0aCArIG9wdGlvbnMucmVhZG91dFhNYXJnaW4gKiAyLFxyXG4gICAgICAgIHhNYXJnaW46IFJFQURPVVRfWF9NQVJHSU4sXHJcbiAgICAgICAgeU1hcmdpbjogNCxcclxuICAgICAgICB0ZXh0T3B0aW9uczoge1xyXG4gICAgICAgICAgZm9udDogVEVYVF9GT05UXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB0aXRsZU5vZGVPcHRpb25zOiB7XHJcbiAgICAgICAgZm9udDogVEVYVF9GT05ULFxyXG4gICAgICAgIG1heFdpZHRoOiBvcHRpb25zLm1pbldpZHRoIC0gb3B0aW9ucy5udW1iZXJEaXNwbGF5TWF4V2lkdGggLSAzICogb3B0aW9ucy5yZWFkb3V0WE1hcmdpbiAtIDIgKiBvcHRpb25zLnhNYXJnaW5cclxuICAgICAgfSxcclxuICAgICAgc2xpZGVyT3B0aW9uczoge1xyXG4gICAgICAgIHRyYWNrU2l6ZTogbmV3IERpbWVuc2lvbjIoIG9wdGlvbnMubWluV2lkdGggLSAyICogb3B0aW9ucy54TWFyZ2luIC0gODAsIDAuNSApLFxyXG4gICAgICAgIHRodW1iU2l6ZTogbmV3IERpbWVuc2lvbjIoIDEzLCAyMiApLFxyXG4gICAgICAgIHRodW1iVG91Y2hBcmVhWERpbGF0aW9uOiA2LFxyXG4gICAgICAgIHRodW1iVG91Y2hBcmVhWURpbGF0aW9uOiA0XHJcbiAgICAgIH0sXHJcbiAgICAgIGFycm93QnV0dG9uT3B0aW9uczoge1xyXG4gICAgICAgIHNjYWxlOiAwLjU2LFxyXG4gICAgICAgIHRvdWNoQXJlYVhEaWxhdGlvbjogMjAsXHJcbiAgICAgICAgdG91Y2hBcmVhWURpbGF0aW9uOiAyMFxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGNyZWF0ZSBhbHRpdHVkZSBudW1iZXIgY29udHJvbFxyXG4gICAgY29uc3QgYWx0aXR1ZGVCb3ggPSBuZXcgTnVtYmVyQ29udHJvbChcclxuICAgICAgYWx0aXR1ZGVTdHJpbmcsIGFsdGl0dWRlUHJvcGVydHksXHJcbiAgICAgIFByb2plY3RpbGVNb3Rpb25Db25zdGFudHMuQUxUSVRVREVfUkFOR0UsXHJcbiAgICAgIG1lcmdlKCB7fSwgZGVmYXVsdE51bWJlckNvbnRyb2xPcHRpb25zLCB7XHJcbiAgICAgICAgbnVtYmVyRGlzcGxheU9wdGlvbnM6IHtcclxuXHJcbiAgICAgICAgICAvLyByZXN1bHRzIGluICd7e3ZhbHVlfX0gbSdcclxuICAgICAgICAgIHZhbHVlUGF0dGVybjogU3RyaW5nVXRpbHMuZmlsbEluKCBwYXR0ZXJuMFZhbHVlMVVuaXRzV2l0aFNwYWNlU3RyaW5nLCB7IHVuaXRzOiBtU3RyaW5nIH0gKSxcclxuICAgICAgICAgIHhNYXJnaW46IDhcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNsaWRlck9wdGlvbnM6IHtcclxuICAgICAgICAgIGNvbnN0cmFpblZhbHVlOiB2YWx1ZSA9PiBVdGlscy5yb3VuZFRvSW50ZXJ2YWwoIHZhbHVlLCAxMDAgKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGVsdGE6IDEwMCxcclxuICAgICAgICBsYXlvdXRGdW5jdGlvbjogTnVtYmVyQ29udHJvbC5jcmVhdGVMYXlvdXRGdW5jdGlvbjQoIHtcclxuICAgICAgICAgIGFycm93QnV0dG9uU3BhY2luZzogMTBcclxuICAgICAgICB9ICksXHJcbiAgICAgICAgdGFuZGVtOiBvcHRpb25zLnRhbmRlbS5jcmVhdGVUYW5kZW0oICdhbHRpdHVkZU51bWJlckNvbnRyb2wnICksXHJcbiAgICAgICAgcGhldGlvRG9jdW1lbnRhdGlvbjogJ1VJIGNvbnRyb2wgdG8gYWRqdXN0IHRoZSBhbHRpdHVkZSBvZiBwb3NpdGlvbiB3aGVyZSB0aGUgcHJvamVjdGlsZSBpcyBiZWluZyBsYXVuY2hlZCdcclxuICAgICAgfSApXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IGRyYWdPYmplY3REaXNwbGF5ID0gbmV3IE5vZGUoIHtcclxuICAgICAgdGFuZGVtOiBvcHRpb25zLnRhbmRlbS5jcmVhdGVUYW5kZW0oICdkcmFnT2JqZWN0RGlzcGxheScgKSxcclxuICAgICAgcGhldGlvRG9jdW1lbnRhdGlvbjogJ3RoZSBpY29uIHRoYXQgY2hhbmdlcyBzaGFwZSBhcyB0aGUgZHJhZyBjb2VmZmljaWVudCBjaGFuZ2VzIHZhbHVlJ1xyXG4gICAgfSApO1xyXG4gICAgZHJhZ09iamVjdERpc3BsYXkuYWRkQ2hpbGQoIG5ldyBIU3RydXQoIERSQUdfT0JKRUNUX0RJU1BMQVlfRElBTUVURVIgKSApOyAvLyBtaW4gc2l6ZVxyXG5cclxuICAgIC8vIGxheW91dCBmdW5jdGlvbiBmb3IgZHJhZyBjb2VmZmljaWVudCBOdW1iZXJDb250cm9sLiBUaGlzIGlzIG5lZWRlZCB0byBhZGQgdGhlIGljb24gaW5cclxuICAgIGNvbnN0IGRyYWdMYXlvdXRGdW5jdGlvbiA9ICggdGl0bGVOb2RlLCBudW1iZXJEaXNwbGF5LCBzbGlkZXIsIGxlZnRBcnJvd0J1dHRvbiwgcmlnaHRBcnJvd0J1dHRvbiApID0+IHtcclxuXHJcbiAgICAgIGNvbnN0IHN0cnV0ID0gbmV3IEhTdHJ1dCggRFJBR19PQkpFQ1RfTUFYX1dJRFRIICk7IC8vXHJcbiAgICAgIGNvbnN0IGRpc3BsYXlCb3ggPSBuZXcgVkJveCggeyBhbGlnbjogJ2NlbnRlcicsIGNoaWxkcmVuOiBbIHN0cnV0LCBkcmFnT2JqZWN0RGlzcGxheSBdIH0gKTtcclxuICAgICAgY29uc3QgZGlzcGxheUFuZFZhbHVlQm94ID0gbmV3IEhCb3goIHsgc3BhY2luZzogb3B0aW9ucy54TWFyZ2luLCBjaGlsZHJlbjogWyBkaXNwbGF5Qm94LCBudW1iZXJEaXNwbGF5IF0gfSApO1xyXG4gICAgICByZXR1cm4gTnVtYmVyQ29udHJvbC5jcmVhdGVMYXlvdXRGdW5jdGlvbjQoIHtcclxuICAgICAgICBhcnJvd0J1dHRvblNwYWNpbmc6IDEwXHJcbiAgICAgIH0gKSggdGl0bGVOb2RlLCBkaXNwbGF5QW5kVmFsdWVCb3gsIHNsaWRlciwgbGVmdEFycm93QnV0dG9uLCByaWdodEFycm93QnV0dG9uICk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGNyZWF0ZSBkcmFnIGNvZWZmaWNpZW50IGNvbnRyb2wgYm94XHJcbiAgICBjb25zdCBkcmFnQ29lZmZpY2llbnRCb3ggPSBuZXcgTnVtYmVyQ29udHJvbChcclxuICAgICAgZHJhZ0NvZWZmaWNpZW50U3RyaW5nLFxyXG4gICAgICBwcm9qZWN0aWxlRHJhZ0NvZWZmaWNpZW50UHJvcGVydHksXHJcbiAgICAgIHNlbGVjdGVkT2JqZWN0VHlwZVByb3BlcnR5LmdldCgpLmRyYWdDb2VmZmljaWVudFJhbmdlLFxyXG4gICAgICBtZXJnZSgge30sIGRlZmF1bHROdW1iZXJDb250cm9sT3B0aW9ucywge1xyXG4gICAgICAgIHRpdGxlTm9kZU9wdGlvbnM6IHtcclxuXHJcbiAgICAgICAgICAvLyB3aG9sZSBwYW5lbCwgdGFrZSBhd2F5IG1hcmdpbnMsIHRha2UgYXdheSBudW1iZXJEaXNwbGF5LCB0YWtlIGF3YXkgZHJhZyBpY29uXHJcbiAgICAgICAgICBtYXhXaWR0aDogb3B0aW9ucy5taW5XaWR0aCAtIDIgKiBvcHRpb25zLnhNYXJnaW4gLSBvcHRpb25zLm51bWJlckRpc3BsYXlNYXhXaWR0aCAtIG9wdGlvbnMucmVhZG91dFhNYXJnaW4gLVxyXG4gICAgICAgICAgICAgICAgICAgIERSQUdfT0JKRUNUX01BWF9XSURUSFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbnVtYmVyRGlzcGxheU9wdGlvbnM6IHtcclxuICAgICAgICAgIGNvbnN0cmFpblZhbHVlOiB2YWx1ZSA9PiBVdGlscy5yb3VuZFRvSW50ZXJ2YWwoIHZhbHVlLCAwLjAxICksXHJcbiAgICAgICAgICBkZWNpbWFsUGxhY2VzOiAyXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZGVsdGE6IDAuMDEsXHJcbiAgICAgICAgbGF5b3V0RnVuY3Rpb246IGRyYWdMYXlvdXRGdW5jdGlvbixcclxuICAgICAgICB0YW5kZW06IG9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2RyYWdDb2VmZmljaWVudE51bWJlckNvbnRyb2wnICksXHJcbiAgICAgICAgcGhldGlvRG9jdW1lbnRhdGlvbjogJ1VJIGNvbnRyb2wgdG8gYWRqdXN0IHRoZSBkcmFnIGNvZWZmaWNpZW50IG9mIHRoZSBwcm9qZWN0aWxlJ1xyXG4gICAgICB9IClcclxuICAgICk7XHJcblxyXG4gICAgLy8gTGlzdGVuIHRvIGNoYW5nZXMgaW4gbW9kZWwgZHJhZyBjb2VmZmljaWVudCBhbmQgdXBkYXRlIHRoZSBsaXR0bGUgcHJvamVjdGlsZSBvYmplY3QgZGlzcGxheVxyXG4gICAgcHJvamVjdGlsZURyYWdDb2VmZmljaWVudFByb3BlcnR5LmxpbmsoIGRyYWdDb2VmZmljaWVudCA9PiB7XHJcbiAgICAgIGlmICggZHJhZ09iamVjdERpc3BsYXkuY2hpbGRyZW4ubGVuZ3RoID4gMSApIHtcclxuICAgICAgICBkcmFnT2JqZWN0RGlzcGxheS5yZW1vdmVDaGlsZEF0KCAxICk7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3Qgb2JqZWN0VmlldyA9IFByb2plY3RpbGVPYmplY3RWaWV3RmFjdG9yeS5jcmVhdGVDdXN0b20oIERSQUdfT0JKRUNUX0RJU1BMQVlfRElBTUVURVIsIGRyYWdDb2VmZmljaWVudCApO1xyXG4gICAgICBvYmplY3RWaWV3LmNlbnRlciA9IGRyYWdPYmplY3REaXNwbGF5LmNlbnRlcjtcclxuICAgICAgZHJhZ09iamVjdERpc3BsYXkuYWRkQ2hpbGQoIG9iamVjdFZpZXcgKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBUaGUgY29udGVudHMgb2YgdGhlIGNvbnRyb2wgcGFuZWxcclxuICAgIGNvbnN0IGNvbnRlbnQgPSBuZXcgVkJveCgge1xyXG4gICAgICBhbGlnbjogJ2xlZnQnLFxyXG4gICAgICBzcGFjaW5nOiBvcHRpb25zLmNvbnRyb2xzVmVydGljYWxTcGFjZSxcclxuICAgICAgY2hpbGRyZW46IFtcclxuICAgICAgICBkcmFnQ29lZmZpY2llbnRCb3gsXHJcbiAgICAgICAgZGlhbWV0ZXJOdW1iZXJDb250cm9sLFxyXG4gICAgICAgIG1hc3NOdW1iZXJDb250cm9sLFxyXG4gICAgICAgIGFsdGl0dWRlQm94XHJcbiAgICAgIF1cclxuICAgIH0gKTtcclxuXHJcbiAgICBzdXBlciggY29udGVudCwgb3B0aW9ucyApO1xyXG4gIH1cclxufVxyXG5cclxucHJvamVjdGlsZU1vdGlvbi5yZWdpc3RlciggJ0RyYWdQcm9qZWN0aWxlQ29udHJvbFBhbmVsJywgRHJhZ1Byb2plY3RpbGVDb250cm9sUGFuZWwgKTtcclxuZXhwb3J0IGRlZmF1bHQgRHJhZ1Byb2plY3RpbGVDb250cm9sUGFuZWw7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsVUFBVSxNQUFNLGtDQUFrQztBQUN6RCxPQUFPQyxLQUFLLE1BQU0sNkJBQTZCO0FBQy9DLE9BQU9DLEtBQUssTUFBTSxtQ0FBbUM7QUFDckQsT0FBT0MsV0FBVyxNQUFNLCtDQUErQztBQUN2RSxPQUFPQyxhQUFhLE1BQU0sOENBQThDO0FBQ3hFLFNBQVNDLElBQUksRUFBRUMsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLElBQUksUUFBUSxtQ0FBbUM7QUFDNUUsT0FBT0MsS0FBSyxNQUFNLDZCQUE2QjtBQUMvQyxPQUFPQyxNQUFNLE1BQU0saUNBQWlDO0FBQ3BELE9BQU9DLHlCQUF5QixNQUFNLDJDQUEyQztBQUNqRixPQUFPQyxzQkFBc0IsTUFBTSw2Q0FBNkM7QUFDaEYsT0FBT0MsMkJBQTJCLE1BQU0sa0RBQWtEO0FBQzFGLE9BQU9DLGdCQUFnQixNQUFNLDJCQUEyQjtBQUN4RCxPQUFPQyx1QkFBdUIsTUFBTSxrQ0FBa0M7QUFFdEUsTUFBTUMsY0FBYyxHQUFHRCx1QkFBdUIsQ0FBQ0UsUUFBUTtBQUN2RCxN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