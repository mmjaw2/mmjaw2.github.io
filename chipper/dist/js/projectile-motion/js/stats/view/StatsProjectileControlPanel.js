// Copyright 2022-2024, University of Colorado Boulder

/**
 * Control panel that allows users to choose what kind of projectile to fire
 * and view the properties of this projectile.
 * Also includes a checkbox for turning on and off air resistance.
 *
 * @author Andrea Lin (PhET Interactive Simulations)
 * @author Matthew Blackman (PhET Interactive Simulations)
 */

import Utils from '../../../../dot/js/Utils.js';
import merge from '../../../../phet-core/js/merge.js';
import StringUtils from '../../../../phetcommon/js/util/StringUtils.js';
import { HSeparator, HStrut, Text, VBox } from '../../../../scenery/js/imports.js';
import ComboBox from '../../../../sun/js/ComboBox.js';
import Panel from '../../../../sun/js/Panel.js';
import Tandem from '../../../../tandem/js/Tandem.js';
import ProjectileMotionConstants from '../../common/ProjectileMotionConstants.js';
import AirResistanceControl from '../../common/view/AirResistanceControl.js';
import projectileMotion from '../../projectileMotion.js';
import ProjectileMotionStrings from '../../ProjectileMotionStrings.js';
const diameterString = ProjectileMotionStrings.diameter;
const kgString = ProjectileMotionStrings.kg;
const massString = ProjectileMotionStrings.mass;
const mString = ProjectileMotionStrings.m;
const pattern0Value1UnitsWithSpaceString = ProjectileMotionStrings.pattern0Value1UnitsWithSpace;

// constants
const LABEL_OPTIONS = ProjectileMotionConstants.PANEL_LABEL_OPTIONS;
class StatsProjectileControlPanel extends Panel {
  /**
   * @param {Array.<ProjectileObjectType>} objectTypes - types of objects available for the dropdown model
   * @param {Property.<ProjectileObjectType>} selectedProjectileObjectTypeProperty - currently selected type of object
   * @param {Node} comboBoxListParent - node for containing the combo box
   * @param {Property.<number>} projectileMassProperty
   * @param {Property.<number>} projectileDiameterProperty
   * @param {Property.<number>} projectileDragCoefficientProperty
   * @param {Property.<boolean>} airResistanceOnProperty - whether air resistance is on
   * @param {Object} [options]
   */
  constructor(objectTypes, selectedProjectileObjectTypeProperty, comboBoxListParent, projectileMassProperty, projectileDiameterProperty, projectileDragCoefficientProperty, airResistanceOnProperty, options) {
    // The first object is a placeholder so none of the others get mutated
    // The second object is the default, in the constants files
    // The third object is options specific to this panel, which overrides the defaults
    // The fourth object is options given at time of construction, which overrides all the others
    options = merge({}, ProjectileMotionConstants.RIGHTSIDE_PANEL_OPTIONS, {
      tandem: Tandem.REQUIRED
    }, options);

    // maxWidth of the labels within the dropdown empirically determined
    const itemNodeOptions = merge({}, LABEL_OPTIONS, {
      maxWidth: 170
    });
    const firstItemNode = new VBox({
      align: 'left',
      children: [new Text(objectTypes[0].name, itemNodeOptions)]
    });
    const comboBoxWidth = options.minWidth - 2 * options.xMargin;
    const itemXMargin = 6;
    const buttonXMargin = 10;
    const comboBoxLineWidth = 1;

    // first item contains horizontal strut that sets width of combo box
    const firstItemNodeWidth = comboBoxWidth - itemXMargin - 0.5 * firstItemNode.height - 4 * buttonXMargin - 2 * itemXMargin - 2 * comboBoxLineWidth;
    firstItemNode.addChild(new HStrut(firstItemNodeWidth));
    const comboBoxItems = [];
    for (let i = 0; i < objectTypes.length; i++) {
      const projectileType = objectTypes[i];
      assert && assert(projectileType.benchmark, 'benchmark needed for tandemName');
      comboBoxItems[i] = {
        value: projectileType,
        createNode: () => i === 0 ? firstItemNode : new Text(projectileType.name, itemNodeOptions),
        tandemName: `${projectileType.benchmark}Item`
      };
    }

    // create view for dropdown
    const projectileChoiceComboBox = new ComboBox(selectedProjectileObjectTypeProperty, comboBoxItems, comboBoxListParent, {
      xMargin: 12,
      yMargin: 7,
      cornerRadius: 4,
      buttonLineWidth: comboBoxLineWidth,
      listLineWidth: comboBoxLineWidth,
      tandem: options.tandem.createTandem('projectileChoiceComboBox'),
      phetioDocumentation: 'Combo box that selects what projectile type to launch from the cannon'
    });

    // local var for layout and formatting
    const parameterLabelOptions = merge({}, LABEL_OPTIONS, {
      maxWidth: options.minWidth - 2 * options.xMargin
    });

    /**
     * Auxiliary function that creates vbox for a parameter label and readouts
     * @private
     *
     * @param {string} labelString - label for the parameter
     * @param {string} unitsString - units
     * @param {Property.<number>} valueProperty - the Property that is set and linked to
     * @param {Tandem} tandem
     * @returns {VBox}
     */
    function createReadout(labelString, unitsString, valueProperty, tandem) {
      const parameterLabel = new Text('', merge({
        tandem: tandem,
        stringPropertyOptions: {
          phetioReadOnly: true
        }
      }, parameterLabelOptions));
      parameterLabel.setBoundsMethod('accurate');
      valueProperty.link(value => {
        const valueReadout = unitsString ? StringUtils.fillIn(pattern0Value1UnitsWithSpaceString, {
          value: value,
          units: unitsString
        }) : Utils.toFixed(value, 2);
        parameterLabel.setString(`${labelString}: ${valueReadout}`);
      });
      return new VBox({
        align: 'left',
        children: [parameterLabel, new HStrut(parameterLabelOptions.maxWidth)]
      });
    }
    const massText = createReadout(massString, kgString, projectileMassProperty, options.tandem.createTandem('massText'));
    const diameterText = createReadout(diameterString, mString, projectileDiameterProperty, options.tandem.createTandem('diameterText'));

    // The contents of the control panel
    const content = new VBox({
      align: 'left',
      spacing: options.controlsVerticalSpace,
      children: [projectileChoiceComboBox, massText, diameterText, new HSeparator({
        stroke: ProjectileMotionConstants.SEPARATOR_COLOR
      }), new AirResistanceControl(airResistanceOnProperty, projectileDragCoefficientProperty, {
        labelOptions: LABEL_OPTIONS,
        minWidth: options.minWidth,
        xMargin: options.xMargin,
        spacing: options.controlsVerticalSpace,
        tandem: options.tandem.createTandem('airResistanceControl')
      })]
    });
    super(content, options);

    // @private make visible to methods
    this.projectileChoiceComboBox = projectileChoiceComboBox;
  }

  // @public for use by screen view
  hideComboBoxList() {
    this.projectileChoiceComboBox.hideListBox();
  }
}
projectileMotion.register('StatsProjectileControlPanel', StatsProjectileControlPanel);
export default StatsProjectileControlPanel;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVdGlscyIsIm1lcmdlIiwiU3RyaW5nVXRpbHMiLCJIU2VwYXJhdG9yIiwiSFN0cnV0IiwiVGV4dCIsIlZCb3giLCJDb21ib0JveCIsIlBhbmVsIiwiVGFuZGVtIiwiUHJvamVjdGlsZU1vdGlvbkNvbnN0YW50cyIsIkFpclJlc2lzdGFuY2VDb250cm9sIiwicHJvamVjdGlsZU1vdGlvbiIsIlByb2plY3RpbGVNb3Rpb25TdHJpbmdzIiwiZGlhbWV0ZXJTdHJpbmciLCJkaWFtZXRlciIsImtnU3RyaW5nIiwia2ciLCJtYXNzU3RyaW5nIiwibWFzcyIsIm1TdHJpbmciLCJtIiwicGF0dGVybjBWYWx1ZTFVbml0c1dpdGhTcGFjZVN0cmluZyIsInBhdHRlcm4wVmFsdWUxVW5pdHNXaXRoU3BhY2UiLCJMQUJFTF9PUFRJT05TIiwiUEFORUxfTEFCRUxfT1BUSU9OUyIsIlN0YXRzUHJvamVjdGlsZUNvbnRyb2xQYW5lbCIsImNvbnN0cnVjdG9yIiwib2JqZWN0VHlwZXMiLCJzZWxlY3RlZFByb2plY3RpbGVPYmplY3RUeXBlUHJvcGVydHkiLCJjb21ib0JveExpc3RQYXJlbnQiLCJwcm9qZWN0aWxlTWFzc1Byb3BlcnR5IiwicHJvamVjdGlsZURpYW1ldGVyUHJvcGVydHkiLCJwcm9qZWN0aWxlRHJhZ0NvZWZmaWNpZW50UHJvcGVydHkiLCJhaXJSZXNpc3RhbmNlT25Qcm9wZXJ0eSIsIm9wdGlvbnMiLCJSSUdIVFNJREVfUEFORUxfT1BUSU9OUyIsInRhbmRlbSIsIlJFUVVJUkVEIiwiaXRlbU5vZGVPcHRpb25zIiwibWF4V2lkdGgiLCJmaXJzdEl0ZW1Ob2RlIiwiYWxpZ24iLCJjaGlsZHJlbiIsIm5hbWUiLCJjb21ib0JveFdpZHRoIiwibWluV2lkdGgiLCJ4TWFyZ2luIiwiaXRlbVhNYXJnaW4iLCJidXR0b25YTWFyZ2luIiwiY29tYm9Cb3hMaW5lV2lkdGgiLCJmaXJzdEl0ZW1Ob2RlV2lkdGgiLCJoZWlnaHQiLCJhZGRDaGlsZCIsImNvbWJvQm94SXRlbXMiLCJpIiwibGVuZ3RoIiwicHJvamVjdGlsZVR5cGUiLCJhc3NlcnQiLCJiZW5jaG1hcmsiLCJ2YWx1ZSIsImNyZWF0ZU5vZGUiLCJ0YW5kZW1OYW1lIiwicHJvamVjdGlsZUNob2ljZUNvbWJvQm94IiwieU1hcmdpbiIsImNvcm5lclJhZGl1cyIsImJ1dHRvbkxpbmVXaWR0aCIsImxpc3RMaW5lV2lkdGgiLCJjcmVhdGVUYW5kZW0iLCJwaGV0aW9Eb2N1bWVudGF0aW9uIiwicGFyYW1ldGVyTGFiZWxPcHRpb25zIiwiY3JlYXRlUmVhZG91dCIsImxhYmVsU3RyaW5nIiwidW5pdHNTdHJpbmciLCJ2YWx1ZVByb3BlcnR5IiwicGFyYW1ldGVyTGFiZWwiLCJzdHJpbmdQcm9wZXJ0eU9wdGlvbnMiLCJwaGV0aW9SZWFkT25seSIsInNldEJvdW5kc01ldGhvZCIsImxpbmsiLCJ2YWx1ZVJlYWRvdXQiLCJmaWxsSW4iLCJ1bml0cyIsInRvRml4ZWQiLCJzZXRTdHJpbmciLCJtYXNzVGV4dCIsImRpYW1ldGVyVGV4dCIsImNvbnRlbnQiLCJzcGFjaW5nIiwiY29udHJvbHNWZXJ0aWNhbFNwYWNlIiwic3Ryb2tlIiwiU0VQQVJBVE9SX0NPTE9SIiwibGFiZWxPcHRpb25zIiwiaGlkZUNvbWJvQm94TGlzdCIsImhpZGVMaXN0Qm94IiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJTdGF0c1Byb2plY3RpbGVDb250cm9sUGFuZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMjItMjAyNCwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG4vKipcclxuICogQ29udHJvbCBwYW5lbCB0aGF0IGFsbG93cyB1c2VycyB0byBjaG9vc2Ugd2hhdCBraW5kIG9mIHByb2plY3RpbGUgdG8gZmlyZVxyXG4gKiBhbmQgdmlldyB0aGUgcHJvcGVydGllcyBvZiB0aGlzIHByb2plY3RpbGUuXHJcbiAqIEFsc28gaW5jbHVkZXMgYSBjaGVja2JveCBmb3IgdHVybmluZyBvbiBhbmQgb2ZmIGFpciByZXNpc3RhbmNlLlxyXG4gKlxyXG4gKiBAYXV0aG9yIEFuZHJlYSBMaW4gKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqIEBhdXRob3IgTWF0dGhldyBCbGFja21hbiAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1V0aWxzLmpzJztcclxuaW1wb3J0IG1lcmdlIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9tZXJnZS5qcyc7XHJcbmltcG9ydCBTdHJpbmdVdGlscyBmcm9tICcuLi8uLi8uLi8uLi9waGV0Y29tbW9uL2pzL3V0aWwvU3RyaW5nVXRpbHMuanMnO1xyXG5pbXBvcnQgeyBIU2VwYXJhdG9yLCBIU3RydXQsIFRleHQsIFZCb3ggfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgQ29tYm9Cb3ggZnJvbSAnLi4vLi4vLi4vLi4vc3VuL2pzL0NvbWJvQm94LmpzJztcclxuaW1wb3J0IFBhbmVsIGZyb20gJy4uLy4uLy4uLy4uL3N1bi9qcy9QYW5lbC5qcyc7XHJcbmltcG9ydCBUYW5kZW0gZnJvbSAnLi4vLi4vLi4vLi4vdGFuZGVtL2pzL1RhbmRlbS5qcyc7XHJcbmltcG9ydCBQcm9qZWN0aWxlTW90aW9uQ29uc3RhbnRzIGZyb20gJy4uLy4uL2NvbW1vbi9Qcm9qZWN0aWxlTW90aW9uQ29uc3RhbnRzLmpzJztcclxuaW1wb3J0IEFpclJlc2lzdGFuY2VDb250cm9sIGZyb20gJy4uLy4uL2NvbW1vbi92aWV3L0FpclJlc2lzdGFuY2VDb250cm9sLmpzJztcclxuaW1wb3J0IHByb2plY3RpbGVNb3Rpb24gZnJvbSAnLi4vLi4vcHJvamVjdGlsZU1vdGlvbi5qcyc7XHJcbmltcG9ydCBQcm9qZWN0aWxlTW90aW9uU3RyaW5ncyBmcm9tICcuLi8uLi9Qcm9qZWN0aWxlTW90aW9uU3RyaW5ncy5qcyc7XHJcblxyXG5jb25zdCBkaWFtZXRlclN0cmluZyA9IFByb2plY3RpbGVNb3Rpb25TdHJpbmdzLmRpYW1ldGVyO1xyXG5jb25zdCBrZ1N0cmluZyA9IFByb2plY3RpbGVNb3Rpb25TdHJpbmdzLmtnO1xyXG5jb25zdCBtYXNzU3RyaW5nID0gUHJvamVjdGlsZU1vdGlvblN0cmluZ3MubWFzcztcclxuY29uc3QgbVN0cmluZyA9IFByb2plY3RpbGVNb3Rpb25TdHJpbmdzLm07XHJcbmNvbnN0IHBhdHRlcm4wVmFsdWUxVW5pdHNXaXRoU3BhY2VTdHJpbmcgPVxyXG4gIFByb2plY3RpbGVNb3Rpb25TdHJpbmdzLnBhdHRlcm4wVmFsdWUxVW5pdHNXaXRoU3BhY2U7XHJcblxyXG4vLyBjb25zdGFudHNcclxuY29uc3QgTEFCRUxfT1BUSU9OUyA9IFByb2plY3RpbGVNb3Rpb25Db25zdGFudHMuUEFORUxfTEFCRUxfT1BUSU9OUztcclxuXHJcbmNsYXNzIFN0YXRzUHJvamVjdGlsZUNvbnRyb2xQYW5lbCBleHRlbmRzIFBhbmVsIHtcclxuICAvKipcclxuICAgKiBAcGFyYW0ge0FycmF5LjxQcm9qZWN0aWxlT2JqZWN0VHlwZT59IG9iamVjdFR5cGVzIC0gdHlwZXMgb2Ygb2JqZWN0cyBhdmFpbGFibGUgZm9yIHRoZSBkcm9wZG93biBtb2RlbFxyXG4gICAqIEBwYXJhbSB7UHJvcGVydHkuPFByb2plY3RpbGVPYmplY3RUeXBlPn0gc2VsZWN0ZWRQcm9qZWN0aWxlT2JqZWN0VHlwZVByb3BlcnR5IC0gY3VycmVudGx5IHNlbGVjdGVkIHR5cGUgb2Ygb2JqZWN0XHJcbiAgICogQHBhcmFtIHtOb2RlfSBjb21ib0JveExpc3RQYXJlbnQgLSBub2RlIGZvciBjb250YWluaW5nIHRoZSBjb21ibyBib3hcclxuICAgKiBAcGFyYW0ge1Byb3BlcnR5LjxudW1iZXI+fSBwcm9qZWN0aWxlTWFzc1Byb3BlcnR5XHJcbiAgICogQHBhcmFtIHtQcm9wZXJ0eS48bnVtYmVyPn0gcHJvamVjdGlsZURpYW1ldGVyUHJvcGVydHlcclxuICAgKiBAcGFyYW0ge1Byb3BlcnR5LjxudW1iZXI+fSBwcm9qZWN0aWxlRHJhZ0NvZWZmaWNpZW50UHJvcGVydHlcclxuICAgKiBAcGFyYW0ge1Byb3BlcnR5Ljxib29sZWFuPn0gYWlyUmVzaXN0YW5jZU9uUHJvcGVydHkgLSB3aGV0aGVyIGFpciByZXNpc3RhbmNlIGlzIG9uXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgb2JqZWN0VHlwZXMsXHJcbiAgICBzZWxlY3RlZFByb2plY3RpbGVPYmplY3RUeXBlUHJvcGVydHksXHJcbiAgICBjb21ib0JveExpc3RQYXJlbnQsXHJcbiAgICBwcm9qZWN0aWxlTWFzc1Byb3BlcnR5LFxyXG4gICAgcHJvamVjdGlsZURpYW1ldGVyUHJvcGVydHksXHJcbiAgICBwcm9qZWN0aWxlRHJhZ0NvZWZmaWNpZW50UHJvcGVydHksXHJcbiAgICBhaXJSZXNpc3RhbmNlT25Qcm9wZXJ0eSxcclxuICAgIG9wdGlvbnNcclxuICApIHtcclxuICAgIC8vIFRoZSBmaXJzdCBvYmplY3QgaXMgYSBwbGFjZWhvbGRlciBzbyBub25lIG9mIHRoZSBvdGhlcnMgZ2V0IG11dGF0ZWRcclxuICAgIC8vIFRoZSBzZWNvbmQgb2JqZWN0IGlzIHRoZSBkZWZhdWx0LCBpbiB0aGUgY29uc3RhbnRzIGZpbGVzXHJcbiAgICAvLyBUaGUgdGhpcmQgb2JqZWN0IGlzIG9wdGlvbnMgc3BlY2lmaWMgdG8gdGhpcyBwYW5lbCwgd2hpY2ggb3ZlcnJpZGVzIHRoZSBkZWZhdWx0c1xyXG4gICAgLy8gVGhlIGZvdXJ0aCBvYmplY3QgaXMgb3B0aW9ucyBnaXZlbiBhdCB0aW1lIG9mIGNvbnN0cnVjdGlvbiwgd2hpY2ggb3ZlcnJpZGVzIGFsbCB0aGUgb3RoZXJzXHJcbiAgICBvcHRpb25zID0gbWVyZ2UoXHJcbiAgICAgIHt9LFxyXG4gICAgICBQcm9qZWN0aWxlTW90aW9uQ29uc3RhbnRzLlJJR0hUU0lERV9QQU5FTF9PUFRJT05TLFxyXG4gICAgICB7XHJcbiAgICAgICAgdGFuZGVtOiBUYW5kZW0uUkVRVUlSRURcclxuICAgICAgfSxcclxuICAgICAgb3B0aW9uc1xyXG4gICAgKTtcclxuXHJcbiAgICAvLyBtYXhXaWR0aCBvZiB0aGUgbGFiZWxzIHdpdGhpbiB0aGUgZHJvcGRvd24gZW1waXJpY2FsbHkgZGV0ZXJtaW5lZFxyXG4gICAgY29uc3QgaXRlbU5vZGVPcHRpb25zID0gbWVyZ2UoIHt9LCBMQUJFTF9PUFRJT05TLCB7IG1heFdpZHRoOiAxNzAgfSApO1xyXG5cclxuICAgIGNvbnN0IGZpcnN0SXRlbU5vZGUgPSBuZXcgVkJveCgge1xyXG4gICAgICBhbGlnbjogJ2xlZnQnLFxyXG4gICAgICBjaGlsZHJlbjogWyBuZXcgVGV4dCggb2JqZWN0VHlwZXNbIDAgXS5uYW1lLCBpdGVtTm9kZU9wdGlvbnMgKSBdXHJcbiAgICB9ICk7XHJcblxyXG4gICAgY29uc3QgY29tYm9Cb3hXaWR0aCA9IG9wdGlvbnMubWluV2lkdGggLSAyICogb3B0aW9ucy54TWFyZ2luO1xyXG4gICAgY29uc3QgaXRlbVhNYXJnaW4gPSA2O1xyXG4gICAgY29uc3QgYnV0dG9uWE1hcmdpbiA9IDEwO1xyXG4gICAgY29uc3QgY29tYm9Cb3hMaW5lV2lkdGggPSAxO1xyXG5cclxuICAgIC8vIGZpcnN0IGl0ZW0gY29udGFpbnMgaG9yaXpvbnRhbCBzdHJ1dCB0aGF0IHNldHMgd2lkdGggb2YgY29tYm8gYm94XHJcbiAgICBjb25zdCBmaXJzdEl0ZW1Ob2RlV2lkdGggPVxyXG4gICAgICBjb21ib0JveFdpZHRoIC1cclxuICAgICAgaXRlbVhNYXJnaW4gLVxyXG4gICAgICAwLjUgKiBmaXJzdEl0ZW1Ob2RlLmhlaWdodCAtXHJcbiAgICAgIDQgKiBidXR0b25YTWFyZ2luIC1cclxuICAgICAgMiAqIGl0ZW1YTWFyZ2luIC1cclxuICAgICAgMiAqIGNvbWJvQm94TGluZVdpZHRoO1xyXG4gICAgZmlyc3RJdGVtTm9kZS5hZGRDaGlsZCggbmV3IEhTdHJ1dCggZmlyc3RJdGVtTm9kZVdpZHRoICkgKTtcclxuXHJcbiAgICBjb25zdCBjb21ib0JveEl0ZW1zID0gW107XHJcblxyXG4gICAgZm9yICggbGV0IGkgPSAwOyBpIDwgb2JqZWN0VHlwZXMubGVuZ3RoOyBpKysgKSB7XHJcbiAgICAgIGNvbnN0IHByb2plY3RpbGVUeXBlID0gb2JqZWN0VHlwZXNbIGkgXTtcclxuICAgICAgYXNzZXJ0ICYmIGFzc2VydCggcHJvamVjdGlsZVR5cGUuYmVuY2htYXJrLCAnYmVuY2htYXJrIG5lZWRlZCBmb3IgdGFuZGVtTmFtZScgKTtcclxuXHJcbiAgICAgIGNvbWJvQm94SXRlbXNbIGkgXSA9IHtcclxuICAgICAgICB2YWx1ZTogcHJvamVjdGlsZVR5cGUsXHJcbiAgICAgICAgY3JlYXRlTm9kZTogKCkgPT4gaSA9PT0gMCA/IGZpcnN0SXRlbU5vZGUgOiBuZXcgVGV4dCggcHJvamVjdGlsZVR5cGUubmFtZSwgaXRlbU5vZGVPcHRpb25zICksXHJcbiAgICAgICAgdGFuZGVtTmFtZTogYCR7cHJvamVjdGlsZVR5cGUuYmVuY2htYXJrfUl0ZW1gXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY3JlYXRlIHZpZXcgZm9yIGRyb3Bkb3duXHJcbiAgICBjb25zdCBwcm9qZWN0aWxlQ2hvaWNlQ29tYm9Cb3ggPSBuZXcgQ29tYm9Cb3goXHJcbiAgICAgIHNlbGVjdGVkUHJvamVjdGlsZU9iamVjdFR5cGVQcm9wZXJ0eSxcclxuICAgICAgY29tYm9Cb3hJdGVtcyxcclxuICAgICAgY29tYm9Cb3hMaXN0UGFyZW50LFxyXG4gICAgICB7XHJcbiAgICAgICAgeE1hcmdpbjogMTIsXHJcbiAgICAgICAgeU1hcmdpbjogNyxcclxuICAgICAgICBjb3JuZXJSYWRpdXM6IDQsXHJcbiAgICAgICAgYnV0dG9uTGluZVdpZHRoOiBjb21ib0JveExpbmVXaWR0aCxcclxuICAgICAgICBsaXN0TGluZVdpZHRoOiBjb21ib0JveExpbmVXaWR0aCxcclxuICAgICAgICB0YW5kZW06IG9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ3Byb2plY3RpbGVDaG9pY2VDb21ib0JveCcgKSxcclxuICAgICAgICBwaGV0aW9Eb2N1bWVudGF0aW9uOlxyXG4gICAgICAgICAgJ0NvbWJvIGJveCB0aGF0IHNlbGVjdHMgd2hhdCBwcm9qZWN0aWxlIHR5cGUgdG8gbGF1bmNoIGZyb20gdGhlIGNhbm5vbidcclxuICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBsb2NhbCB2YXIgZm9yIGxheW91dCBhbmQgZm9ybWF0dGluZ1xyXG4gICAgY29uc3QgcGFyYW1ldGVyTGFiZWxPcHRpb25zID0gbWVyZ2UoIHt9LCBMQUJFTF9PUFRJT05TLCB7XHJcbiAgICAgIG1heFdpZHRoOiBvcHRpb25zLm1pbldpZHRoIC0gMiAqIG9wdGlvbnMueE1hcmdpblxyXG4gICAgfSApO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQXV4aWxpYXJ5IGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyB2Ym94IGZvciBhIHBhcmFtZXRlciBsYWJlbCBhbmQgcmVhZG91dHNcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsU3RyaW5nIC0gbGFiZWwgZm9yIHRoZSBwYXJhbWV0ZXJcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1bml0c1N0cmluZyAtIHVuaXRzXHJcbiAgICAgKiBAcGFyYW0ge1Byb3BlcnR5LjxudW1iZXI+fSB2YWx1ZVByb3BlcnR5IC0gdGhlIFByb3BlcnR5IHRoYXQgaXMgc2V0IGFuZCBsaW5rZWQgdG9cclxuICAgICAqIEBwYXJhbSB7VGFuZGVtfSB0YW5kZW1cclxuICAgICAqIEByZXR1cm5zIHtWQm94fVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVSZWFkb3V0KCBsYWJlbFN0cmluZywgdW5pdHNTdHJpbmcsIHZhbHVlUHJvcGVydHksIHRhbmRlbSApIHtcclxuICAgICAgY29uc3QgcGFyYW1ldGVyTGFiZWwgPSBuZXcgVGV4dChcclxuICAgICAgICAnJyxcclxuICAgICAgICBtZXJnZShcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgdGFuZGVtOiB0YW5kZW0sXHJcbiAgICAgICAgICAgIHN0cmluZ1Byb3BlcnR5T3B0aW9uczogeyBwaGV0aW9SZWFkT25seTogdHJ1ZSB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcGFyYW1ldGVyTGFiZWxPcHRpb25zXHJcbiAgICAgICAgKVxyXG4gICAgICApO1xyXG5cclxuICAgICAgcGFyYW1ldGVyTGFiZWwuc2V0Qm91bmRzTWV0aG9kKCAnYWNjdXJhdGUnICk7XHJcblxyXG4gICAgICB2YWx1ZVByb3BlcnR5LmxpbmsoIHZhbHVlID0+IHtcclxuICAgICAgICBjb25zdCB2YWx1ZVJlYWRvdXQgPSB1bml0c1N0cmluZyA/IFN0cmluZ1V0aWxzLmZpbGxJbiggcGF0dGVybjBWYWx1ZTFVbml0c1dpdGhTcGFjZVN0cmluZywge1xyXG4gICAgICAgICAgdmFsdWU6IHZhbHVlLFxyXG4gICAgICAgICAgdW5pdHM6IHVuaXRzU3RyaW5nXHJcbiAgICAgICAgfSApIDogVXRpbHMudG9GaXhlZCggdmFsdWUsIDIgKTtcclxuICAgICAgICBwYXJhbWV0ZXJMYWJlbC5zZXRTdHJpbmcoIGAke2xhYmVsU3RyaW5nfTogJHt2YWx1ZVJlYWRvdXR9YCApO1xyXG4gICAgICB9ICk7XHJcblxyXG4gICAgICByZXR1cm4gbmV3IFZCb3goIHtcclxuICAgICAgICBhbGlnbjogJ2xlZnQnLFxyXG4gICAgICAgIGNoaWxkcmVuOiBbIHBhcmFtZXRlckxhYmVsLCBuZXcgSFN0cnV0KCBwYXJhbWV0ZXJMYWJlbE9wdGlvbnMubWF4V2lkdGggKSBdXHJcbiAgICAgIH0gKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBtYXNzVGV4dCA9IGNyZWF0ZVJlYWRvdXQoXHJcbiAgICAgIG1hc3NTdHJpbmcsXHJcbiAgICAgIGtnU3RyaW5nLFxyXG4gICAgICBwcm9qZWN0aWxlTWFzc1Byb3BlcnR5LFxyXG4gICAgICBvcHRpb25zLnRhbmRlbS5jcmVhdGVUYW5kZW0oICdtYXNzVGV4dCcgKVxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCBkaWFtZXRlclRleHQgPSBjcmVhdGVSZWFkb3V0KFxyXG4gICAgICBkaWFtZXRlclN0cmluZyxcclxuICAgICAgbVN0cmluZyxcclxuICAgICAgcHJvamVjdGlsZURpYW1ldGVyUHJvcGVydHksXHJcbiAgICAgIG9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2RpYW1ldGVyVGV4dCcgKVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBUaGUgY29udGVudHMgb2YgdGhlIGNvbnRyb2wgcGFuZWxcclxuICAgIGNvbnN0IGNvbnRlbnQgPSBuZXcgVkJveCgge1xyXG4gICAgICBhbGlnbjogJ2xlZnQnLFxyXG4gICAgICBzcGFjaW5nOiBvcHRpb25zLmNvbnRyb2xzVmVydGljYWxTcGFjZSxcclxuICAgICAgY2hpbGRyZW46IFtcclxuICAgICAgICBwcm9qZWN0aWxlQ2hvaWNlQ29tYm9Cb3gsXHJcbiAgICAgICAgbWFzc1RleHQsXHJcbiAgICAgICAgZGlhbWV0ZXJUZXh0LFxyXG4gICAgICAgIG5ldyBIU2VwYXJhdG9yKCB7IHN0cm9rZTogUHJvamVjdGlsZU1vdGlvbkNvbnN0YW50cy5TRVBBUkFUT1JfQ09MT1IgfSApLFxyXG4gICAgICAgIG5ldyBBaXJSZXNpc3RhbmNlQ29udHJvbChcclxuICAgICAgICAgIGFpclJlc2lzdGFuY2VPblByb3BlcnR5LFxyXG4gICAgICAgICAgcHJvamVjdGlsZURyYWdDb2VmZmljaWVudFByb3BlcnR5LFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBsYWJlbE9wdGlvbnM6IExBQkVMX09QVElPTlMsXHJcbiAgICAgICAgICAgIG1pbldpZHRoOiBvcHRpb25zLm1pbldpZHRoLFxyXG4gICAgICAgICAgICB4TWFyZ2luOiBvcHRpb25zLnhNYXJnaW4sXHJcbiAgICAgICAgICAgIHNwYWNpbmc6IG9wdGlvbnMuY29udHJvbHNWZXJ0aWNhbFNwYWNlLFxyXG4gICAgICAgICAgICB0YW5kZW06IG9wdGlvbnMudGFuZGVtLmNyZWF0ZVRhbmRlbSggJ2FpclJlc2lzdGFuY2VDb250cm9sJyApXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgICBdXHJcbiAgICB9ICk7XHJcblxyXG4gICAgc3VwZXIoIGNvbnRlbnQsIG9wdGlvbnMgKTtcclxuXHJcbiAgICAvLyBAcHJpdmF0ZSBtYWtlIHZpc2libGUgdG8gbWV0aG9kc1xyXG4gICAgdGhpcy5wcm9qZWN0aWxlQ2hvaWNlQ29tYm9Cb3ggPSBwcm9qZWN0aWxlQ2hvaWNlQ29tYm9Cb3g7XHJcbiAgfVxyXG5cclxuICAvLyBAcHVibGljIGZvciB1c2UgYnkgc2NyZWVuIHZpZXdcclxuICBoaWRlQ29tYm9Cb3hMaXN0KCkge1xyXG4gICAgdGhpcy5wcm9qZWN0aWxlQ2hvaWNlQ29tYm9Cb3guaGlkZUxpc3RCb3goKTtcclxuICB9XHJcbn1cclxuXHJcbnByb2plY3RpbGVNb3Rpb24ucmVnaXN0ZXIoICdTdGF0c1Byb2plY3RpbGVDb250cm9sUGFuZWwnLCBTdGF0c1Byb2plY3RpbGVDb250cm9sUGFuZWwgKTtcclxuZXhwb3J0IGRlZmF1bHQgU3RhdHNQcm9qZWN0aWxlQ29udHJvbFBhbmVsOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxLQUFLLE1BQU0sNkJBQTZCO0FBQy9DLE9BQU9DLEtBQUssTUFBTSxtQ0FBbUM7QUFDckQsT0FBT0MsV0FBVyxNQUFNLCtDQUErQztBQUN2RSxTQUFTQyxVQUFVLEVBQUVDLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxJQUFJLFFBQVEsbUNBQW1DO0FBQ2xGLE9BQU9DLFFBQVEsTUFBTSxnQ0FBZ0M7QUFDckQsT0FBT0MsS0FBSyxNQUFNLDZCQUE2QjtBQUMvQyxPQUFPQyxNQUFNLE1BQU0saUNBQWlDO0FBQ3BELE9B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