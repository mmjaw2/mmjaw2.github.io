// Copyright 2019-2023, University of Colorado Boulder

/**
 * The free body force diagram attached to the ProjectileNode when displaying force vectors. Takes two Properties to
 * listen to. One for the total force vectors, and one for the components. If neither are on, then this Node will be
 * invisible, as there is nothing to show.
 *
 * @author Andrea Lin (PhET Interactive Simulations)
 * @author Michael Kauzmann (PhET Interactive Simulations)
 */

import Multilink from '../../../../axon/js/Multilink.js';
import Vector2 from '../../../../dot/js/Vector2.js';
import ArrowNode from '../../../../scenery-phet/js/ArrowNode.js';
import { Circle, Node, Rectangle, RichText } from '../../../../scenery/js/imports.js';
import projectileMotion from '../../projectileMotion.js';
import ProjectileMotionConstants from '../ProjectileMotionConstants.js';
// constants
const FORCE_ARROW_OPTIONS = {
  fill: 'black',
  stroke: null,
  tailWidth: 2,
  headWidth: 6
};
const FORCE_SCALAR = 3;
const FREE_BODY_RADIUS = 3;
const FREE_BODY_OFFSET = new Vector2(-40, -40); // distance from free body to projectile
const FORCES_BOX_DILATION = 7;
const TRANSPARENT_WHITE = 'rgba( 255, 255, 255, 0.35 )';
const LABEL_OPTIONS = ProjectileMotionConstants.LABEL_TEXT_OPTIONS;
const xDragForceText = new RichText('F<sub>dx</sub>', LABEL_OPTIONS);
const yDragForceText = new RichText('F<sub>dy</sub>', LABEL_OPTIONS);
const forceGravityText = new RichText('F<sub>g</sub>', LABEL_OPTIONS);
const totalDragForceText = new RichText('F<sub>d</sub>', LABEL_OPTIONS);
class FreeBodyDiagram extends Node {
  constructor(viewPointProperty, totalForceProperty, componentsForceProperty, providedOptions) {
    super(providedOptions);

    // forces view
    const forcesBox = new Rectangle(0, 0, 10, 50, {
      fill: TRANSPARENT_WHITE,
      lineWidth: 0
    });
    this.addChild(forcesBox);
    const diagramContainer = new Node();
    this.addChild(diagramContainer);
    const freeBody = new Circle(FREE_BODY_RADIUS, {
      x: 0,
      y: 0,
      fill: 'black'
    });

    // The component force vectors
    const freeBodyComponentVectorsNode = new Node();
    const xDragForceArrow = new ArrowNode(0, 0, 0, 0, FORCE_ARROW_OPTIONS);
    freeBodyComponentVectorsNode.addChild(xDragForceArrow);
    const xDragForceLabel = new Node({
      children: [xDragForceText]
    });
    freeBodyComponentVectorsNode.addChild(xDragForceLabel);
    const yDragForceArrow = new ArrowNode(0, 0, 0, 0, FORCE_ARROW_OPTIONS);
    freeBodyComponentVectorsNode.addChild(yDragForceArrow);
    const yDragForceLabel = new Node({
      children: [yDragForceText]
    });
    freeBodyComponentVectorsNode.addChild(yDragForceLabel);
    const forceGravityArrow = new ArrowNode(0, 0, 0, 0, FORCE_ARROW_OPTIONS);
    const forceGravityLabel = new Node({
      children: [forceGravityText]
    });
    const freeBodyTotals = new Node();
    const totalDragForceArrow = new ArrowNode(0, 0, 0, 0, FORCE_ARROW_OPTIONS);
    freeBodyTotals.addChild(totalDragForceArrow);
    const totalDragForceLabel = new Node({
      children: [totalDragForceText]
    });
    freeBodyTotals.addChild(totalDragForceLabel);

    // Update the free body diagram
    const multilink = Multilink.multilink([componentsForceProperty, totalForceProperty, viewPointProperty], (componentsVisible, totalVisible, viewPoint) => {
      const viewPosition = viewPoint.viewPosition;
      const dataPoint = viewPoint.dataPoint;

      // only visible is one of the Properties is on
      this.visible = componentsVisible || totalVisible;
      if (componentsVisible || totalVisible) {
        diagramContainer.children = [freeBody].concat(componentsVisible ? [freeBodyComponentVectorsNode] : []).concat([forceGravityArrow, forceGravityLabel]).concat(totalVisible ? [freeBodyTotals] : []);
        freeBody.x = viewPosition.x + FREE_BODY_OFFSET.x;
        freeBody.y = viewPosition.y + FREE_BODY_OFFSET.y;
        if (componentsVisible) {
          xDragForceArrow.setTailAndTip(freeBody.x, freeBody.y, freeBody.x - FORCE_SCALAR * dataPoint.dragForce.x, freeBody.y);
          xDragForceLabel.right = xDragForceArrow.tipX - 5;
          xDragForceLabel.y = xDragForceArrow.tipY;
          yDragForceArrow.setTailAndTip(freeBody.x, freeBody.y, freeBody.x, freeBody.y + FORCE_SCALAR * dataPoint.dragForce.y);
          yDragForceLabel.left = yDragForceArrow.tipX + 5;
          yDragForceLabel.y = yDragForceArrow.tipY;
        }
        forceGravityArrow.setTailAndTip(freeBody.x, freeBody.y, freeBody.x, freeBody.y - FORCE_SCALAR * dataPoint.forceGravity);
        forceGravityLabel.left = forceGravityArrow.tipX + 5;
        forceGravityLabel.y = forceGravityArrow.tipY;
        if (totalVisible) {
          const xTotalForce = dataPoint.dragForce.x;
          const yTotalForce = dataPoint.dragForce.y;
          totalDragForceArrow.setTailAndTip(freeBody.x, freeBody.y, freeBody.x - FORCE_SCALAR * xTotalForce, freeBody.y + FORCE_SCALAR * yTotalForce);
          totalDragForceLabel.right = totalDragForceArrow.tipX - 5;
          totalDragForceLabel.bottom = totalDragForceArrow.tipY - 5;
        }
        forcesBox.setRectBounds(diagramContainer.getChildBounds().dilated(FORCES_BOX_DILATION));
      }
    });
    const viewPointListener = point => {
      // Another listener may have disposed of this FreeBodyDiagram. It is OK to not update visibility in that case
      // because dispose removes from scene graph. See https://github.com/phetsims/projectile-motion/issues/323.
      if (!this.isDisposed) {
        const dragForceExists = point.dataPoint.airDensity > 0;
        xDragForceLabel.visible = dragForceExists;
        yDragForceLabel.visible = dragForceExists;
        totalDragForceLabel.visible = dragForceExists;
      }
    };
    viewPointProperty.link(viewPointListener);
    this.disposeFreeBodyDiagram = () => {
      viewPointProperty.unlink(viewPointListener);
      multilink.dispose();
      xDragForceArrow.dispose();
      yDragForceArrow.dispose();
      totalDragForceArrow.dispose();
      forceGravityArrow.dispose();
      xDragForceLabel.dispose();
      yDragForceLabel.dispose();
      forceGravityLabel.dispose();
      totalDragForceLabel.dispose();
    };
  }
  dispose() {
    this.disposeFreeBodyDiagram();
    super.dispose();
  }
}
projectileMotion.register('FreeBodyDiagram', FreeBodyDiagram);
export default FreeBodyDiagram;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNdWx0aWxpbmsiLCJWZWN0b3IyIiwiQXJyb3dOb2RlIiwiQ2lyY2xlIiwiTm9kZSIsIlJlY3RhbmdsZSIsIlJpY2hUZXh0IiwicHJvamVjdGlsZU1vdGlvbiIsIlByb2plY3RpbGVNb3Rpb25Db25zdGFudHMiLCJGT1JDRV9BUlJPV19PUFRJT05TIiwiZmlsbCIsInN0cm9rZSIsInRhaWxXaWR0aCIsImhlYWRXaWR0aCIsIkZPUkNFX1NDQUxBUiIsIkZSRUVfQk9EWV9SQURJVVMiLCJGUkVFX0JPRFlfT0ZGU0VUIiwiRk9SQ0VTX0JPWF9ESUxBVElPTiIsIlRSQU5TUEFSRU5UX1dISVRFIiwiTEFCRUxfT1BUSU9OUyIsIkxBQkVMX1RFWFRfT1BUSU9OUyIsInhEcmFnRm9yY2VUZXh0IiwieURyYWdGb3JjZVRleHQiLCJmb3JjZUdyYXZpdHlUZXh0IiwidG90YWxEcmFnRm9yY2VUZXh0IiwiRnJlZUJvZHlEaWFncmFtIiwiY29uc3RydWN0b3IiLCJ2aWV3UG9pbnRQcm9wZXJ0eSIsInRvdGFsRm9yY2VQcm9wZXJ0eSIsImNvbXBvbmVudHNGb3JjZVByb3BlcnR5IiwicHJvdmlkZWRPcHRpb25zIiwiZm9yY2VzQm94IiwibGluZVdpZHRoIiwiYWRkQ2hpbGQiLCJkaWFncmFtQ29udGFpbmVyIiwiZnJlZUJvZHkiLCJ4IiwieSIsImZyZWVCb2R5Q29tcG9uZW50VmVjdG9yc05vZGUiLCJ4RHJhZ0ZvcmNlQXJyb3ciLCJ4RHJhZ0ZvcmNlTGFiZWwiLCJjaGlsZHJlbiIsInlEcmFnRm9yY2VBcnJvdyIsInlEcmFnRm9yY2VMYWJlbCIsImZvcmNlR3Jhdml0eUFycm93IiwiZm9yY2VHcmF2aXR5TGFiZWwiLCJmcmVlQm9keVRvdGFscyIsInRvdGFsRHJhZ0ZvcmNlQXJyb3ciLCJ0b3RhbERyYWdGb3JjZUxhYmVsIiwibXVsdGlsaW5rIiwiY29tcG9uZW50c1Zpc2libGUiLCJ0b3RhbFZpc2libGUiLCJ2aWV3UG9pbnQiLCJ2aWV3UG9zaXRpb24iLCJkYXRhUG9pbnQiLCJ2aXNpYmxlIiwiY29uY2F0Iiwic2V0VGFpbEFuZFRpcCIsImRyYWdGb3JjZSIsInJpZ2h0IiwidGlwWCIsInRpcFkiLCJsZWZ0IiwiZm9yY2VHcmF2aXR5IiwieFRvdGFsRm9yY2UiLCJ5VG90YWxGb3JjZSIsImJvdHRvbSIsInNldFJlY3RCb3VuZHMiLCJnZXRDaGlsZEJvdW5kcyIsImRpbGF0ZWQiLCJ2aWV3UG9pbnRMaXN0ZW5lciIsInBvaW50IiwiaXNEaXNwb3NlZCIsImRyYWdGb3JjZUV4aXN0cyIsImFpckRlbnNpdHkiLCJsaW5rIiwiZGlzcG9zZUZyZWVCb2R5RGlhZ3JhbSIsInVubGluayIsImRpc3Bvc2UiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkZyZWVCb2R5RGlhZ3JhbS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOS0yMDIzLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBUaGUgZnJlZSBib2R5IGZvcmNlIGRpYWdyYW0gYXR0YWNoZWQgdG8gdGhlIFByb2plY3RpbGVOb2RlIHdoZW4gZGlzcGxheWluZyBmb3JjZSB2ZWN0b3JzLiBUYWtlcyB0d28gUHJvcGVydGllcyB0b1xyXG4gKiBsaXN0ZW4gdG8uIE9uZSBmb3IgdGhlIHRvdGFsIGZvcmNlIHZlY3RvcnMsIGFuZCBvbmUgZm9yIHRoZSBjb21wb25lbnRzLiBJZiBuZWl0aGVyIGFyZSBvbiwgdGhlbiB0aGlzIE5vZGUgd2lsbCBiZVxyXG4gKiBpbnZpc2libGUsIGFzIHRoZXJlIGlzIG5vdGhpbmcgdG8gc2hvdy5cclxuICpcclxuICogQGF1dGhvciBBbmRyZWEgTGluIChQaEVUIEludGVyYWN0aXZlIFNpbXVsYXRpb25zKVxyXG4gKiBAYXV0aG9yIE1pY2hhZWwgS2F1em1hbm4gKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuaW1wb3J0IE11bHRpbGluayBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL011bHRpbGluay5qcyc7XHJcbmltcG9ydCBWZWN0b3IyIGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9WZWN0b3IyLmpzJztcclxuaW1wb3J0IEFycm93Tm9kZSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZXJ5LXBoZXQvanMvQXJyb3dOb2RlLmpzJztcclxuaW1wb3J0IHsgQ2lyY2xlLCBOb2RlLCBOb2RlT3B0aW9ucywgUmVjdGFuZ2xlLCBSaWNoVGV4dCB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBwcm9qZWN0aWxlTW90aW9uIGZyb20gJy4uLy4uL3Byb2plY3RpbGVNb3Rpb24uanMnO1xyXG5pbXBvcnQgUHJvamVjdGlsZU1vdGlvbkNvbnN0YW50cyBmcm9tICcuLi9Qcm9qZWN0aWxlTW90aW9uQ29uc3RhbnRzLmpzJztcclxuaW1wb3J0IHR5cGUgeyBWaWV3UG9pbnQgfSBmcm9tICcuL1Byb2plY3RpbGVOb2RlLmpzJztcclxuaW1wb3J0IFRSZWFkT25seVByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvVFJlYWRPbmx5UHJvcGVydHkuanMnO1xyXG5cclxuLy8gY29uc3RhbnRzXHJcbmNvbnN0IEZPUkNFX0FSUk9XX09QVElPTlMgPSB7XHJcbiAgZmlsbDogJ2JsYWNrJyxcclxuICBzdHJva2U6IG51bGwsXHJcbiAgdGFpbFdpZHRoOiAyLFxyXG4gIGhlYWRXaWR0aDogNlxyXG59O1xyXG5cclxuY29uc3QgRk9SQ0VfU0NBTEFSID0gMztcclxuXHJcbmNvbnN0IEZSRUVfQk9EWV9SQURJVVMgPSAzO1xyXG5jb25zdCBGUkVFX0JPRFlfT0ZGU0VUID0gbmV3IFZlY3RvcjIoIC00MCwgLTQwICk7IC8vIGRpc3RhbmNlIGZyb20gZnJlZSBib2R5IHRvIHByb2plY3RpbGVcclxuY29uc3QgRk9SQ0VTX0JPWF9ESUxBVElPTiA9IDc7XHJcblxyXG5jb25zdCBUUkFOU1BBUkVOVF9XSElURSA9ICdyZ2JhKCAyNTUsIDI1NSwgMjU1LCAwLjM1ICknO1xyXG5jb25zdCBMQUJFTF9PUFRJT05TID0gUHJvamVjdGlsZU1vdGlvbkNvbnN0YW50cy5MQUJFTF9URVhUX09QVElPTlM7XHJcblxyXG5jb25zdCB4RHJhZ0ZvcmNlVGV4dCA9IG5ldyBSaWNoVGV4dCggJ0Y8c3ViPmR4PC9zdWI+JywgTEFCRUxfT1BUSU9OUyApO1xyXG5jb25zdCB5RHJhZ0ZvcmNlVGV4dCA9IG5ldyBSaWNoVGV4dCggJ0Y8c3ViPmR5PC9zdWI+JywgTEFCRUxfT1BUSU9OUyApO1xyXG5jb25zdCBmb3JjZUdyYXZpdHlUZXh0ID0gbmV3IFJpY2hUZXh0KCAnRjxzdWI+Zzwvc3ViPicsIExBQkVMX09QVElPTlMgKTtcclxuY29uc3QgdG90YWxEcmFnRm9yY2VUZXh0ID0gbmV3IFJpY2hUZXh0KCAnRjxzdWI+ZDwvc3ViPicsIExBQkVMX09QVElPTlMgKTtcclxuXHJcbmNsYXNzIEZyZWVCb2R5RGlhZ3JhbSBleHRlbmRzIE5vZGUge1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgZGlzcG9zZUZyZWVCb2R5RGlhZ3JhbTogKCkgPT4gdm9pZDtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCB2aWV3UG9pbnRQcm9wZXJ0eTogVFJlYWRPbmx5UHJvcGVydHk8Vmlld1BvaW50PiwgdG90YWxGb3JjZVByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxib29sZWFuPixcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHNGb3JjZVByb3BlcnR5OiBUUmVhZE9ubHlQcm9wZXJ0eTxib29sZWFuPiwgcHJvdmlkZWRPcHRpb25zPzogTm9kZU9wdGlvbnMgKSB7XHJcblxyXG4gICAgc3VwZXIoIHByb3ZpZGVkT3B0aW9ucyApO1xyXG5cclxuICAgIC8vIGZvcmNlcyB2aWV3XHJcbiAgICBjb25zdCBmb3JjZXNCb3ggPSBuZXcgUmVjdGFuZ2xlKCAwLCAwLCAxMCwgNTAsIHtcclxuICAgICAgZmlsbDogVFJBTlNQQVJFTlRfV0hJVEUsXHJcbiAgICAgIGxpbmVXaWR0aDogMFxyXG4gICAgfSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggZm9yY2VzQm94ICk7XHJcblxyXG4gICAgY29uc3QgZGlhZ3JhbUNvbnRhaW5lciA9IG5ldyBOb2RlKCk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBkaWFncmFtQ29udGFpbmVyICk7XHJcblxyXG4gICAgY29uc3QgZnJlZUJvZHk6IE5vZGUgPSBuZXcgQ2lyY2xlKCBGUkVFX0JPRFlfUkFESVVTLCB7IHg6IDAsIHk6IDAsIGZpbGw6ICdibGFjaycgfSApO1xyXG5cclxuICAgIC8vIFRoZSBjb21wb25lbnQgZm9yY2UgdmVjdG9yc1xyXG4gICAgY29uc3QgZnJlZUJvZHlDb21wb25lbnRWZWN0b3JzTm9kZSA9IG5ldyBOb2RlKCk7XHJcblxyXG4gICAgY29uc3QgeERyYWdGb3JjZUFycm93ID0gbmV3IEFycm93Tm9kZSggMCwgMCwgMCwgMCwgRk9SQ0VfQVJST1dfT1BUSU9OUyApO1xyXG4gICAgZnJlZUJvZHlDb21wb25lbnRWZWN0b3JzTm9kZS5hZGRDaGlsZCggeERyYWdGb3JjZUFycm93ICk7XHJcblxyXG4gICAgY29uc3QgeERyYWdGb3JjZUxhYmVsID0gbmV3IE5vZGUoIHsgY2hpbGRyZW46IFsgeERyYWdGb3JjZVRleHQgXSB9ICk7XHJcbiAgICBmcmVlQm9keUNvbXBvbmVudFZlY3RvcnNOb2RlLmFkZENoaWxkKCB4RHJhZ0ZvcmNlTGFiZWwgKTtcclxuXHJcbiAgICBjb25zdCB5RHJhZ0ZvcmNlQXJyb3cgPSBuZXcgQXJyb3dOb2RlKCAwLCAwLCAwLCAwLCBGT1JDRV9BUlJPV19PUFRJT05TICk7XHJcbiAgICBmcmVlQm9keUNvbXBvbmVudFZlY3RvcnNOb2RlLmFkZENoaWxkKCB5RHJhZ0ZvcmNlQXJyb3cgKTtcclxuXHJcbiAgICBjb25zdCB5RHJhZ0ZvcmNlTGFiZWwgPSBuZXcgTm9kZSggeyBjaGlsZHJlbjogWyB5RHJhZ0ZvcmNlVGV4dCBdIH0gKTtcclxuICAgIGZyZWVCb2R5Q29tcG9uZW50VmVjdG9yc05vZGUuYWRkQ2hpbGQoIHlEcmFnRm9yY2VMYWJlbCApO1xyXG5cclxuICAgIGNvbnN0IGZvcmNlR3Jhdml0eUFycm93ID0gbmV3IEFycm93Tm9kZSggMCwgMCwgMCwgMCwgRk9SQ0VfQVJST1dfT1BUSU9OUyApO1xyXG4gICAgY29uc3QgZm9yY2VHcmF2aXR5TGFiZWwgPSBuZXcgTm9kZSggeyBjaGlsZHJlbjogWyBmb3JjZUdyYXZpdHlUZXh0IF0gfSApO1xyXG5cclxuICAgIGNvbnN0IGZyZWVCb2R5VG90YWxzID0gbmV3IE5vZGUoKTtcclxuXHJcbiAgICBjb25zdCB0b3RhbERyYWdGb3JjZUFycm93ID0gbmV3IEFycm93Tm9kZSggMCwgMCwgMCwgMCwgRk9SQ0VfQVJST1dfT1BUSU9OUyApO1xyXG4gICAgZnJlZUJvZHlUb3RhbHMuYWRkQ2hpbGQoIHRvdGFsRHJhZ0ZvcmNlQXJyb3cgKTtcclxuXHJcbiAgICBjb25zdCB0b3RhbERyYWdGb3JjZUxhYmVsID0gbmV3IE5vZGUoIHsgY2hpbGRyZW46IFsgdG90YWxEcmFnRm9yY2VUZXh0IF0gfSApO1xyXG4gICAgZnJlZUJvZHlUb3RhbHMuYWRkQ2hpbGQoIHRvdGFsRHJhZ0ZvcmNlTGFiZWwgKTtcclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIGZyZWUgYm9keSBkaWFncmFtXHJcbiAgICBjb25zdCBtdWx0aWxpbmsgPSBNdWx0aWxpbmsubXVsdGlsaW5rKCBbXHJcbiAgICAgIGNvbXBvbmVudHNGb3JjZVByb3BlcnR5LFxyXG4gICAgICB0b3RhbEZvcmNlUHJvcGVydHksXHJcbiAgICAgIHZpZXdQb2ludFByb3BlcnR5XHJcbiAgICBdLCAoIGNvbXBvbmVudHNWaXNpYmxlLCB0b3RhbFZpc2libGUsIHZpZXdQb2ludCApID0+IHtcclxuICAgICAgY29uc3Qgdmlld1Bvc2l0aW9uID0gdmlld1BvaW50LnZpZXdQb3NpdGlvbjtcclxuICAgICAgY29uc3QgZGF0YVBvaW50ID0gdmlld1BvaW50LmRhdGFQb2ludDtcclxuXHJcbiAgICAgIC8vIG9ubHkgdmlzaWJsZSBpcyBvbmUgb2YgdGhlIFByb3BlcnRpZXMgaXMgb25cclxuICAgICAgdGhpcy52aXNpYmxlID0gY29tcG9uZW50c1Zpc2libGUgfHwgdG90YWxWaXNpYmxlO1xyXG5cclxuICAgICAgaWYgKCBjb21wb25lbnRzVmlzaWJsZSB8fCB0b3RhbFZpc2libGUgKSB7XHJcbiAgICAgICAgZGlhZ3JhbUNvbnRhaW5lci5jaGlsZHJlbiA9IFsgZnJlZUJvZHkgXS5jb25jYXQoIGNvbXBvbmVudHNWaXNpYmxlID8gWyBmcmVlQm9keUNvbXBvbmVudFZlY3RvcnNOb2RlIF0gOiBbXSApXHJcbiAgICAgICAgICAuY29uY2F0KCBbIGZvcmNlR3Jhdml0eUFycm93LCBmb3JjZUdyYXZpdHlMYWJlbCBdIClcclxuICAgICAgICAgIC5jb25jYXQoIHRvdGFsVmlzaWJsZSA/IFsgZnJlZUJvZHlUb3RhbHMgXSA6IFtdICk7XHJcblxyXG4gICAgICAgIGZyZWVCb2R5LnggPSB2aWV3UG9zaXRpb24ueCArIEZSRUVfQk9EWV9PRkZTRVQueDtcclxuICAgICAgICBmcmVlQm9keS55ID0gdmlld1Bvc2l0aW9uLnkgKyBGUkVFX0JPRFlfT0ZGU0VULnk7XHJcblxyXG4gICAgICAgIGlmICggY29tcG9uZW50c1Zpc2libGUgKSB7XHJcbiAgICAgICAgICB4RHJhZ0ZvcmNlQXJyb3cuc2V0VGFpbEFuZFRpcCggZnJlZUJvZHkueCxcclxuICAgICAgICAgICAgZnJlZUJvZHkueSxcclxuICAgICAgICAgICAgZnJlZUJvZHkueCAtIEZPUkNFX1NDQUxBUiAqIGRhdGFQb2ludC5kcmFnRm9yY2UueCxcclxuICAgICAgICAgICAgZnJlZUJvZHkueVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHhEcmFnRm9yY2VMYWJlbC5yaWdodCA9IHhEcmFnRm9yY2VBcnJvdy50aXBYIC0gNTtcclxuICAgICAgICAgIHhEcmFnRm9yY2VMYWJlbC55ID0geERyYWdGb3JjZUFycm93LnRpcFk7XHJcblxyXG4gICAgICAgICAgeURyYWdGb3JjZUFycm93LnNldFRhaWxBbmRUaXAoIGZyZWVCb2R5LngsXHJcbiAgICAgICAgICAgIGZyZWVCb2R5LnksXHJcbiAgICAgICAgICAgIGZyZWVCb2R5LngsXHJcbiAgICAgICAgICAgIGZyZWVCb2R5LnkgKyBGT1JDRV9TQ0FMQVIgKiBkYXRhUG9pbnQuZHJhZ0ZvcmNlLnlcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICB5RHJhZ0ZvcmNlTGFiZWwubGVmdCA9IHlEcmFnRm9yY2VBcnJvdy50aXBYICsgNTtcclxuICAgICAgICAgIHlEcmFnRm9yY2VMYWJlbC55ID0geURyYWdGb3JjZUFycm93LnRpcFk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3JjZUdyYXZpdHlBcnJvdy5zZXRUYWlsQW5kVGlwKCBmcmVlQm9keS54LFxyXG4gICAgICAgICAgZnJlZUJvZHkueSxcclxuICAgICAgICAgIGZyZWVCb2R5LngsXHJcbiAgICAgICAgICBmcmVlQm9keS55IC0gRk9SQ0VfU0NBTEFSICogZGF0YVBvaW50LmZvcmNlR3Jhdml0eVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgZm9yY2VHcmF2aXR5TGFiZWwubGVmdCA9IGZvcmNlR3Jhdml0eUFycm93LnRpcFggKyA1O1xyXG4gICAgICAgIGZvcmNlR3Jhdml0eUxhYmVsLnkgPSBmb3JjZUdyYXZpdHlBcnJvdy50aXBZO1xyXG5cclxuICAgICAgICBpZiAoIHRvdGFsVmlzaWJsZSApIHtcclxuICAgICAgICAgIGNvbnN0IHhUb3RhbEZvcmNlID0gZGF0YVBvaW50LmRyYWdGb3JjZS54O1xyXG4gICAgICAgICAgY29uc3QgeVRvdGFsRm9yY2UgPSBkYXRhUG9pbnQuZHJhZ0ZvcmNlLnk7XHJcbiAgICAgICAgICB0b3RhbERyYWdGb3JjZUFycm93LnNldFRhaWxBbmRUaXAoIGZyZWVCb2R5LngsXHJcbiAgICAgICAgICAgIGZyZWVCb2R5LnksXHJcbiAgICAgICAgICAgIGZyZWVCb2R5LnggLSBGT1JDRV9TQ0FMQVIgKiB4VG90YWxGb3JjZSxcclxuICAgICAgICAgICAgZnJlZUJvZHkueSArIEZPUkNFX1NDQUxBUiAqIHlUb3RhbEZvcmNlXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgdG90YWxEcmFnRm9yY2VMYWJlbC5yaWdodCA9IHRvdGFsRHJhZ0ZvcmNlQXJyb3cudGlwWCAtIDU7XHJcbiAgICAgICAgICB0b3RhbERyYWdGb3JjZUxhYmVsLmJvdHRvbSA9IHRvdGFsRHJhZ0ZvcmNlQXJyb3cudGlwWSAtIDU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3JjZXNCb3guc2V0UmVjdEJvdW5kcyggZGlhZ3JhbUNvbnRhaW5lci5nZXRDaGlsZEJvdW5kcygpLmRpbGF0ZWQoIEZPUkNFU19CT1hfRElMQVRJT04gKSApO1xyXG4gICAgICB9XHJcbiAgICB9ICk7XHJcblxyXG4gICAgY29uc3Qgdmlld1BvaW50TGlzdGVuZXIgPSAoIHBvaW50OiBWaWV3UG9pbnQgKTogdm9pZCA9PiB7XHJcblxyXG4gICAgICAvLyBBbm90aGVyIGxpc3RlbmVyIG1heSBoYXZlIGRpc3Bvc2VkIG9mIHRoaXMgRnJlZUJvZHlEaWFncmFtLiBJdCBpcyBPSyB0byBub3QgdXBkYXRlIHZpc2liaWxpdHkgaW4gdGhhdCBjYXNlXHJcbiAgICAgIC8vIGJlY2F1c2UgZGlzcG9zZSByZW1vdmVzIGZyb20gc2NlbmUgZ3JhcGguIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvcHJvamVjdGlsZS1tb3Rpb24vaXNzdWVzLzMyMy5cclxuICAgICAgaWYgKCAhdGhpcy5pc0Rpc3Bvc2VkICkge1xyXG4gICAgICAgIGNvbnN0IGRyYWdGb3JjZUV4aXN0cyA9IHBvaW50LmRhdGFQb2ludC5haXJEZW5zaXR5ID4gMDtcclxuICAgICAgICB4RHJhZ0ZvcmNlTGFiZWwudmlzaWJsZSA9IGRyYWdGb3JjZUV4aXN0cztcclxuICAgICAgICB5RHJhZ0ZvcmNlTGFiZWwudmlzaWJsZSA9IGRyYWdGb3JjZUV4aXN0cztcclxuICAgICAgICB0b3RhbERyYWdGb3JjZUxhYmVsLnZpc2libGUgPSBkcmFnRm9yY2VFeGlzdHM7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICB2aWV3UG9pbnRQcm9wZXJ0eS5saW5rKCB2aWV3UG9pbnRMaXN0ZW5lciApO1xyXG5cclxuICAgIHRoaXMuZGlzcG9zZUZyZWVCb2R5RGlhZ3JhbSA9ICgpID0+IHtcclxuICAgICAgdmlld1BvaW50UHJvcGVydHkudW5saW5rKCB2aWV3UG9pbnRMaXN0ZW5lciApO1xyXG4gICAgICBtdWx0aWxpbmsuZGlzcG9zZSgpO1xyXG4gICAgICB4RHJhZ0ZvcmNlQXJyb3cuZGlzcG9zZSgpO1xyXG4gICAgICB5RHJhZ0ZvcmNlQXJyb3cuZGlzcG9zZSgpO1xyXG4gICAgICB0b3RhbERyYWdGb3JjZUFycm93LmRpc3Bvc2UoKTtcclxuICAgICAgZm9yY2VHcmF2aXR5QXJyb3cuZGlzcG9zZSgpO1xyXG4gICAgICB4RHJhZ0ZvcmNlTGFiZWwuZGlzcG9zZSgpO1xyXG4gICAgICB5RHJhZ0ZvcmNlTGFiZWwuZGlzcG9zZSgpO1xyXG4gICAgICBmb3JjZUdyYXZpdHlMYWJlbC5kaXNwb3NlKCk7XHJcbiAgICAgIHRvdGFsRHJhZ0ZvcmNlTGFiZWwuZGlzcG9zZSgpO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBvdmVycmlkZSBkaXNwb3NlKCk6IHZvaWQge1xyXG4gICAgdGhpcy5kaXNwb3NlRnJlZUJvZHlEaWFncmFtKCk7XHJcbiAgICBzdXBlci5kaXNwb3NlKCk7XHJcbiAgfVxyXG59XHJcblxyXG5wcm9qZWN0aWxlTW90aW9uLnJlZ2lzdGVyKCAnRnJlZUJvZHlEaWFncmFtJywgRnJlZUJvZHlEaWFncmFtICk7XHJcbmV4cG9ydCBkZWZhdWx0IEZyZWVCb2R5RGlhZ3JhbTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsU0FBUyxNQUFNLGtDQUFrQztBQUN4RCxPQUFPQyxPQUFPLE1BQU0sK0JBQStCO0FBQ25ELE9B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