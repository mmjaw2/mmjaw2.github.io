// Copyright 2023, University of Colorado Boulder
// @author Michael Kauzmann (PhET Interactive Simulations)

const process = require('process');
const fs = require('fs');
const _ = require('lodash');
const Octokit = require('@octokit/rest'); // eslint-disable-line require-statement-match

const execute = require('../common/execute');
const buildLocal = require('../common/buildLocal');
const gruntCommand = require('../common/gruntCommand');
const createDirectory = require('../common/createDirectory');
const CHIPPER_DIST = '../chipper/dist';

/**
 * This script is meant to ensure that all todos pointing to a github issue are pointing to open issues.
 *
 * This script works by. . .
 * - Running lint-everything with a flag to specify a side effect to the todo-should-have-issue rule which will keep
 * track of all todo issues.
 * - Use that list to ping github to see if the issue is open
 * - If not open, reopen it and send a comment noting that there is still at least one todo pointing here.
 *
 * @returns {Promise<void>}
 */
module.exports = async function reopenIssuesFromTODOs() {
  // Mark an environment variable that tells lint's todo-should-have-issue rule to have a side-effect of saving a file
  // with all todo issues.
  process.env.saveTODOIssues = true;
  if (!fs.existsSync(CHIPPER_DIST)) {
    await createDirectory(CHIPPER_DIST);
  }
  fs.writeFileSync('../chipper/dist/issuesFromTODOs.txt', '');
  console.log('grunt lint-everything started');
  const result = await execute(gruntCommand, ['lint-everything', '--disable-eslint-cache'], '../perennial', {
    errors: 'resolve'
  });
  console.log('grunt lint-everything finished');
  if (result.code !== 0) {
    console.error('Error running lint-everything:\n\n', result.stdout, result.stderr);
    process.exit();
  }
  const TODOIssues = fs.readFileSync('../chipper/dist/issuesFromTODOs.txt').toString().trim().split('\n');
  const uniqueTODOIssues = _.uniq(TODOIssues);
  console.log(uniqueTODOIssues.length, 'issues to check');
  const octokit = new Octokit({
    auth: buildLocal.phetDevGitHubAccessToken
  });
  for (let i = 0; i < uniqueTODOIssues.length; i++) {
    const issueURL = uniqueTODOIssues[i];
    const repoMatch = issueURL.match(/phetsims\/([\w-]+)\/issues/);
    const issueNumberMatch = issueURL.match(/phetsims\/[\w-]+\/issues\/(\d+)/);
    if (!repoMatch || !issueNumberMatch) {
      console.error('unexpected issue URL:', issueURL);
      continue;
    }
    const repo = repoMatch[1];
    const issueNumber = issueNumberMatch[1];

    // For reference, see https://docs.github.com/en/rest/issues/issues?apiVersion=2022-11-28#update-an-issue
    try {
      const response = await octokit.request('GET /repos/{owner}/{repo}/issues/{issue_number}', {
        owner: 'phetsims',
        repo: repo,
        issue_number: issueNumber
      });
      if (response.data.state === 'closed') {
        console.log(`TODO linking to closed issue: ${issueURL}`);
        await octokit.request('PATCH /repos/{owner}/{repo}/issues/{issue_number}', {
          owner: 'phetsims',
          repo: repo,
          issue_number: issueNumber,
          state: 'open'
        });
        await octokit.request('POST /repos/{owner}/{repo}/issues/{issue_number}/comments', {
          owner: 'phetsims',
          repo: repo,
          issue_number: issueNumber,
          body: 'Reopening because there is a TODO marked for this issue.'
        });
      }
    } catch (e) {
      console.error('Issue does not exist', `${repo}#${issueNumber}`, e);
    }
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9jZXNzIiwicmVxdWlyZSIsImZzIiwiXyIsIk9jdG9raXQiLCJleGVjdXRlIiwiYnVpbGRMb2NhbCIsImdydW50Q29tbWFuZCIsImNyZWF0ZURpcmVjdG9yeSIsIkNISVBQRVJfRElTVCIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZW9wZW5Jc3N1ZXNGcm9tVE9ET3MiLCJlbnYiLCJzYXZlVE9ET0lzc3VlcyIsImV4aXN0c1N5bmMiLCJ3cml0ZUZpbGVTeW5jIiwiY29uc29sZSIsImxvZyIsInJlc3VsdCIsImVycm9ycyIsImNvZGUiLCJlcnJvciIsInN0ZG91dCIsInN0ZGVyciIsImV4aXQiLCJUT0RPSXNzdWVzIiwicmVhZEZpbGVTeW5jIiwidG9TdHJpbmciLCJ0cmltIiwic3BsaXQiLCJ1bmlxdWVUT0RPSXNzdWVzIiwidW5pcSIsImxlbmd0aCIsIm9jdG9raXQiLCJhdXRoIiwicGhldERldkdpdEh1YkFjY2Vzc1Rva2VuIiwiaSIsImlzc3VlVVJMIiwicmVwb01hdGNoIiwibWF0Y2giLCJpc3N1ZU51bWJlck1hdGNoIiwicmVwbyIsImlzc3VlTnVtYmVyIiwicmVzcG9uc2UiLCJyZXF1ZXN0Iiwib3duZXIiLCJpc3N1ZV9udW1iZXIiLCJkYXRhIiwic3RhdGUiLCJib2R5IiwiZSJdLCJzb3VyY2VzIjpbInJlb3Blbklzc3Vlc0Zyb21UT0RPcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMywgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcbi8vIEBhdXRob3IgTWljaGFlbCBLYXV6bWFubiAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuXHJcbmNvbnN0IHByb2Nlc3MgPSByZXF1aXJlKCAncHJvY2VzcycgKTtcclxuY29uc3QgZnMgPSByZXF1aXJlKCAnZnMnICk7XHJcbmNvbnN0IF8gPSByZXF1aXJlKCAnbG9kYXNoJyApO1xyXG5jb25zdCBPY3Rva2l0ID0gcmVxdWlyZSggJ0BvY3Rva2l0L3Jlc3QnICk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1zdGF0ZW1lbnQtbWF0Y2hcclxuXHJcbmNvbnN0IGV4ZWN1dGUgPSByZXF1aXJlKCAnLi4vY29tbW9uL2V4ZWN1dGUnICk7XHJcbmNvbnN0IGJ1aWxkTG9jYWwgPSByZXF1aXJlKCAnLi4vY29tbW9uL2J1aWxkTG9jYWwnICk7XHJcbmNvbnN0IGdydW50Q29tbWFuZCA9IHJlcXVpcmUoICcuLi9jb21tb24vZ3J1bnRDb21tYW5kJyApO1xyXG5jb25zdCBjcmVhdGVEaXJlY3RvcnkgPSByZXF1aXJlKCAnLi4vY29tbW9uL2NyZWF0ZURpcmVjdG9yeScgKTtcclxuXHJcbmNvbnN0IENISVBQRVJfRElTVCA9ICcuLi9jaGlwcGVyL2Rpc3QnO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBUaGlzIHNjcmlwdCBpcyBtZWFudCB0byBlbnN1cmUgdGhhdCBhbGwgdG9kb3MgcG9pbnRpbmcgdG8gYSBnaXRodWIgaXNzdWUgYXJlIHBvaW50aW5nIHRvIG9wZW4gaXNzdWVzLlxyXG4gKlxyXG4gKiBUaGlzIHNjcmlwdCB3b3JrcyBieS4gLiAuXHJcbiAqIC0gUnVubmluZyBsaW50LWV2ZXJ5dGhpbmcgd2l0aCBhIGZsYWcgdG8gc3BlY2lmeSBhIHNpZGUgZWZmZWN0IHRvIHRoZSB0b2RvLXNob3VsZC1oYXZlLWlzc3VlIHJ1bGUgd2hpY2ggd2lsbCBrZWVwXHJcbiAqIHRyYWNrIG9mIGFsbCB0b2RvIGlzc3Vlcy5cclxuICogLSBVc2UgdGhhdCBsaXN0IHRvIHBpbmcgZ2l0aHViIHRvIHNlZSBpZiB0aGUgaXNzdWUgaXMgb3BlblxyXG4gKiAtIElmIG5vdCBvcGVuLCByZW9wZW4gaXQgYW5kIHNlbmQgYSBjb21tZW50IG5vdGluZyB0aGF0IHRoZXJlIGlzIHN0aWxsIGF0IGxlYXN0IG9uZSB0b2RvIHBvaW50aW5nIGhlcmUuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxyXG4gKi9cclxubW9kdWxlLmV4cG9ydHMgPSBhc3luYyBmdW5jdGlvbiByZW9wZW5Jc3N1ZXNGcm9tVE9ET3MoKSB7XHJcblxyXG4gIC8vIE1hcmsgYW4gZW52aXJvbm1lbnQgdmFyaWFibGUgdGhhdCB0ZWxscyBsaW50J3MgdG9kby1zaG91bGQtaGF2ZS1pc3N1ZSBydWxlIHRvIGhhdmUgYSBzaWRlLWVmZmVjdCBvZiBzYXZpbmcgYSBmaWxlXHJcbiAgLy8gd2l0aCBhbGwgdG9kbyBpc3N1ZXMuXHJcbiAgcHJvY2Vzcy5lbnYuc2F2ZVRPRE9Jc3N1ZXMgPSB0cnVlO1xyXG5cclxuICBpZiAoICFmcy5leGlzdHNTeW5jKCBDSElQUEVSX0RJU1QgKSApIHtcclxuICAgIGF3YWl0IGNyZWF0ZURpcmVjdG9yeSggQ0hJUFBFUl9ESVNUICk7XHJcbiAgfVxyXG4gIGZzLndyaXRlRmlsZVN5bmMoICcuLi9jaGlwcGVyL2Rpc3QvaXNzdWVzRnJvbVRPRE9zLnR4dCcsICcnICk7XHJcblxyXG4gIGNvbnNvbGUubG9nKCAnZ3J1bnQgbGludC1ldmVyeXRoaW5nIHN0YXJ0ZWQnICk7XHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZSggZ3J1bnRDb21tYW5kLCBbICdsaW50LWV2ZXJ5dGhpbmcnLCAnLS1kaXNhYmxlLWVzbGludC1jYWNoZScgXSwgJy4uL3BlcmVubmlhbCcsIHtcclxuICAgIGVycm9yczogJ3Jlc29sdmUnXHJcbiAgfSApO1xyXG4gIGNvbnNvbGUubG9nKCAnZ3J1bnQgbGludC1ldmVyeXRoaW5nIGZpbmlzaGVkJyApO1xyXG4gIGlmICggcmVzdWx0LmNvZGUgIT09IDAgKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCAnRXJyb3IgcnVubmluZyBsaW50LWV2ZXJ5dGhpbmc6XFxuXFxuJywgcmVzdWx0LnN0ZG91dCwgcmVzdWx0LnN0ZGVyciApO1xyXG4gICAgcHJvY2Vzcy5leGl0KCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgY29uc3QgVE9ET0lzc3VlcyA9IGZzLnJlYWRGaWxlU3luYyggJy4uL2NoaXBwZXIvZGlzdC9pc3N1ZXNGcm9tVE9ET3MudHh0JyApLnRvU3RyaW5nKCkudHJpbSgpLnNwbGl0KCAnXFxuJyApO1xyXG5cclxuICBjb25zdCB1bmlxdWVUT0RPSXNzdWVzID0gXy51bmlxKCBUT0RPSXNzdWVzICk7XHJcbiAgY29uc29sZS5sb2coIHVuaXF1ZVRPRE9Jc3N1ZXMubGVuZ3RoLCAnaXNzdWVzIHRvIGNoZWNrJyApO1xyXG5cclxuICBjb25zdCBvY3Rva2l0ID0gbmV3IE9jdG9raXQoIHtcclxuICAgIGF1dGg6IGJ1aWxkTG9jYWwucGhldERldkdpdEh1YkFjY2Vzc1Rva2VuXHJcbiAgfSApO1xyXG5cclxuICBmb3IgKCBsZXQgaSA9IDA7IGkgPCB1bmlxdWVUT0RPSXNzdWVzLmxlbmd0aDsgaSsrICkge1xyXG4gICAgY29uc3QgaXNzdWVVUkwgPSB1bmlxdWVUT0RPSXNzdWVzWyBpIF07XHJcblxyXG4gICAgY29uc3QgcmVwb01hdGNoID0gaXNzdWVVUkwubWF0Y2goIC9waGV0c2ltc1xcLyhbXFx3LV0rKVxcL2lzc3Vlcy8gKTtcclxuICAgIGNvbnN0IGlzc3VlTnVtYmVyTWF0Y2ggPSBpc3N1ZVVSTC5tYXRjaCggL3BoZXRzaW1zXFwvW1xcdy1dK1xcL2lzc3Vlc1xcLyhcXGQrKS8gKTtcclxuXHJcbiAgICBpZiAoICFyZXBvTWF0Y2ggfHwgIWlzc3VlTnVtYmVyTWF0Y2ggKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoICd1bmV4cGVjdGVkIGlzc3VlIFVSTDonLCBpc3N1ZVVSTCApO1xyXG4gICAgICBjb250aW51ZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZXBvID0gcmVwb01hdGNoWyAxIF07XHJcbiAgICBjb25zdCBpc3N1ZU51bWJlciA9IGlzc3VlTnVtYmVyTWF0Y2hbIDEgXTtcclxuXHJcbiAgICAvLyBGb3IgcmVmZXJlbmNlLCBzZWUgaHR0cHM6Ly9kb2NzLmdpdGh1Yi5jb20vZW4vcmVzdC9pc3N1ZXMvaXNzdWVzP2FwaVZlcnNpb249MjAyMi0xMS0yOCN1cGRhdGUtYW4taXNzdWVcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgb2N0b2tpdC5yZXF1ZXN0KCAnR0VUIC9yZXBvcy97b3duZXJ9L3tyZXBvfS9pc3N1ZXMve2lzc3VlX251bWJlcn0nLCB7XHJcbiAgICAgICAgb3duZXI6ICdwaGV0c2ltcycsXHJcbiAgICAgICAgcmVwbzogcmVwbyxcclxuICAgICAgICBpc3N1ZV9udW1iZXI6IGlzc3VlTnVtYmVyXHJcbiAgICAgIH0gKTtcclxuICAgICAgaWYgKCByZXNwb25zZS5kYXRhLnN0YXRlID09PSAnY2xvc2VkJyApIHtcclxuICAgICAgICBjb25zb2xlLmxvZyggYFRPRE8gbGlua2luZyB0byBjbG9zZWQgaXNzdWU6ICR7aXNzdWVVUkx9YCApO1xyXG4gICAgICAgIGF3YWl0IG9jdG9raXQucmVxdWVzdCggJ1BBVENIIC9yZXBvcy97b3duZXJ9L3tyZXBvfS9pc3N1ZXMve2lzc3VlX251bWJlcn0nLCB7XHJcbiAgICAgICAgICBvd25lcjogJ3BoZXRzaW1zJyxcclxuICAgICAgICAgIHJlcG86IHJlcG8sXHJcbiAgICAgICAgICBpc3N1ZV9udW1iZXI6IGlzc3VlTnVtYmVyLFxyXG4gICAgICAgICAgc3RhdGU6ICdvcGVuJ1xyXG4gICAgICAgIH0gKTtcclxuICAgICAgICBhd2FpdCBvY3Rva2l0LnJlcXVlc3QoICdQT1NUIC9yZXBvcy97b3duZXJ9L3tyZXBvfS9pc3N1ZXMve2lzc3VlX251bWJlcn0vY29tbWVudHMnLCB7XHJcbiAgICAgICAgICBvd25lcjogJ3BoZXRzaW1zJyxcclxuICAgICAgICAgIHJlcG86IHJlcG8sXHJcbiAgICAgICAgICBpc3N1ZV9udW1iZXI6IGlzc3VlTnVtYmVyLFxyXG4gICAgICAgICAgYm9keTogJ1Jlb3BlbmluZyBiZWNhdXNlIHRoZXJlIGlzIGEgVE9ETyBtYXJrZWQgZm9yIHRoaXMgaXNzdWUuJ1xyXG4gICAgICAgIH0gKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2goIGUgKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoICdJc3N1ZSBkb2VzIG5vdCBleGlzdCcsIGAke3JlcG99IyR7aXNzdWVOdW1iZXJ9YCwgZSApO1xyXG4gICAgfVxyXG4gIH1cclxufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUUsU0FBVSxDQUFDO0FBQ3BDLE1BQU1DLEVBQUUsR0FBR0QsT0FBTyxDQUFFLElBQUssQ0FBQztBQUMxQixNQUFNRSxDQUFDLEdBQUdGLE9BQU8sQ0FBRSxRQUFTLENBQUM7QUFDN0IsTUFBTUcsT0FBTyxHQUFHSCxPQUFPLENBQUUsZUFBZ0IsQ0FBQyxDQUFDLENBQUM7O0FBRTVDLE1BQU1JLE9BQU8sR0FBR0osT0FBTyxDQUFFLG1CQUFvQixDQUFDO0FBQzlDLE1BQU1LLFVBQVUsR0FBR0wsT0FBTyxDQUFFLHNCQUF1QixDQUFDO0FBQ3BELE1BQU1NLFlBQVksR0FBR04sT0FBTyxDQUFFLHdCQUF5QixDQUFDO0FBQ3hELE1BQU1PLGVBQWUsR0FBR1AsT0FBTyxDQUFFLDJCQUE0QixDQUFDO0FBRTlELE1BQU1RLFlBQVksR0FBRyxpQkFBaUI7O0FBR3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUMsTUFBTSxDQUFDQyxPQUFPLEdBQUcsZUFBZUMscUJBQXFCQSxDQUFBLEVBQUc7RUFFdEQ7RUFDQTtFQUNBWixPQUFPLENBQUNhLEdBQUcsQ0FBQ0MsY0FBYyxHQUFHLElBQUk7RUFFakMsSUFBSyxDQUFDWixFQUFFLENBQUNhLFVBQVUsQ0FBRU4sWUFBYSxDQUFDLEVBQUc7SUFDcEMsTUFBTUQsZUFBZSxDQUFFQyxZQUFhLENBQUM7RUFDdkM7RUFDQVAsRUFBRSxDQUFDYyxhQUFhLENBQUUscUNBQXFDLEVBQUUsRUFBRyxDQUFDO0VBRTdEQyxPQUFPLENBQUNDLEdBQUcsQ0FBRSwrQkFBZ0MsQ0FBQztFQUM5QyxNQUFNQyxNQUFNLEdBQUcsTUFBTWQsT0FBTyxDQUFFRSxZQUFZLEVBQUUsQ0FB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