// Copyright 2021, University of Colorado Boulder

const protectGithubBranches = require('../common/protectGithubBranches');

/**
 * Set branch protection rules for the provided repo so that main, and release branches cannot be deleted.
 *
 * USAGE:
 * node perennial/js/scripts/protect-branches-for-repo.js repository-name
 *
 * EXAMPLE:
 * node perennial/js/scripts/protect-branches-for-repo.js john-travoltage
 *
 * @author Jesse Greenberg (PhET Interactive Simulations)
 */

const args = process.argv.slice(2);
const repo = args[0];
if (!repo) {
  console.error('Repo name must be provided as first command line argument.');
} else {
  (async () => {
    await protectGithubBranches.protectBranches([repo]);
  })();
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm90ZWN0R2l0aHViQnJhbmNoZXMiLCJyZXF1aXJlIiwiYXJncyIsInByb2Nlc3MiLCJhcmd2Iiwic2xpY2UiLCJyZXBvIiwiY29uc29sZSIsImVycm9yIiwicHJvdGVjdEJyYW5jaGVzIl0sInNvdXJjZXMiOlsicHJvdGVjdC1icmFuY2hlcy1mb3ItcmVwby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMSwgVW5pdmVyc2l0eSBvZiBDb2xvcmFkbyBCb3VsZGVyXHJcblxyXG5jb25zdCBwcm90ZWN0R2l0aHViQnJhbmNoZXMgPSByZXF1aXJlKCAnLi4vY29tbW9uL3Byb3RlY3RHaXRodWJCcmFuY2hlcycgKTtcclxuXHJcbi8qKlxyXG4gKiBTZXQgYnJhbmNoIHByb3RlY3Rpb24gcnVsZXMgZm9yIHRoZSBwcm92aWRlZCByZXBvIHNvIHRoYXQgbWFpbiwgYW5kIHJlbGVhc2UgYnJhbmNoZXMgY2Fubm90IGJlIGRlbGV0ZWQuXHJcbiAqXHJcbiAqIFVTQUdFOlxyXG4gKiBub2RlIHBlcmVubmlhbC9qcy9zY3JpcHRzL3Byb3RlY3QtYnJhbmNoZXMtZm9yLXJlcG8uanMgcmVwb3NpdG9yeS1uYW1lXHJcbiAqXHJcbiAqIEVYQU1QTEU6XHJcbiAqIG5vZGUgcGVyZW5uaWFsL2pzL3NjcmlwdHMvcHJvdGVjdC1icmFuY2hlcy1mb3ItcmVwby5qcyBqb2huLXRyYXZvbHRhZ2VcclxuICpcclxuICogQGF1dGhvciBKZXNzZSBHcmVlbmJlcmcgKFBoRVQgSW50ZXJhY3RpdmUgU2ltdWxhdGlvbnMpXHJcbiAqL1xyXG5cclxuXHJcbmNvbnN0IGFyZ3MgPSBwcm9jZXNzLmFyZ3Yuc2xpY2UoIDIgKTtcclxuY29uc3QgcmVwbyA9IGFyZ3NbIDAgXTtcclxuXHJcbmlmICggIXJlcG8gKSB7XHJcbiAgY29uc29sZS5lcnJvciggJ1JlcG8gbmFtZSBtdXN0IGJlIHByb3ZpZGVkIGFzIGZpcnN0IGNvbW1hbmQgbGluZSBhcmd1bWVudC4nICk7XHJcbn1cclxuZWxzZSB7XHJcbiAgKCBhc3luYyAoKSA9PiB7XHJcbiAgICBhd2FpdCBwcm90ZWN0R2l0aHViQnJhbmNoZXMucHJvdGVjdEJyYW5jaGVzKCBbIHJlcG8gXSApO1xyXG4gIH0gKSgpO1xyXG59Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxNQUFNQSxxQkFBcUIsR0FBR0MsT0FBTyxDQUFFLGlDQUFrQyxDQUFDOztBQUUxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBLE1BQU1DLElBQUksR0FBR0MsT0FBTyxDQUFDQyxJQUFJLENBQUNDLEtBQUssQ0FBRSxDQUFFLENBQUM7QUFDcEMsTUFBTUMsSUFBSSxHQUFHSixJQUFJLENBQUUsQ0FBQyxDQUFFO0FBRXRCLElBQUssQ0FBQ0ksSUFBSSxFQUFHO0VBQ1hDLE9BQU8sQ0FBQ0MsS0FBSyxDQUFFLDREQUE2RCxDQUFDO0FBQy9FLENBQUMsTUFDSTtFQUNILENBQUUsWUFBWTtJQUNaLE1BQU1SLHFCQUFxQixDQUFDUyxlQUFlLENBQUUsQ0FBRUgsSUFBSSxDQUFHLENBQUM7RUFDekQsQ0FBQyxFQUFHLENBQUM7QUFDUCIsImlnbm9yZUxpc3QiOltdfQ==