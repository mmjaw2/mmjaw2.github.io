// Copyright 2019-2023, University of Colorado Boulder

/**
 * GridBox lays out its children in a grid composed of cells. Children are provided in row-major order,
 * so cells are filled left-to-right, top-to-bottom.  All cells have the same dimensions, and alignment
 * of children within the cells can be specified.
 *
 * Adding/removing children does NOT change the contents of the grid, they will decorate the GridBox. To change the
 * contents of the grid, use setContents.
 *
 * @author Brandon Li
 * @author Chris Malley (PixelZoom, Inc.)
 */

import { AlignBox, AlignGroup, HBox, Node, VBox } from '../../../../scenery/js/imports.js';
import vectorAddition from '../../vectorAddition.js';
import optionize from '../../../../phet-core/js/optionize.js';
export default class GridBox extends Node {
  /**
   * @param contents - the contents of the grid, in row-major order
   * @param [providedOptions]
   */
  constructor(contents, providedOptions) {
    const options = optionize()({
      // SelfOptions
      columns: 2,
      xSpacing: 8,
      ySpacing: 8,
      xAlign: 'center',
      yAlign: 'center'
    }, providedOptions);
    assert && assert(options.columns > 0, `invalid columns: ${options.columns}`);
    const vBox = new VBox({
      spacing: options.ySpacing,
      align: 'left'
    });
    options.children = [vBox];
    super(options);
    this.contents = contents;
    this.vBox = vBox;
    this.columns = options.columns;
    this.xSpacing = options.xSpacing;
    this.xAlign = options.xAlign;
    this.yAlign = options.yAlign;
    this.setContents(contents);
  }

  /**
   * Gets the contents of the grid, in row-major order.
   */
  getContents() {
    return this.contents;
  }

  /**
   * Sets the contents of the grid, in row-major order.
   * @param contents - the contents of the grid, in row-major order
   */
  setContents(contents) {
    this.contents = contents;

    // Use an AlignGroup to ensure that every Node in the grid has the same effective bounds.
    const alignGroup = new AlignGroup({
      matchHorizontal: true,
      matchVertical: true
    });

    // Process the Nodes, in row-major order
    const vBoxChildren = [];
    let i = 0;
    while (i < contents.length) {
      const hBoxChildren = [];
      for (let column = 0; column < this.columns && i < contents.length; column++) {
        // Wrap each child in an AlignBox, so that every Node in the grid has the same effective bounds,
        // and is aligned within those bounds as specified by options xAlign and yAlign.
        hBoxChildren.push(new AlignBox(contents[i++], {
          group: alignGroup,
          xAlign: this.xAlign,
          yAlign: this.yAlign
        }));
      }
      vBoxChildren.push(new HBox({
        children: hBoxChildren,
        spacing: this.xSpacing,
        align: 'origin'
      }));
    }
    this.vBox.children = vBoxChildren;
  }
}
vectorAddition.register('GridBox', GridBox);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBbGlnbkJveCIsIkFsaWduR3JvdXAiLCJIQm94IiwiTm9kZSIsIlZCb3giLCJ2ZWN0b3JBZGRpdGlvbiIsIm9wdGlvbml6ZSIsIkdyaWRCb3giLCJjb25zdHJ1Y3RvciIsImNvbnRlbnRzIiwicHJvdmlkZWRPcHRpb25zIiwib3B0aW9ucyIsImNvbHVtbnMiLCJ4U3BhY2luZyIsInlTcGFjaW5nIiwieEFsaWduIiwieUFsaWduIiwiYXNzZXJ0IiwidkJveCIsInNwYWNpbmciLCJhbGlnbiIsImNoaWxkcmVuIiwic2V0Q29udGVudHMiLCJnZXRDb250ZW50cyIsImFsaWduR3JvdXAiLCJtYXRjaEhvcml6b250YWwiLCJtYXRjaFZlcnRpY2FsIiwidkJveENoaWxkcmVuIiwiaSIsImxlbmd0aCIsImhCb3hDaGlsZHJlbiIsImNvbHVtbiIsInB1c2giLCJncm91cCIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiR3JpZEJveC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOS0yMDIzLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBHcmlkQm94IGxheXMgb3V0IGl0cyBjaGlsZHJlbiBpbiBhIGdyaWQgY29tcG9zZWQgb2YgY2VsbHMuIENoaWxkcmVuIGFyZSBwcm92aWRlZCBpbiByb3ctbWFqb3Igb3JkZXIsXHJcbiAqIHNvIGNlbGxzIGFyZSBmaWxsZWQgbGVmdC10by1yaWdodCwgdG9wLXRvLWJvdHRvbS4gIEFsbCBjZWxscyBoYXZlIHRoZSBzYW1lIGRpbWVuc2lvbnMsIGFuZCBhbGlnbm1lbnRcclxuICogb2YgY2hpbGRyZW4gd2l0aGluIHRoZSBjZWxscyBjYW4gYmUgc3BlY2lmaWVkLlxyXG4gKlxyXG4gKiBBZGRpbmcvcmVtb3ZpbmcgY2hpbGRyZW4gZG9lcyBOT1QgY2hhbmdlIHRoZSBjb250ZW50cyBvZiB0aGUgZ3JpZCwgdGhleSB3aWxsIGRlY29yYXRlIHRoZSBHcmlkQm94LiBUbyBjaGFuZ2UgdGhlXHJcbiAqIGNvbnRlbnRzIG9mIHRoZSBncmlkLCB1c2Ugc2V0Q29udGVudHMuXHJcbiAqXHJcbiAqIEBhdXRob3IgQnJhbmRvbiBMaVxyXG4gKiBAYXV0aG9yIENocmlzIE1hbGxleSAoUGl4ZWxab29tLCBJbmMuKVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IEFsaWduQm94LCBBbGlnbkJveFhBbGlnbiwgQWxpZ25Cb3hZQWxpZ24sIEFsaWduR3JvdXAsIEhCb3gsIE5vZGUsIE5vZGVPcHRpb25zLCBWQm94IH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IHZlY3RvckFkZGl0aW9uIGZyb20gJy4uLy4uL3ZlY3RvckFkZGl0aW9uLmpzJztcclxuaW1wb3J0IG9wdGlvbml6ZSBmcm9tICcuLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvb3B0aW9uaXplLmpzJztcclxuXHJcbnR5cGUgU2VsZk9wdGlvbnMgPSB7XHJcbiAgY29sdW1ucz86IG51bWJlcjsgLy8gbnVtYmVyIG9mIGNvbHVtbnNcclxuICB4U3BhY2luZz86IG51bWJlcjsgLy8gaG9yaXpvbnRhbCBzcGFjaW5nIGJldHdlZW4gY2VsbHNcclxuICB5U3BhY2luZz86IG51bWJlcjsgLy8gdmVydGljYWwgc3BhY2luZyBiZXR3ZWVuIGNlbGxzXHJcbiAgeEFsaWduPzogQWxpZ25Cb3hYQWxpZ247IC8vIGhvcml6b250YWwgYWxpZ25tZW50IG9mIGVhY2ggTm9kZSBpbiBpdHMgY2VsbCwgc2VlIFhfQUxJR05fVkFMVUVTXHJcbiAgeUFsaWduPzogQWxpZ25Cb3hZQWxpZ247IC8vIHZlcnRpY2FsIGFsaWdubWVudCBvZiBlYWNoIE5vZGUgaW4gaXRzIGNlbGwsIHNlZSBZX0FMSUdOX1ZBTFVFU1xyXG59O1xyXG5cclxudHlwZSBHcmlkQm94T3B0aW9ucyA9IFNlbGZPcHRpb25zO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JpZEJveCBleHRlbmRzIE5vZGUge1xyXG5cclxuICBwcml2YXRlIGNvbnRlbnRzOiBOb2RlW107XHJcbiAgcHJpdmF0ZSByZWFkb25seSB2Qm94OiBWQm94O1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgY29sdW1uczogbnVtYmVyO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgeFNwYWNpbmc6IG51bWJlcjtcclxuICBwcml2YXRlIHJlYWRvbmx5IHhBbGlnbjogQWxpZ25Cb3hYQWxpZ247XHJcbiAgcHJpdmF0ZSByZWFkb25seSB5QWxpZ246IEFsaWduQm94WUFsaWduO1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0gY29udGVudHMgLSB0aGUgY29udGVudHMgb2YgdGhlIGdyaWQsIGluIHJvdy1tYWpvciBvcmRlclxyXG4gICAqIEBwYXJhbSBbcHJvdmlkZWRPcHRpb25zXVxyXG4gICAqL1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggY29udGVudHM6IE5vZGVbXSwgcHJvdmlkZWRPcHRpb25zPzogR3JpZEJveE9wdGlvbnMgKSB7XHJcblxyXG4gICAgY29uc3Qgb3B0aW9ucyA9IG9wdGlvbml6ZTxHcmlkQm94T3B0aW9ucywgU2VsZk9wdGlvbnMsIE5vZGVPcHRpb25zPigpKCB7XHJcblxyXG4gICAgICAvLyBTZWxmT3B0aW9uc1xyXG4gICAgICBjb2x1bW5zOiAyLFxyXG4gICAgICB4U3BhY2luZzogOCxcclxuICAgICAgeVNwYWNpbmc6IDgsXHJcbiAgICAgIHhBbGlnbjogJ2NlbnRlcicsXHJcbiAgICAgIHlBbGlnbjogJ2NlbnRlcidcclxuICAgIH0sIHByb3ZpZGVkT3B0aW9ucyApO1xyXG5cclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIG9wdGlvbnMuY29sdW1ucyA+IDAsIGBpbnZhbGlkIGNvbHVtbnM6ICR7b3B0aW9ucy5jb2x1bW5zfWAgKTtcclxuXHJcbiAgICBjb25zdCB2Qm94ID0gbmV3IFZCb3goIHtcclxuICAgICAgc3BhY2luZzogb3B0aW9ucy55U3BhY2luZyxcclxuICAgICAgYWxpZ246ICdsZWZ0J1xyXG4gICAgfSApO1xyXG5cclxuICAgIG9wdGlvbnMuY2hpbGRyZW4gPSBbIHZCb3ggXTtcclxuXHJcbiAgICBzdXBlciggb3B0aW9ucyApO1xyXG5cclxuICAgIHRoaXMuY29udGVudHMgPSBjb250ZW50cztcclxuICAgIHRoaXMudkJveCA9IHZCb3g7XHJcbiAgICB0aGlzLmNvbHVtbnMgPSBvcHRpb25zLmNvbHVtbnM7XHJcbiAgICB0aGlzLnhTcGFjaW5nID0gb3B0aW9ucy54U3BhY2luZztcclxuICAgIHRoaXMueEFsaWduID0gb3B0aW9ucy54QWxpZ247XHJcbiAgICB0aGlzLnlBbGlnbiA9IG9wdGlvbnMueUFsaWduO1xyXG5cclxuICAgIHRoaXMuc2V0Q29udGVudHMoIGNvbnRlbnRzICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXRzIHRoZSBjb250ZW50cyBvZiB0aGUgZ3JpZCwgaW4gcm93LW1ham9yIG9yZGVyLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRDb250ZW50cygpOiBOb2RlW10ge1xyXG4gICAgcmV0dXJuIHRoaXMuY29udGVudHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHRoZSBjb250ZW50cyBvZiB0aGUgZ3JpZCwgaW4gcm93LW1ham9yIG9yZGVyLlxyXG4gICAqIEBwYXJhbSBjb250ZW50cyAtIHRoZSBjb250ZW50cyBvZiB0aGUgZ3JpZCwgaW4gcm93LW1ham9yIG9yZGVyXHJcbiAgICovXHJcbiAgcHVibGljIHNldENvbnRlbnRzKCBjb250ZW50czogTm9kZVtdICk6IHZvaWQge1xyXG5cclxuICAgIHRoaXMuY29udGVudHMgPSBjb250ZW50cztcclxuXHJcbiAgICAvLyBVc2UgYW4gQWxpZ25Hcm91cCB0byBlbnN1cmUgdGhhdCBldmVyeSBOb2RlIGluIHRoZSBncmlkIGhhcyB0aGUgc2FtZSBlZmZlY3RpdmUgYm91bmRzLlxyXG4gICAgY29uc3QgYWxpZ25Hcm91cCA9IG5ldyBBbGlnbkdyb3VwKCB7XHJcbiAgICAgIG1hdGNoSG9yaXpvbnRhbDogdHJ1ZSxcclxuICAgICAgbWF0Y2hWZXJ0aWNhbDogdHJ1ZVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIFByb2Nlc3MgdGhlIE5vZGVzLCBpbiByb3ctbWFqb3Igb3JkZXJcclxuICAgIGNvbnN0IHZCb3hDaGlsZHJlbiA9IFtdO1xyXG4gICAgbGV0IGkgPSAwO1xyXG4gICAgd2hpbGUgKCBpIDwgY29udGVudHMubGVuZ3RoICkge1xyXG5cclxuICAgICAgY29uc3QgaEJveENoaWxkcmVuID0gW107XHJcbiAgICAgIGZvciAoIGxldCBjb2x1bW4gPSAwOyBjb2x1bW4gPCB0aGlzLmNvbHVtbnMgJiYgaSA8IGNvbnRlbnRzLmxlbmd0aDsgY29sdW1uKysgKSB7XHJcblxyXG4gICAgICAgIC8vIFdyYXAgZWFjaCBjaGlsZCBpbiBhbiBBbGlnbkJveCwgc28gdGhhdCBldmVyeSBOb2RlIGluIHRoZSBncmlkIGhhcyB0aGUgc2FtZSBlZmZlY3RpdmUgYm91bmRzLFxyXG4gICAgICAgIC8vIGFuZCBpcyBhbGlnbmVkIHdpdGhpbiB0aG9zZSBib3VuZHMgYXMgc3BlY2lmaWVkIGJ5IG9wdGlvbnMgeEFsaWduIGFuZCB5QWxpZ24uXHJcbiAgICAgICAgaEJveENoaWxkcmVuLnB1c2goIG5ldyBBbGlnbkJveCggY29udGVudHNbIGkrKyBdLCB7XHJcbiAgICAgICAgICBncm91cDogYWxpZ25Hcm91cCxcclxuICAgICAgICAgIHhBbGlnbjogdGhpcy54QWxpZ24sXHJcbiAgICAgICAgICB5QWxpZ246IHRoaXMueUFsaWduXHJcbiAgICAgICAgfSApICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZCb3hDaGlsZHJlbi5wdXNoKCBuZXcgSEJveCgge1xyXG4gICAgICAgIGNoaWxkcmVuOiBoQm94Q2hpbGRyZW4sXHJcbiAgICAgICAgc3BhY2luZzogdGhpcy54U3BhY2luZyxcclxuICAgICAgICBhbGlnbjogJ29yaWdpbidcclxuICAgICAgfSApICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy52Qm94LmNoaWxkcmVuID0gdkJveENoaWxkcmVuO1xyXG4gIH1cclxufVxyXG5cclxudmVjdG9yQWRkaXRpb24ucmVnaXN0ZXIoICdHcmlkQm94JywgR3JpZEJveCApOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTQSxRQUFRLEVBQWtDQyxVQUFVLEVBQUVDLElBQUksRUFBRUMsSUFBSSxFQUFlQyxJQUFJLFFBQVEsbUNBQW1DO0FBQ3ZJLE9BQU9DLGNBQWMsTUFBTSx5QkFBeUI7QUFDcEQsT0FBT0MsU0FBUyxNQUFNLHVDQUF1QztBQVk3RCxlQUFlLE1BQU1DLE9BQU8sU0FBU0osSUFBSSxDQUFDO0VBU3hDO0FBQ0Y7QUFDQTtBQUNBO0VBQ1NLLFdBQVdBLENBQUVDLFFBQWdCLEVBQUVDLGVBQWdDLEVBQUc7SUFFdkUsTUFBTUMsT0FBTyxHQUFHTCxTQUFTLENBQTJDLENBQUMsQ0FBRTtNQUVyRTtNQUNBTSxPQUFPLEVBQUUsQ0FBQztNQUNWQyxRQUFRLEVBQUUsQ0FBQztNQUNYQyxRQUFRLEVBQUUsQ0FBQztNQUNYQyxNQUFNLEVBQUUsUUFBUTtNQUNoQkMsTUFBTSxFQUFFO0lBQ1YsQ0FBQyxFQUFFTixlQUFnQixDQUFDO0lBRXBCTyxNQUFNLElBQUlBLE1BQU0sQ0FBRU4sT0FBTyxDQUFDQyxPQUFPLEdBQUcsQ0FBQyxFQUFHLG9CQUFtQkQsT0FBTyxDQUFDQyxPQUFRLEVBQUUsQ0FBQztJQUU5RSxNQUFNTSxJQUFJLEdBQUcsSUFBSWQsSUFBSSxDQUFFO01BQ3JCZSxPQUFPLEVBQUVSLE9BQU8sQ0FBQ0csUUFBUTtNQUN6Qk0sS0FBSyxFQUFFO0lBQ1QsQ0FBRSxDQUFDO0lBRUhULE9BQU8sQ0FBQ1UsUUFBUSxHQUFHLENBQUVILElBQUksQ0FBRTtJQUUzQixLQUFLLENBQUVQLE9BQVEsQ0FBQztJQUVoQixJQUFJLENBQUNGLFFBQVEsR0FBR0EsUUFBUTtJQUN4QixJQUFJLENBQUNTLElBQUksR0FBR0EsSUFBSTtJQUNoQixJQUFJLENBQUNOLE9BQU8sR0FBR0QsT0FBTyxDQUFDQyxPQUFPO0lBQzlCLElBQUksQ0FBQ0MsUUFBUSxHQUFHRixPQUFPLENBQUNFLFFBQVE7SUFDaEMsSUFBSSxDQUFDRSxNQUFNLEdBQUdKLE9BQU8sQ0FBQ0ksTUFBTTtJQUM1QixJQUFJLENBQUNDLE1BQU0sR0FBR0wsT0FBTyxDQUFDSyxNQUFNO0lBRTVCLElBQUksQ0FBQ00sV0FBVyxDQUFFYixRQUFTLENBQUM7RUFDOUI7O0VBRUE7QUFDRjtBQUNBO0VBQ1NjLFdBQVdBLENBQUEsRUFBVztJQUMzQixPQUFPLElBQUksQ0FBQ2QsUUFBUTtFQUN0Qjs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtFQUNTYSxXQUFXQSxDQUFFYixRQUFnQixFQUFTO0lBRTNDLElBQUksQ0FBQ0EsUUFBUSxHQUFHQSxRQUFROztJQUV4QjtJQUNBLE1BQU1lLFVBQVUsR0FBRyxJQUFJdkIsVUFBVSxDQUFFO01BQ2pDd0IsZUFBZSxFQUFFLElBQUk7TUFDckJDLGFBQWEsRUFBRTtJQUNqQixDQUFFLENBQUM7O0lBRUg7SUFDQSxNQUFNQyxZQUFZLEdBQUcsRUFBRTtJQUN2QixJQUFJQyxDQUFDLEdBQUcsQ0FBQztJQUNULE9BQVFBLENBQUMsR0FBR25CLFFBQVEsQ0FBQ29CLE1BQU0sRUFBRztNQUU1QixNQUFNQyxZQUFZLEdBQUcsRUFBRTtNQUN2QixLQUFNLElBQUlDLE1BQU0sR0FBRyxDQUFDLEVBQUVBLE1BQU0sR0FBRyxJQUFJLENBQUNuQixPQUFPLElBQUlnQixDQUFDLEdBQUduQixRQUFRLENBQUNvQixNQUFNLEVBQUVFLE1BQU0sRUFBRSxFQUFHO1FBRTdFO1FBQ0E7UUFDQUQsWUFBWSxDQUFDRSxJQUFJLENBQUUsSUFBSWhDLFFBQVEsQ0FBRVMsUUFBUSxDQUFFbUIsQ0FBQyxFQUFFLENBQUUsRUFBRTtVQUNoREssS0FBSyxFQUFFVCxVQUFVO1VBQ2pCVCxNQUFNLEVBQUUsSUFBSSxDQUFDQSxNQUFNO1VBQ25CQyxNQUFNLEVBQUUsSUFBSSxDQUFDQTtRQUNmLENBQUUsQ0FBRSxDQUFDO01BQ1A7TUFFQVcsWUFBWSxDQUFDSyxJQUFJLENBQUUsSUFBSTlCLElBQUksQ0FBRTtRQUMzQm1CLFFBQVEsRUFBRVMsWUFBWTtRQUN0QlgsT0FBTyxFQUFFLElBQUksQ0FBQ04sUUFBUTtRQUN0Qk8sS0FBSyxFQUFFO01BQ1QsQ0FBRSxDQUFFLENBQUM7SUFDUDtJQUVBLElBQUksQ0FBQ0YsSUFBSSxDQUFDRyxRQUFRLEdBQUdNLFlBQVk7RUFDbkM7QUFDRjtBQUVBdEIsY0FBYyxDQUFDNkIsUUFBUSxDQUFFLFNBQVMsRUFBRTNCLE9BQVEsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==