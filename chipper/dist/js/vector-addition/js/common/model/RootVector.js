// Copyright 2019-2023, University of Colorado Boulder

/**
 * RootVector is the root class for vector models, for all types of vectors.
 * It is abstract and intended to be subclassed.
 *
 * For an overview of the class hierarchy, see
 * https://github.com/phetsims/vector-addition/blob/main/doc/implementation-notes.md
 *
 * Responsibilities are:
 *  - tip and tail position Properties
 *  - components (x and y as scalars, or in other words the actual vector <x, y>)
 *  - vector color palette
 *  - abstract method for label information, see getLabelDisplayData
 *
 * @author Brandon Li
 */

import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import Utils from '../../../../dot/js/Utils.js';
import Vector2 from '../../../../dot/js/Vector2.js';
import Vector2Property from '../../../../dot/js/Vector2Property.js';
import vectorAddition from '../../vectorAddition.js';
import VectorAdditionConstants from '../VectorAdditionConstants.js';
export default class RootVector {
  // the vector's components, its x and y scalar values

  // the tail position of the vector on the graph

  // the tip position of the vector on the graph

  // the color palette used to render the vector

  // the symbol used to represent the vector

  /**
   * @param initialTailPosition - starting tail position of the vector
   * @param initialComponents - starting components of the vector
   * @param vectorColorPalette - color palette for this vector
   * @param symbol - the symbol for the vector (i.e. 'a', 'b', 'c', ...)
   */
  constructor(initialTailPosition, initialComponents, vectorColorPalette, symbol) {
    this.vectorComponentsProperty = new Vector2Property(initialComponents);
    this.tailPositionProperty = new Vector2Property(initialTailPosition);
    this.tipPositionProperty = new DerivedProperty([this.tailPositionProperty, this.vectorComponentsProperty], (tailPosition, vectorComponents) => tailPosition.plus(vectorComponents), {
      valueType: Vector2
    });
    this.vectorColorPalette = vectorColorPalette;
    this.symbol = symbol;
  }
  reset() {
    this.vectorComponentsProperty.reset();
    this.tailPositionProperty.reset();
  }

  /**
   * Gets the data that tells how to display a label on the vector. Labels are different for different vector types.
   *
   * For instance, vectors with values visible display their symbol (i.e. a, b, c, ...) AND their magnitude, while
   * their component vectors only display the x or y component. In the same example, vectors display their magnitude
   * (which is always positive), while component vectors display the component vector's scalar value, which may be
   * negative.
   *
   * Additionally, the label displays different content depending on the screen.
   * See https://github.com/phetsims/vector-addition/issues/39.
   *
   * There are 5 different factors for determining what the label displays:
   *  - Whether the vector has a coefficient and if it should display it
   *  - Whether the values are visible (determined by the values checkbox)
   *  - Whether the magnitude/component is of length 0. See
   *    https://docs.google.com/document/d/1opnDgqIqIroo8VK0CbOyQ5608_g11MSGZXnFlI8k5Ds/edit#bookmark=id.kmeaaeg3ukx9
   *  - Whether the vector has a symbol (e.g. the vectors on lab screen don't have symbols)
   *  - Whether the vector is active (https://github.com/phetsims/vector-addition/issues/39#issuecomment-506586411)
   *
   * These factors play different roles for different vector types, making it difficult to generalize. Thus, an
   * abstract method is used to determine the content.
   *
   * @param valuesVisible - whether the values are visible (determined by the Values checkbox)
   */

  /**
   * Gets the components (scalars) of the vector.
   */
  get vectorComponents() {
    return this.vectorComponentsProperty.value;
  }

  /**
   * Sets the components (scalars) of the vector
   */
  set vectorComponents(vectorComponents) {
    this.vectorComponentsProperty.value = vectorComponents;
  }

  /**
   * Gets the magnitude of the vector (always positive).
   */
  get magnitude() {
    return this.vectorComponents.magnitude;
  }

  /**
   * Gets the x component (scalar).
   */
  get xComponent() {
    return this.vectorComponents.x;
  }

  /**
   * Sets the x component (scalar).
   */
  set xComponent(xComponent) {
    this.vectorComponents = this.vectorComponents.copy().setX(xComponent);
  }

  /**
   * Gets the y component (scalar).
   */
  get yComponent() {
    return this.vectorComponents.y;
  }

  /**
   * Sets the y component (scalar).
   */
  set yComponent(yComponent) {
    this.vectorComponents = this.vectorComponents.copy().setY(yComponent);
  }

  /**
   * Is either of this vector's components effectively zero?
   * See https://github.com/phetsims/vector-addition/issues/264
   */
  hasZeroComponent() {
    return Math.abs(this.xComponent) < VectorAdditionConstants.ZERO_THRESHOLD || Math.abs(this.yComponent) < VectorAdditionConstants.ZERO_THRESHOLD;
  }

  /**
   * Moves the vector to the specified tail position.
   * This keeps the magnitude constant, and (as a side effect) changes the tip position.
   */
  moveToTailPosition(position) {
    this.tailPositionProperty.value = position;
  }

  /**
   * Sets the tail position. This keeps the tip position constant, and (as a side effect) changes magnitude.
   */
  setTailXY(x, y) {
    // Keep a reference to the original tip
    const tip = this.tip;
    this.moveToTailPosition(new Vector2(x, y));

    // Set the tip back
    this.tip = tip;
  }

  /**
   * Sets the tail position. This keeps the tip position constant, and (as a side effect) changes magnitude.
   */
  set tail(tail) {
    this.setTailXY(tail.x, tail.y);
  }

  /**
   * Gets the tail position.
   */
  get tail() {
    return this.tailPositionProperty.value;
  }

  /**
   * Sets the tail's x coordinate. This keeps the tip position constant, and (as a side effect) changes magnitude.
   */
  set tailX(tailX) {
    this.setTailXY(tailX, this.tailY);
  }

  /**
   * Gets the tail's x coordinate.
   */
  get tailX() {
    return this.tailPositionProperty.value.x;
  }

  /**
   * Sets the tail's y coordinate. This keeps the tip position constant, and (as a side effect) changes magnitude.
   */
  set tailY(tailY) {
    this.setTailXY(this.tailX, tailY);
  }

  /**
   * Gets the tail's y coordinate.
   */
  get tailY() {
    return this.tailPositionProperty.value.y;
  }

  /**
   * Sets the tip position. This keeps the tail position constant, and (as a side effect) changes magnitude.
   */
  setTipXY(x, y) {
    // Since tipPositionProperty is a DerivedProperty, we cannot directly set it.
    // Instead, we will update the vector components, keeping the tail constant.
    const tip = new Vector2(x, y);
    this.vectorComponents = this.vectorComponents.plus(tip.minus(this.tip));
  }

  /**
   * Sets the tip position. This keeps the tail position constant, and (as a side effect) changes magnitude.
   */
  set tip(tip) {
    this.setTipXY(tip.x, tip.y);
  }

  /**
   * Gets the tip position.
   */
  get tip() {
    return this.tipPositionProperty.value;
  }

  /**
   * Gets the tip's x coordinate.
   */
  get tipX() {
    return this.tipPositionProperty.value.x;
  }

  /**
   * Gets the tip's y coordinate.
   */
  get tipY() {
    return this.tipPositionProperty.value.y;
  }

  /**
   * Gets the angle of the vector in radians, measured clockwise from the horizontal.
   * null when the vector has 0 magnitude.
   */
  get angle() {
    return this.vectorComponents.equalsEpsilon(Vector2.ZERO, 1e-7) ? null : this.vectorComponents.angle;
  }

  /**
   * Gets the angle of the vector in degrees, measured clockwise from the horizontal.
   * null when the vector has 0 magnitude.
   */
  get angleDegrees() {
    const angleRadians = this.angle;
    return angleRadians === null ? null : Utils.toDegrees(angleRadians);
  }
}
vectorAddition.register('RootVector', RootVector);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEZXJpdmVkUHJvcGVydHkiLCJVdGlscyIsIlZlY3RvcjIiLCJWZWN0b3IyUHJvcGVydHkiLCJ2ZWN0b3JBZGRpdGlvbiIsIlZlY3RvckFkZGl0aW9uQ29uc3RhbnRzIiwiUm9vdFZlY3RvciIsImNvbnN0cnVjdG9yIiwiaW5pdGlhbFRhaWxQb3NpdGlvbiIsImluaXRpYWxDb21wb25lbnRzIiwidmVjdG9yQ29sb3JQYWxldHRlIiwic3ltYm9sIiwidmVjdG9yQ29tcG9uZW50c1Byb3BlcnR5IiwidGFpbFBvc2l0aW9uUHJvcGVydHkiLCJ0aXBQb3NpdGlvblByb3BlcnR5IiwidGFpbFBvc2l0aW9uIiwidmVjdG9yQ29tcG9uZW50cyIsInBsdXMiLCJ2YWx1ZVR5cGUiLCJyZXNldCIsInZhbHVlIiwibWFnbml0dWRlIiwieENvbXBvbmVudCIsIngiLCJjb3B5Iiwic2V0WCIsInlDb21wb25lbnQiLCJ5Iiwic2V0WSIsImhhc1plcm9Db21wb25lbnQiLCJNYXRoIiwiYWJzIiwiWkVST19USFJFU0hPTEQiLCJtb3ZlVG9UYWlsUG9zaXRpb24iLCJwb3NpdGlvbiIsInNldFRhaWxYWSIsInRpcCIsInRhaWwiLCJ0YWlsWCIsInRhaWxZIiwic2V0VGlwWFkiLCJtaW51cyIsInRpcFgiLCJ0aXBZIiwiYW5nbGUiLCJlcXVhbHNFcHNpbG9uIiwiWkVSTyIsImFuZ2xlRGVncmVlcyIsImFuZ2xlUmFkaWFucyIsInRvRGVncmVlcyIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiUm9vdFZlY3Rvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOS0yMDIzLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBSb290VmVjdG9yIGlzIHRoZSByb290IGNsYXNzIGZvciB2ZWN0b3IgbW9kZWxzLCBmb3IgYWxsIHR5cGVzIG9mIHZlY3RvcnMuXHJcbiAqIEl0IGlzIGFic3RyYWN0IGFuZCBpbnRlbmRlZCB0byBiZSBzdWJjbGFzc2VkLlxyXG4gKlxyXG4gKiBGb3IgYW4gb3ZlcnZpZXcgb2YgdGhlIGNsYXNzIGhpZXJhcmNoeSwgc2VlXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy92ZWN0b3ItYWRkaXRpb24vYmxvYi9tYWluL2RvYy9pbXBsZW1lbnRhdGlvbi1ub3Rlcy5tZFxyXG4gKlxyXG4gKiBSZXNwb25zaWJpbGl0aWVzIGFyZTpcclxuICogIC0gdGlwIGFuZCB0YWlsIHBvc2l0aW9uIFByb3BlcnRpZXNcclxuICogIC0gY29tcG9uZW50cyAoeCBhbmQgeSBhcyBzY2FsYXJzLCBvciBpbiBvdGhlciB3b3JkcyB0aGUgYWN0dWFsIHZlY3RvciA8eCwgeT4pXHJcbiAqICAtIHZlY3RvciBjb2xvciBwYWxldHRlXHJcbiAqICAtIGFic3RyYWN0IG1ldGhvZCBmb3IgbGFiZWwgaW5mb3JtYXRpb24sIHNlZSBnZXRMYWJlbERpc3BsYXlEYXRhXHJcbiAqXHJcbiAqIEBhdXRob3IgQnJhbmRvbiBMaVxyXG4gKi9cclxuXHJcbmltcG9ydCBEZXJpdmVkUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9EZXJpdmVkUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1V0aWxzLmpzJztcclxuaW1wb3J0IFZlY3RvcjIgZnJvbSAnLi4vLi4vLi4vLi4vZG90L2pzL1ZlY3RvcjIuanMnO1xyXG5pbXBvcnQgVmVjdG9yMlByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2RvdC9qcy9WZWN0b3IyUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgdmVjdG9yQWRkaXRpb24gZnJvbSAnLi4vLi4vdmVjdG9yQWRkaXRpb24uanMnO1xyXG5pbXBvcnQgVmVjdG9yQWRkaXRpb25Db25zdGFudHMgZnJvbSAnLi4vVmVjdG9yQWRkaXRpb25Db25zdGFudHMuanMnO1xyXG5pbXBvcnQgVmVjdG9yQ29sb3JQYWxldHRlIGZyb20gJy4vVmVjdG9yQ29sb3JQYWxldHRlLmpzJztcclxuaW1wb3J0IFByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgVFJlYWRPbmx5UHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9UUmVhZE9ubHlQcm9wZXJ0eS5qcyc7XHJcblxyXG5leHBvcnQgdHlwZSBMYWJlbERpc3BsYXlEYXRhID0ge1xyXG5cclxuICAvLyBUaGUgY29lZmZpY2llbnQgdG8gYmUgZGlzcGxheWVkLiBudWxsIG1lYW5zIHRvIG5vdCBkaXNwbGF5IGEgY29lZmZpY2llbnQuXHJcbiAgLy8gRm9yIGV4YW1wbGUsIGlmIHRoZSBsYWJlbCBkaXNwbGF5ZWQgJ3wzdnw9MTUnLCB0aGUgY29lZmZpY2llbnQgaXMgMy5cclxuICBjb2VmZmljaWVudDogbnVtYmVyIHwgbnVsbDtcclxuXHJcbiAgLy8gVGhlIHN5bWJvbCB0byBiZSBkaXNwbGF5ZWQuIG51bGwgbWVhbnMgdG8gbm90IGRpc3BsYXkgYSBzeW1ib2wuXHJcbiAgLy8gRm9yIGV4YW1wbGUsIGlmIHRoZSBsYWJlbCBkaXNwbGF5ZWQgJ3wzdnw9MTUnLCB0aGUgc3ltYm9sIGlzICd2Jy5cclxuICBzeW1ib2w6IHN0cmluZyB8IG51bGw7XHJcblxyXG4gIC8vIFRoZSB2ZWN0b3IgbWFnbml0dWRlLCBkaXNwbGF5ZWQgb24gdGhlIHJpZ2h0IHNpZGUgb2YgdGhlIGxhYmVsIGVxdWF0aW9uLiBudWxsIG1lYW5zIHRvIG5vdCBkaXNwbGF5IGEgdmFsdWUuXHJcbiAgLy8gRm9yIGV4YW1wbGUsIGlmIHRoZSBsYWJlbCBkaXNwbGF5ZWQgJ3wzdnw9MTUnLCB0aGUgbWFnbml0dWRlIGlzIDE1LlxyXG4gIG1hZ25pdHVkZTogbnVtYmVyIHwgbnVsbDtcclxuXHJcbiAgLy8gSW5jbHVkZSBhYnNvbHV0ZSB2YWx1ZSBiYXJzIGFyb3VuZCB0aGUgY29lZmZpY2llbnQgYW5kIHN5bWJvbC5cclxuICAvLyBGb3IgZXhhbXBsZSwgdHJ1ZSA9PiAnfDN2fD0xNScsIGZhbHNlID0+ICczdj0xNSdcclxuICBpbmNsdWRlQWJzb2x1dGVWYWx1ZUJhcnM6IGJvb2xlYW47XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBSb290VmVjdG9yIHtcclxuXHJcbiAgLy8gdGhlIHZlY3RvcidzIGNvbXBvbmVudHMsIGl0cyB4IGFuZCB5IHNjYWxhciB2YWx1ZXNcclxuICBwdWJsaWMgcmVhZG9ubHkgdmVjdG9yQ29tcG9uZW50c1Byb3BlcnR5OiBQcm9wZXJ0eTxWZWN0b3IyPjtcclxuXHJcbiAgLy8gdGhlIHRhaWwgcG9zaXRpb24gb2YgdGhlIHZlY3RvciBvbiB0aGUgZ3JhcGhcclxuICBwdWJsaWMgcmVhZG9ubHkgdGFpbFBvc2l0aW9uUHJvcGVydHk6IFByb3BlcnR5PFZlY3RvcjI+O1xyXG5cclxuICAvLyB0aGUgdGlwIHBvc2l0aW9uIG9mIHRoZSB2ZWN0b3Igb24gdGhlIGdyYXBoXHJcbiAgcHVibGljIHJlYWRvbmx5IHRpcFBvc2l0aW9uUHJvcGVydHk6IFRSZWFkT25seVByb3BlcnR5PFZlY3RvcjI+O1xyXG5cclxuICAvLyB0aGUgY29sb3IgcGFsZXR0ZSB1c2VkIHRvIHJlbmRlciB0aGUgdmVjdG9yXHJcbiAgcHVibGljIHJlYWRvbmx5IHZlY3RvckNvbG9yUGFsZXR0ZTogVmVjdG9yQ29sb3JQYWxldHRlO1xyXG5cclxuICAvLyB0aGUgc3ltYm9sIHVzZWQgdG8gcmVwcmVzZW50IHRoZSB2ZWN0b3JcclxuICBwdWJsaWMgcmVhZG9ubHkgc3ltYm9sOiBzdHJpbmcgfCBudWxsO1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0gaW5pdGlhbFRhaWxQb3NpdGlvbiAtIHN0YXJ0aW5nIHRhaWwgcG9zaXRpb24gb2YgdGhlIHZlY3RvclxyXG4gICAqIEBwYXJhbSBpbml0aWFsQ29tcG9uZW50cyAtIHN0YXJ0aW5nIGNvbXBvbmVudHMgb2YgdGhlIHZlY3RvclxyXG4gICAqIEBwYXJhbSB2ZWN0b3JDb2xvclBhbGV0dGUgLSBjb2xvciBwYWxldHRlIGZvciB0aGlzIHZlY3RvclxyXG4gICAqIEBwYXJhbSBzeW1ib2wgLSB0aGUgc3ltYm9sIGZvciB0aGUgdmVjdG9yIChpLmUuICdhJywgJ2InLCAnYycsIC4uLilcclxuICAgKi9cclxuICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoIGluaXRpYWxUYWlsUG9zaXRpb246IFZlY3RvcjIsIGluaXRpYWxDb21wb25lbnRzOiBWZWN0b3IyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgdmVjdG9yQ29sb3JQYWxldHRlOiBWZWN0b3JDb2xvclBhbGV0dGUsIHN5bWJvbDogc3RyaW5nIHwgbnVsbCApIHtcclxuXHJcbiAgICB0aGlzLnZlY3RvckNvbXBvbmVudHNQcm9wZXJ0eSA9IG5ldyBWZWN0b3IyUHJvcGVydHkoIGluaXRpYWxDb21wb25lbnRzICk7XHJcbiAgICB0aGlzLnRhaWxQb3NpdGlvblByb3BlcnR5ID0gbmV3IFZlY3RvcjJQcm9wZXJ0eSggaW5pdGlhbFRhaWxQb3NpdGlvbiApO1xyXG5cclxuICAgIHRoaXMudGlwUG9zaXRpb25Qcm9wZXJ0eSA9IG5ldyBEZXJpdmVkUHJvcGVydHkoXHJcbiAgICAgIFsgdGhpcy50YWlsUG9zaXRpb25Qcm9wZXJ0eSwgdGhpcy52ZWN0b3JDb21wb25lbnRzUHJvcGVydHkgXSxcclxuICAgICAgKCB0YWlsUG9zaXRpb24sIHZlY3RvckNvbXBvbmVudHMgKSA9PiB0YWlsUG9zaXRpb24ucGx1cyggdmVjdG9yQ29tcG9uZW50cyApLFxyXG4gICAgICB7IHZhbHVlVHlwZTogVmVjdG9yMiB9XHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMudmVjdG9yQ29sb3JQYWxldHRlID0gdmVjdG9yQ29sb3JQYWxldHRlO1xyXG5cclxuICAgIHRoaXMuc3ltYm9sID0gc3ltYm9sO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHJlc2V0KCk6IHZvaWQge1xyXG4gICAgdGhpcy52ZWN0b3JDb21wb25lbnRzUHJvcGVydHkucmVzZXQoKTtcclxuICAgIHRoaXMudGFpbFBvc2l0aW9uUHJvcGVydHkucmVzZXQoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgdGhlIGRhdGEgdGhhdCB0ZWxscyBob3cgdG8gZGlzcGxheSBhIGxhYmVsIG9uIHRoZSB2ZWN0b3IuIExhYmVscyBhcmUgZGlmZmVyZW50IGZvciBkaWZmZXJlbnQgdmVjdG9yIHR5cGVzLlxyXG4gICAqXHJcbiAgICogRm9yIGluc3RhbmNlLCB2ZWN0b3JzIHdpdGggdmFsdWVzIHZpc2libGUgZGlzcGxheSB0aGVpciBzeW1ib2wgKGkuZS4gYSwgYiwgYywgLi4uKSBBTkQgdGhlaXIgbWFnbml0dWRlLCB3aGlsZVxyXG4gICAqIHRoZWlyIGNvbXBvbmVudCB2ZWN0b3JzIG9ubHkgZGlzcGxheSB0aGUgeCBvciB5IGNvbXBvbmVudC4gSW4gdGhlIHNhbWUgZXhhbXBsZSwgdmVjdG9ycyBkaXNwbGF5IHRoZWlyIG1hZ25pdHVkZVxyXG4gICAqICh3aGljaCBpcyBhbHdheXMgcG9zaXRpdmUpLCB3aGlsZSBjb21wb25lbnQgdmVjdG9ycyBkaXNwbGF5IHRoZSBjb21wb25lbnQgdmVjdG9yJ3Mgc2NhbGFyIHZhbHVlLCB3aGljaCBtYXkgYmVcclxuICAgKiBuZWdhdGl2ZS5cclxuICAgKlxyXG4gICAqIEFkZGl0aW9uYWxseSwgdGhlIGxhYmVsIGRpc3BsYXlzIGRpZmZlcmVudCBjb250ZW50IGRlcGVuZGluZyBvbiB0aGUgc2NyZWVuLlxyXG4gICAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvdmVjdG9yLWFkZGl0aW9uL2lzc3Vlcy8zOS5cclxuICAgKlxyXG4gICAqIFRoZXJlIGFyZSA1IGRpZmZlcmVudCBmYWN0b3JzIGZvciBkZXRlcm1pbmluZyB3aGF0IHRoZSBsYWJlbCBkaXNwbGF5czpcclxuICAgKiAgLSBXaGV0aGVyIHRoZSB2ZWN0b3IgaGFzIGEgY29lZmZpY2llbnQgYW5kIGlmIGl0IHNob3VsZCBkaXNwbGF5IGl0XHJcbiAgICogIC0gV2hldGhlciB0aGUgdmFsdWVzIGFyZSB2aXNpYmxlIChkZXRlcm1pbmVkIGJ5IHRoZSB2YWx1ZXMgY2hlY2tib3gpXHJcbiAgICogIC0gV2hldGhlciB0aGUgbWFnbml0dWRlL2NvbXBvbmVudCBpcyBvZiBsZW5ndGggMC4gU2VlXHJcbiAgICogICAgaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vZG9jdW1lbnQvZC8xb3BuRGdxSXFJcm9vOFZLMENiT3lRNTYwOF9nMTFNU0daWG5GbEk4azVEcy9lZGl0I2Jvb2ttYXJrPWlkLmttZWFhZWczdWt4OVxyXG4gICAqICAtIFdoZXRoZXIgdGhlIHZlY3RvciBoYXMgYSBzeW1ib2wgKGUuZy4gdGhlIHZlY3RvcnMgb24gbGFiIHNjcmVlbiBkb24ndCBoYXZlIHN5bWJvbHMpXHJcbiAgICogIC0gV2hldGhlciB0aGUgdmVjdG9yIGlzIGFjdGl2ZSAoaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL3ZlY3Rvci1hZGRpdGlvbi9pc3N1ZXMvMzkjaXNzdWVjb21tZW50LTUwNjU4NjQxMSlcclxuICAgKlxyXG4gICAqIFRoZXNlIGZhY3RvcnMgcGxheSBkaWZmZXJlbnQgcm9sZXMgZm9yIGRpZmZlcmVudCB2ZWN0b3IgdHlwZXMsIG1ha2luZyBpdCBkaWZmaWN1bHQgdG8gZ2VuZXJhbGl6ZS4gVGh1cywgYW5cclxuICAgKiBhYnN0cmFjdCBtZXRob2QgaXMgdXNlZCB0byBkZXRlcm1pbmUgdGhlIGNvbnRlbnQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdmFsdWVzVmlzaWJsZSAtIHdoZXRoZXIgdGhlIHZhbHVlcyBhcmUgdmlzaWJsZSAoZGV0ZXJtaW5lZCBieSB0aGUgVmFsdWVzIGNoZWNrYm94KVxyXG4gICAqL1xyXG4gIHB1YmxpYyBhYnN0cmFjdCBnZXRMYWJlbERpc3BsYXlEYXRhKCB2YWx1ZXNWaXNpYmxlOiBib29sZWFuICk6IExhYmVsRGlzcGxheURhdGE7XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgdGhlIGNvbXBvbmVudHMgKHNjYWxhcnMpIG9mIHRoZSB2ZWN0b3IuXHJcbiAgICovXHJcbiAgcHVibGljIGdldCB2ZWN0b3JDb21wb25lbnRzKCk6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIHRoaXMudmVjdG9yQ29tcG9uZW50c1Byb3BlcnR5LnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyB0aGUgY29tcG9uZW50cyAoc2NhbGFycykgb2YgdGhlIHZlY3RvclxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXQgdmVjdG9yQ29tcG9uZW50cyggdmVjdG9yQ29tcG9uZW50czogVmVjdG9yMiApIHtcclxuICAgIHRoaXMudmVjdG9yQ29tcG9uZW50c1Byb3BlcnR5LnZhbHVlID0gdmVjdG9yQ29tcG9uZW50cztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgdGhlIG1hZ25pdHVkZSBvZiB0aGUgdmVjdG9yIChhbHdheXMgcG9zaXRpdmUpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXQgbWFnbml0dWRlKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy52ZWN0b3JDb21wb25lbnRzLm1hZ25pdHVkZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgdGhlIHggY29tcG9uZW50IChzY2FsYXIpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXQgeENvbXBvbmVudCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMudmVjdG9yQ29tcG9uZW50cy54O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyB0aGUgeCBjb21wb25lbnQgKHNjYWxhcikuXHJcbiAgICovXHJcbiAgcHVibGljIHNldCB4Q29tcG9uZW50KCB4Q29tcG9uZW50OiBudW1iZXIgKSB7XHJcbiAgICB0aGlzLnZlY3RvckNvbXBvbmVudHMgPSB0aGlzLnZlY3RvckNvbXBvbmVudHMuY29weSgpLnNldFgoIHhDb21wb25lbnQgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgdGhlIHkgY29tcG9uZW50IChzY2FsYXIpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXQgeUNvbXBvbmVudCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMudmVjdG9yQ29tcG9uZW50cy55O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyB0aGUgeSBjb21wb25lbnQgKHNjYWxhcikuXHJcbiAgICovXHJcbiAgcHVibGljIHNldCB5Q29tcG9uZW50KCB5Q29tcG9uZW50OiBudW1iZXIgKSB7XHJcbiAgICB0aGlzLnZlY3RvckNvbXBvbmVudHMgPSB0aGlzLnZlY3RvckNvbXBvbmVudHMuY29weSgpLnNldFkoIHlDb21wb25lbnQgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIElzIGVpdGhlciBvZiB0aGlzIHZlY3RvcidzIGNvbXBvbmVudHMgZWZmZWN0aXZlbHkgemVybz9cclxuICAgKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL3ZlY3Rvci1hZGRpdGlvbi9pc3N1ZXMvMjY0XHJcbiAgICovXHJcbiAgcHVibGljIGhhc1plcm9Db21wb25lbnQoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gTWF0aC5hYnMoIHRoaXMueENvbXBvbmVudCApIDwgVmVjdG9yQWRkaXRpb25Db25zdGFudHMuWkVST19USFJFU0hPTEQgfHxcclxuICAgICAgICAgICBNYXRoLmFicyggdGhpcy55Q29tcG9uZW50ICkgPCBWZWN0b3JBZGRpdGlvbkNvbnN0YW50cy5aRVJPX1RIUkVTSE9MRDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE1vdmVzIHRoZSB2ZWN0b3IgdG8gdGhlIHNwZWNpZmllZCB0YWlsIHBvc2l0aW9uLlxyXG4gICAqIFRoaXMga2VlcHMgdGhlIG1hZ25pdHVkZSBjb25zdGFudCwgYW5kIChhcyBhIHNpZGUgZWZmZWN0KSBjaGFuZ2VzIHRoZSB0aXAgcG9zaXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIG1vdmVUb1RhaWxQb3NpdGlvbiggcG9zaXRpb246IFZlY3RvcjIgKTogdm9pZCB7XHJcbiAgICB0aGlzLnRhaWxQb3NpdGlvblByb3BlcnR5LnZhbHVlID0gcG9zaXRpb247XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHRoZSB0YWlsIHBvc2l0aW9uLiBUaGlzIGtlZXBzIHRoZSB0aXAgcG9zaXRpb24gY29uc3RhbnQsIGFuZCAoYXMgYSBzaWRlIGVmZmVjdCkgY2hhbmdlcyBtYWduaXR1ZGUuXHJcbiAgICovXHJcbiAgcHVibGljIHNldFRhaWxYWSggeDogbnVtYmVyLCB5OiBudW1iZXIgKTogdm9pZCB7XHJcblxyXG4gICAgLy8gS2VlcCBhIHJlZmVyZW5jZSB0byB0aGUgb3JpZ2luYWwgdGlwXHJcbiAgICBjb25zdCB0aXAgPSB0aGlzLnRpcDtcclxuXHJcbiAgICB0aGlzLm1vdmVUb1RhaWxQb3NpdGlvbiggbmV3IFZlY3RvcjIoIHgsIHkgKSApO1xyXG5cclxuICAgIC8vIFNldCB0aGUgdGlwIGJhY2tcclxuICAgIHRoaXMudGlwID0gdGlwO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyB0aGUgdGFpbCBwb3NpdGlvbi4gVGhpcyBrZWVwcyB0aGUgdGlwIHBvc2l0aW9uIGNvbnN0YW50LCBhbmQgKGFzIGEgc2lkZSBlZmZlY3QpIGNoYW5nZXMgbWFnbml0dWRlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXQgdGFpbCggdGFpbDogVmVjdG9yMiApIHtcclxuICAgIHRoaXMuc2V0VGFpbFhZKCB0YWlsLngsIHRhaWwueSApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0cyB0aGUgdGFpbCBwb3NpdGlvbi5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0IHRhaWwoKTogVmVjdG9yMiB7XHJcbiAgICByZXR1cm4gdGhpcy50YWlsUG9zaXRpb25Qcm9wZXJ0eS52YWx1ZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHMgdGhlIHRhaWwncyB4IGNvb3JkaW5hdGUuIFRoaXMga2VlcHMgdGhlIHRpcCBwb3NpdGlvbiBjb25zdGFudCwgYW5kIChhcyBhIHNpZGUgZWZmZWN0KSBjaGFuZ2VzIG1hZ25pdHVkZS5cclxuICAgKi9cclxuICBwdWJsaWMgc2V0IHRhaWxYKCB0YWlsWDogbnVtYmVyICkge1xyXG4gICAgdGhpcy5zZXRUYWlsWFkoIHRhaWxYLCB0aGlzLnRhaWxZICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXRzIHRoZSB0YWlsJ3MgeCBjb29yZGluYXRlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXQgdGFpbFgoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnRhaWxQb3NpdGlvblByb3BlcnR5LnZhbHVlLng7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHRoZSB0YWlsJ3MgeSBjb29yZGluYXRlLiBUaGlzIGtlZXBzIHRoZSB0aXAgcG9zaXRpb24gY29uc3RhbnQsIGFuZCAoYXMgYSBzaWRlIGVmZmVjdCkgY2hhbmdlcyBtYWduaXR1ZGUuXHJcbiAgICovXHJcbiAgcHVibGljIHNldCB0YWlsWSggdGFpbFk6IG51bWJlciApIHtcclxuICAgIHRoaXMuc2V0VGFpbFhZKCB0aGlzLnRhaWxYLCB0YWlsWSApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0cyB0aGUgdGFpbCdzIHkgY29vcmRpbmF0ZS5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0IHRhaWxZKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy50YWlsUG9zaXRpb25Qcm9wZXJ0eS52YWx1ZS55O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyB0aGUgdGlwIHBvc2l0aW9uLiBUaGlzIGtlZXBzIHRoZSB0YWlsIHBvc2l0aW9uIGNvbnN0YW50LCBhbmQgKGFzIGEgc2lkZSBlZmZlY3QpIGNoYW5nZXMgbWFnbml0dWRlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXRUaXBYWSggeDogbnVtYmVyLCB5OiBudW1iZXIgKTogdm9pZCB7XHJcblxyXG4gICAgLy8gU2luY2UgdGlwUG9zaXRpb25Qcm9wZXJ0eSBpcyBhIERlcml2ZWRQcm9wZXJ0eSwgd2UgY2Fubm90IGRpcmVjdGx5IHNldCBpdC5cclxuICAgIC8vIEluc3RlYWQsIHdlIHdpbGwgdXBkYXRlIHRoZSB2ZWN0b3IgY29tcG9uZW50cywga2VlcGluZyB0aGUgdGFpbCBjb25zdGFudC5cclxuICAgIGNvbnN0IHRpcCA9IG5ldyBWZWN0b3IyKCB4LCB5ICk7XHJcbiAgICB0aGlzLnZlY3RvckNvbXBvbmVudHMgPSB0aGlzLnZlY3RvckNvbXBvbmVudHMucGx1cyggdGlwLm1pbnVzKCB0aGlzLnRpcCApICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHRoZSB0aXAgcG9zaXRpb24uIFRoaXMga2VlcHMgdGhlIHRhaWwgcG9zaXRpb24gY29uc3RhbnQsIGFuZCAoYXMgYSBzaWRlIGVmZmVjdCkgY2hhbmdlcyBtYWduaXR1ZGUuXHJcbiAgICovXHJcbiAgcHVibGljIHNldCB0aXAoIHRpcDogVmVjdG9yMiApIHtcclxuICAgIHRoaXMuc2V0VGlwWFkoIHRpcC54LCB0aXAueSApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0cyB0aGUgdGlwIHBvc2l0aW9uLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXQgdGlwKCk6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIHRoaXMudGlwUG9zaXRpb25Qcm9wZXJ0eS52YWx1ZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgdGhlIHRpcCdzIHggY29vcmRpbmF0ZS5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0IHRpcFgoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnRpcFBvc2l0aW9uUHJvcGVydHkudmFsdWUueDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgdGhlIHRpcCdzIHkgY29vcmRpbmF0ZS5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0IHRpcFkoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnRpcFBvc2l0aW9uUHJvcGVydHkudmFsdWUueTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgdGhlIGFuZ2xlIG9mIHRoZSB2ZWN0b3IgaW4gcmFkaWFucywgbWVhc3VyZWQgY2xvY2t3aXNlIGZyb20gdGhlIGhvcml6b250YWwuXHJcbiAgICogbnVsbCB3aGVuIHRoZSB2ZWN0b3IgaGFzIDAgbWFnbml0dWRlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXQgYW5nbGUoKTogbnVtYmVyIHwgbnVsbCB7XHJcbiAgICByZXR1cm4gdGhpcy52ZWN0b3JDb21wb25lbnRzLmVxdWFsc0Vwc2lsb24oIFZlY3RvcjIuWkVSTywgMWUtNyApID8gbnVsbCA6IHRoaXMudmVjdG9yQ29tcG9uZW50cy5hbmdsZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgdGhlIGFuZ2xlIG9mIHRoZSB2ZWN0b3IgaW4gZGVncmVlcywgbWVhc3VyZWQgY2xvY2t3aXNlIGZyb20gdGhlIGhvcml6b250YWwuXHJcbiAgICogbnVsbCB3aGVuIHRoZSB2ZWN0b3IgaGFzIDAgbWFnbml0dWRlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXQgYW5nbGVEZWdyZWVzKCk6IG51bWJlciB8IG51bGwge1xyXG4gICAgY29uc3QgYW5nbGVSYWRpYW5zID0gdGhpcy5hbmdsZTtcclxuICAgIHJldHVybiAoIGFuZ2xlUmFkaWFucyA9PT0gbnVsbCApID8gbnVsbCA6IFV0aWxzLnRvRGVncmVlcyggYW5nbGVSYWRpYW5zICk7XHJcbiAgfVxyXG59XHJcblxyXG52ZWN0b3JBZGRpdGlvbi5yZWdpc3RlciggJ1Jvb3RWZWN0b3InLCBSb290VmVjdG9yICk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBT0EsZUFBZSxNQUFNLHdDQUF3QztBQUNwRSxPQUFPQyxLQUFLLE1BQU0sNkJBQTZCO0FBQy9DLE9BQU9DLE9BQU8sTUFBTSwrQkFBK0I7QUFDbkQsT0FBT0Ms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