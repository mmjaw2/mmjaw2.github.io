// Copyright 2019-2023, University of Colorado Boulder

/**
 * EquationsSceneNode is a SceneNode that is specific to the 'Equations' screen.
 *
 * 'Is A' relationship with SceneNode but adds:
 *  - a RectangularRadioButtonGroup for EquationTypes
 *  - a Coefficient Selector Panel for each member of EquationTypes
 *  - a BaseVectorAccordionBox
 *  - 'register' Vectors and add their BaseVectors and components
 *  - Disables the Eraser button
 *
 * @author Brandon Li
 * @author Chris Malley (PixelZoom, Inc.)
 */

import VectorAdditionConstants from '../../common/VectorAdditionConstants.js';
import SceneNode from '../../common/view/SceneNode.js';
import vectorAddition from '../../vectorAddition.js';
import BaseVectorsAccordionBox from './BaseVectorsAccordionBox.js';
import EquationToggleBox from './EquationToggleBox.js';
import optionize from '../../../../phet-core/js/optionize.js';
export default class EquationsSceneNode extends SceneNode {
  constructor(graph, viewProperties, componentStyleProperty, graphControlPanelBottom, equationButtonsAlignGroup,
  // used to make all equation radio buttons the same size
  equationsAlignGroup,
  // used to make all interactive equations the same size
  providedOptions) {
    const options = optionize()({
      // SceneNodeOptions
      includeEraser: false
    }, providedOptions);
    super(graph, viewProperties, componentStyleProperty, options);

    // Relocate the 'Vector Values' toggle box so that we have room for the 'Equation' toggle box
    this.vectorValuesToggleBox.top = VectorAdditionConstants.SCREEN_VIEW_BOUNDS.minY + VectorAdditionConstants.SCREEN_VIEW_Y_MARGIN;

    // Add the 'Equation' toggle box
    const equationToggleBox = new EquationToggleBox(graph.vectorSet, graph.equationTypeProperty, equationButtonsAlignGroup, equationsAlignGroup, {
      expandedProperty: viewProperties.equationExpandedProperty,
      centerX: graph.graphViewBounds.centerX,
      top: this.vectorValuesToggleBox.bottom + 10
    });
    this.addChild(equationToggleBox);
    equationToggleBox.moveToBack(); // move to back to ensure that this.vectorContainer remains in front

    // Add the 'Base Vector' accordion box
    const baseVectorsAccordionBox = new BaseVectorsAccordionBox(viewProperties.baseVectorsVisibleProperty, graph.coordinateSnapMode, graph.vectorSet, {
      expandedProperty: viewProperties.baseVectorsExpandedProperty,
      right: VectorAdditionConstants.SCREEN_VIEW_BOUNDS.maxX - VectorAdditionConstants.SCREEN_VIEW_X_MARGIN,
      top: graphControlPanelBottom + 8
    });
    this.addChild(baseVectorsAccordionBox);
    baseVectorsAccordionBox.moveToBack(); // move to back to ensure that this.vectorContainer remains in front

    // Add vectors and their base vectors.
    graph.vectorSet.equationsVectors.forEach(vector => {
      this.registerVector(vector, graph.vectorSet);
      this.addBaseVector(graph.vectorSet, vector.baseVector, viewProperties.baseVectorsVisibleProperty);
    });
  }
}
vectorAddition.register('EquationsSceneNode', EquationsSceneNode);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWZWN0b3JBZGRpdGlvbkNvbnN0YW50cyIsIlNjZW5lTm9kZSIsInZlY3RvckFkZGl0aW9uIiwiQmFzZVZlY3RvcnNBY2NvcmRpb25Cb3giLCJFcXVhdGlvblRvZ2dsZUJveCIsIm9wdGlvbml6ZSIsIkVxdWF0aW9uc1NjZW5lTm9kZSIsImNvbnN0cnVjdG9yIiwiZ3JhcGgiLCJ2aWV3UHJvcGVydGllcyIsImNvbXBvbmVudFN0eWxlUHJvcGVydHkiLCJncmFwaENvbnRyb2xQYW5lbEJvdHRvbSIsImVxdWF0aW9uQnV0dG9uc0FsaWduR3JvdXAiLCJlcXVhdGlvbnNBbGlnbkdyb3VwIiwicHJvdmlkZWRPcHRpb25zIiwib3B0aW9ucyIsImluY2x1ZGVFcmFzZXIiLCJ2ZWN0b3JWYWx1ZXNUb2dnbGVCb3giLCJ0b3AiLCJTQ1JFRU5fVklFV19CT1VORFMiLCJtaW5ZIiwiU0NSRUVOX1ZJRVdfWV9NQVJHSU4iLCJlcXVhdGlvblRvZ2dsZUJveCIsInZlY3RvclNldCIsImVxdWF0aW9uVHlwZVByb3BlcnR5IiwiZXhwYW5kZWRQcm9wZXJ0eSIsImVxdWF0aW9uRXhwYW5kZWRQcm9wZXJ0eSIsImNlbnRlclgiLCJncmFwaFZpZXdCb3VuZHMiLCJib3R0b20iLCJhZGRDaGlsZCIsIm1vdmVUb0JhY2siLCJiYXNlVmVjdG9yc0FjY29yZGlvbkJveCIsImJhc2VWZWN0b3JzVmlzaWJsZVByb3BlcnR5IiwiY29vcmRpbmF0ZVNuYXBNb2RlIiwiYmFzZVZlY3RvcnNFeHBhbmRlZFByb3BlcnR5IiwicmlnaHQiLCJtYXhYIiwiU0NSRUVOX1ZJRVdfWF9NQVJHSU4iLCJlcXVhdGlvbnNWZWN0b3JzIiwiZm9yRWFjaCIsInZlY3RvciIsInJlZ2lzdGVyVmVjdG9yIiwiYWRkQmFzZVZlY3RvciIsImJhc2VWZWN0b3IiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIkVxdWF0aW9uc1NjZW5lTm9kZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOS0yMDIzLCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBFcXVhdGlvbnNTY2VuZU5vZGUgaXMgYSBTY2VuZU5vZGUgdGhhdCBpcyBzcGVjaWZpYyB0byB0aGUgJ0VxdWF0aW9ucycgc2NyZWVuLlxyXG4gKlxyXG4gKiAnSXMgQScgcmVsYXRpb25zaGlwIHdpdGggU2NlbmVOb2RlIGJ1dCBhZGRzOlxyXG4gKiAgLSBhIFJlY3Rhbmd1bGFyUmFkaW9CdXR0b25Hcm91cCBmb3IgRXF1YXRpb25UeXBlc1xyXG4gKiAgLSBhIENvZWZmaWNpZW50IFNlbGVjdG9yIFBhbmVsIGZvciBlYWNoIG1lbWJlciBvZiBFcXVhdGlvblR5cGVzXHJcbiAqICAtIGEgQmFzZVZlY3RvckFjY29yZGlvbkJveFxyXG4gKiAgLSAncmVnaXN0ZXInIFZlY3RvcnMgYW5kIGFkZCB0aGVpciBCYXNlVmVjdG9ycyBhbmQgY29tcG9uZW50c1xyXG4gKiAgLSBEaXNhYmxlcyB0aGUgRXJhc2VyIGJ1dHRvblxyXG4gKlxyXG4gKiBAYXV0aG9yIEJyYW5kb24gTGlcclxuICogQGF1dGhvciBDaHJpcyBNYWxsZXkgKFBpeGVsWm9vbSwgSW5jLilcclxuICovXHJcblxyXG5pbXBvcnQgeyBBbGlnbkdyb3VwIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IFZlY3RvckFkZGl0aW9uQ29uc3RhbnRzIGZyb20gJy4uLy4uL2NvbW1vbi9WZWN0b3JBZGRpdGlvbkNvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBTY2VuZU5vZGUsIHsgU2NlbmVOb2RlT3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbi92aWV3L1NjZW5lTm9kZS5qcyc7XHJcbmltcG9ydCB2ZWN0b3JBZGRpdGlvbiBmcm9tICcuLi8uLi92ZWN0b3JBZGRpdGlvbi5qcyc7XHJcbmltcG9ydCBFcXVhdGlvbnNHcmFwaCBmcm9tICcuLi9tb2RlbC9FcXVhdGlvbnNHcmFwaC5qcyc7XHJcbmltcG9ydCBCYXNlVmVjdG9yc0FjY29yZGlvbkJveCBmcm9tICcuL0Jhc2VWZWN0b3JzQWNjb3JkaW9uQm94LmpzJztcclxuaW1wb3J0IEVxdWF0aW9uc1ZpZXdQcm9wZXJ0aWVzIGZyb20gJy4vRXF1YXRpb25zVmlld1Byb3BlcnRpZXMuanMnO1xyXG5pbXBvcnQgRXF1YXRpb25Ub2dnbGVCb3ggZnJvbSAnLi9FcXVhdGlvblRvZ2dsZUJveC5qcyc7XHJcbmltcG9ydCBDb21wb25lbnRWZWN0b3JTdHlsZXMgZnJvbSAnLi4vLi4vY29tbW9uL21vZGVsL0NvbXBvbmVudFZlY3RvclN0eWxlcy5qcyc7XHJcbmltcG9ydCBFbnVtZXJhdGlvblByb3BlcnR5IGZyb20gJy4uLy4uLy4uLy4uL2F4b24vanMvRW51bWVyYXRpb25Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBvcHRpb25pemUsIHsgRW1wdHlTZWxmT3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xyXG5cclxudHlwZSBTZWxmT3B0aW9ucyA9IEVtcHR5U2VsZk9wdGlvbnM7XHJcbnR5cGUgRXF1YXRpb25zU2NlbmVOb2RlT3B0aW9ucyA9IFNlbGZPcHRpb25zICYgU2NlbmVOb2RlT3B0aW9ucztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVxdWF0aW9uc1NjZW5lTm9kZSBleHRlbmRzIFNjZW5lTm9kZSB7XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvciggZ3JhcGg6IEVxdWF0aW9uc0dyYXBoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgdmlld1Byb3BlcnRpZXM6IEVxdWF0aW9uc1ZpZXdQcm9wZXJ0aWVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50U3R5bGVQcm9wZXJ0eTogRW51bWVyYXRpb25Qcm9wZXJ0eTxDb21wb25lbnRWZWN0b3JTdHlsZXM+LFxyXG4gICAgICAgICAgICAgICAgICAgICAgZ3JhcGhDb250cm9sUGFuZWxCb3R0b206IG51bWJlcixcclxuICAgICAgICAgICAgICAgICAgICAgIGVxdWF0aW9uQnV0dG9uc0FsaWduR3JvdXA6IEFsaWduR3JvdXAsIC8vIHVzZWQgdG8gbWFrZSBhbGwgZXF1YXRpb24gcmFkaW8gYnV0dG9ucyB0aGUgc2FtZSBzaXplXHJcbiAgICAgICAgICAgICAgICAgICAgICBlcXVhdGlvbnNBbGlnbkdyb3VwOiBBbGlnbkdyb3VwLCAvLyB1c2VkIHRvIG1ha2UgYWxsIGludGVyYWN0aXZlIGVxdWF0aW9ucyB0aGUgc2FtZSBzaXplXHJcbiAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlZE9wdGlvbnM/OiBFcXVhdGlvbnNTY2VuZU5vZGVPcHRpb25zICkge1xyXG5cclxuICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25pemU8RXF1YXRpb25zU2NlbmVOb2RlT3B0aW9ucywgU2VsZk9wdGlvbnMsIFNjZW5lTm9kZU9wdGlvbnM+KCkoIHtcclxuXHJcbiAgICAgIC8vIFNjZW5lTm9kZU9wdGlvbnNcclxuICAgICAgaW5jbHVkZUVyYXNlcjogZmFsc2VcclxuICAgIH0sIHByb3ZpZGVkT3B0aW9ucyApO1xyXG5cclxuICAgIHN1cGVyKCBncmFwaCwgdmlld1Byb3BlcnRpZXMsIGNvbXBvbmVudFN0eWxlUHJvcGVydHksIG9wdGlvbnMgKTtcclxuXHJcbiAgICAvLyBSZWxvY2F0ZSB0aGUgJ1ZlY3RvciBWYWx1ZXMnIHRvZ2dsZSBib3ggc28gdGhhdCB3ZSBoYXZlIHJvb20gZm9yIHRoZSAnRXF1YXRpb24nIHRvZ2dsZSBib3hcclxuICAgIHRoaXMudmVjdG9yVmFsdWVzVG9nZ2xlQm94LnRvcCA9IFZlY3RvckFkZGl0aW9uQ29uc3RhbnRzLlNDUkVFTl9WSUVXX0JPVU5EUy5taW5ZICsgVmVjdG9yQWRkaXRpb25Db25zdGFudHMuU0NSRUVOX1ZJRVdfWV9NQVJHSU47XHJcblxyXG4gICAgLy8gQWRkIHRoZSAnRXF1YXRpb24nIHRvZ2dsZSBib3hcclxuICAgIGNvbnN0IGVxdWF0aW9uVG9nZ2xlQm94ID0gbmV3IEVxdWF0aW9uVG9nZ2xlQm94KCBncmFwaC52ZWN0b3JTZXQsIGdyYXBoLmVxdWF0aW9uVHlwZVByb3BlcnR5LFxyXG4gICAgICBlcXVhdGlvbkJ1dHRvbnNBbGlnbkdyb3VwLCBlcXVhdGlvbnNBbGlnbkdyb3VwLCB7XHJcbiAgICAgICAgZXhwYW5kZWRQcm9wZXJ0eTogdmlld1Byb3BlcnRpZXMuZXF1YXRpb25FeHBhbmRlZFByb3BlcnR5LFxyXG4gICAgICAgIGNlbnRlclg6IGdyYXBoLmdyYXBoVmlld0JvdW5kcy5jZW50ZXJYLFxyXG4gICAgICAgIHRvcDogdGhpcy52ZWN0b3JWYWx1ZXNUb2dnbGVCb3guYm90dG9tICsgMTBcclxuICAgICAgfSApO1xyXG4gICAgdGhpcy5hZGRDaGlsZCggZXF1YXRpb25Ub2dnbGVCb3ggKTtcclxuICAgIGVxdWF0aW9uVG9nZ2xlQm94Lm1vdmVUb0JhY2soKTsgLy8gbW92ZSB0byBiYWNrIHRvIGVuc3VyZSB0aGF0IHRoaXMudmVjdG9yQ29udGFpbmVyIHJlbWFpbnMgaW4gZnJvbnRcclxuXHJcbiAgICAvLyBBZGQgdGhlICdCYXNlIFZlY3RvcicgYWNjb3JkaW9uIGJveFxyXG4gICAgY29uc3QgYmFzZVZlY3RvcnNBY2NvcmRpb25Cb3ggPSBuZXcgQmFzZVZlY3RvcnNBY2NvcmRpb25Cb3goIHZpZXdQcm9wZXJ0aWVzLmJhc2VWZWN0b3JzVmlzaWJsZVByb3BlcnR5LFxyXG4gICAgICBncmFwaC5jb29yZGluYXRlU25hcE1vZGUsXHJcbiAgICAgIGdyYXBoLnZlY3RvclNldCwge1xyXG4gICAgICAgIGV4cGFuZGVkUHJvcGVydHk6IHZpZXdQcm9wZXJ0aWVzLmJhc2VWZWN0b3JzRXhwYW5kZWRQcm9wZXJ0eSxcclxuICAgICAgICByaWdodDogVmVjdG9yQWRkaXRpb25Db25zdGFudHMuU0NSRUVOX1ZJRVdfQk9VTkRTLm1heFggLSBWZWN0b3JBZGRpdGlvbkNvbnN0YW50cy5TQ1JFRU5fVklFV19YX01BUkdJTixcclxuICAgICAgICB0b3A6IGdyYXBoQ29udHJvbFBhbmVsQm90dG9tICsgOFxyXG4gICAgICB9ICk7XHJcbiAgICB0aGlzLmFkZENoaWxkKCBiYXNlVmVjdG9yc0FjY29yZGlvbkJveCApO1xyXG4gICAgYmFzZVZlY3RvcnNBY2NvcmRpb25Cb3gubW92ZVRvQmFjaygpOyAvLyBtb3ZlIHRvIGJhY2sgdG8gZW5zdXJlIHRoYXQgdGhpcy52ZWN0b3JDb250YWluZXIgcmVtYWlucyBpbiBmcm9udFxyXG5cclxuICAgIC8vIEFkZCB2ZWN0b3JzIGFuZCB0aGVpciBiYXNlIHZlY3RvcnMuXHJcbiAgICBncmFwaC52ZWN0b3JTZXQuZXF1YXRpb25zVmVjdG9ycy5mb3JFYWNoKCB2ZWN0b3IgPT4ge1xyXG4gICAgICB0aGlzLnJlZ2lzdGVyVmVjdG9yKCB2ZWN0b3IsIGdyYXBoLnZlY3RvclNldCApO1xyXG4gICAgICB0aGlzLmFkZEJhc2VWZWN0b3IoIGdyYXBoLnZlY3RvclNldCwgdmVjdG9yLmJhc2VWZWN0b3IsIHZpZXdQcm9wZXJ0aWVzLmJhc2VWZWN0b3JzVmlzaWJsZVByb3BlcnR5ICk7XHJcbiAgICB9ICk7XHJcbiAgfVxyXG59XHJcblxyXG52ZWN0b3JBZGRpdGlvbi5yZWdpc3RlciggJ0VxdWF0aW9uc1NjZW5lTm9kZScsIEVxdWF0aW9uc1NjZW5lTm9kZSApOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0EsT0FBT0EsdUJBQXVCLE1BQU0seUNBQXlDO0FBQzdFLE9BQU9DLFNBQVMsTUFBNEIsZ0NBQWdDO0FBQzVFLE9BQU9DLGNBQWMsTUFBTSx5QkFBeUI7QUFFcEQsT0FBT0MsdUJBQXVCLE1BQU0sOEJBQThCO0FBRWxFLE9BQU9DLGlCQUFpQixNQUFNLHdCQUF3QjtBQUd0RCxPQUFPQyxTQUFTLE1BQTRCLHVDQUF1QztBQUtuRixlQUFlLE1BQU1DLGtCQUFrQixTQUFTTCxTQUFTLENBQUM7RUFFakRNLFdBQVdBLENBQUVDLEtBQXFCLEVBQ3JCQyxjQUF1QyxFQUN2Q0Msc0JBQWtFLEVBQ2xFQyx1QkFBK0IsRUFDL0JDLHlCQUFxQztFQUFFO0VBQ3ZDQyxtQkFBK0I7RUFBRTtFQUNqQ0MsZUFBMkMsRUFBRztJQUVoRSxNQUFNQyxPQUFPLEdBQUdWLFNBQVMsQ0FBMkQsQ0FBQyxDQUFFO01BRXJGO01BQ0FXLGFBQWEsRUFBRTtJQUNqQixDQUFDLEVBQUVGLGVBQWdCLENBQUM7SUFFcEIsS0FBSyxDQUFFTixLQUFLLEVBQUVDLGNBQWMsRUFBRUMsc0JBQXNCLEVBQUVLLE9BQVEsQ0FBQzs7SUFFL0Q7SUFDQSxJQUFJLENBQUNFLHFCQUFxQixDQUFDQyxHQUFHLEdBQUdsQix1QkFBdUIsQ0FBQ21CLGtCQUFrQixDQUFDQyxJQUFJLEdBQUdwQix1QkFBdUIsQ0FBQ3FCLG9CQUFvQjs7SUFFL0g7SUFDQSxNQUFNQyxpQkFBaUIsR0FBRyxJQUFJbEIsaUJBQWlCLENBQUVJLEtBQUssQ0FBQ2UsU0FBUyxFQUFFZixLQUFLLENBQUNnQixvQkFBb0IsRUFDMUZaLHlCQUF5QixFQUFFQyxtQkFBbUIsRUFBRTtNQUM5Q1ksZ0JBQWdCLEVBQUVoQixjQUFjLENBQUNpQix3QkFBd0I7TUFDekRDLE9BQU8sRUFBRW5CLEtBQUssQ0FBQ29CLGVBQWUsQ0FBQ0QsT0FBTztNQUN0Q1QsR0FBRyxFQUFFLElBQUksQ0FBQ0QscUJBQXFCLENBQUNZLE1BQU0sR0FBRztJQUMzQyxDQUFFLENBQUM7SUFDTCxJQUFJLENBQUNDLFFBQVEsQ0FBRVIsaUJBQWtCLENBQUM7SUFDbENBLGlCQUFpQixDQUFDUyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7O0lBRWhDO0lBQ0EsTUFBTUMsdUJBQXVCLEdBQUcsSUFBSTdCLHVCQUF1QixDQUFFTSxjQUFjLENBQUN3QiwwQkFBMEIsRUFDcEd6QixLQUFLLENBQUMwQixrQkFBa0IsRUFDeEIxQixLQUFLLENBQUNlLFNBQVMsRUFBRTtNQUNmRSxnQkFBZ0IsRUFBRWhCLGNBQWMsQ0FBQzBCLDJCQUEyQjtNQUM1REMsS0FBSyxFQUFFcEMsdUJBQXVCLENBQUNtQixrQkFBa0IsQ0FBQ2tCLElBQUksR0FBR3JDLHVCQUF1QixDQUFDc0Msb0JBQW9CO01BQ3JHcEIsR0FBRyxFQUFFUCx1QkFBdUIsR0FBRztJQUNqQyxDQUFFLENBQUM7SUFDTCxJQUFJLENBQUNtQixRQUFRLENBQUVFLHVCQUF3QixDQUFDO0lBQ3hDQSx1QkFBdUIsQ0FBQ0QsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDOztJQUV0QztJQUNBdkIsS0FBSyxDQUFDZSxTQUFTLENBQUNnQixnQkFBZ0IsQ0FBQ0MsT0FBTyxDQUFFQyxNQUFNLElBQUk7TUFDbEQsSUFBSSxDQUFDQyxjQUFjLENBQUVELE1BQU0sRUFBRWpDLEtBQUssQ0FBQ2UsU0FBVSxDQUFDO01BQzlDLElBQUksQ0FBQ29CLGFBQWEsQ0FBRW5DLEtBQUssQ0FBQ2UsU0FBUyxFQUFFa0IsTUFBTSxDQUFDRyxVQUFVLEVBQUVuQyxjQUFjLENBQUN3QiwwQkFBMkIsQ0FBQztJQUNyRyxDQUFFLENBQUM7RUFDTDtBQUNGO0FBRUEvQixjQUFjLENBQUMyQyxRQUFRLENBQUUsb0JBQW9CLEVBQUV2QyxrQkFBbUIsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==