// Copyright 2015-2024, University of Colorado Boulder

/**
 * Light rays that indicate brightness of a light source such as a bulb.
 *
 * @author Chris Malley (PixelZoom, Inc.)
 */

import Utils from '../../dot/js/Utils.js';
import { Shape } from '../../kite/js/imports.js';
import optionize from '../../phet-core/js/optionize.js';
import { Path } from '../../scenery/js/imports.js';
import sceneryPhet from './sceneryPhet.js';

// constants, these are specific to bulb images
const RAYS_START_ANGLE = 3 * Math.PI / 4;
const RAYS_ARC_ANGLE = 3 * Math.PI / 2;
export default class LightRaysNode extends Path {
  constructor(bulbRadius, provideOptions) {
    assert && assert(bulbRadius > 0);
    const options = optionize()({
      // LightRaysNodeOptions
      minRays: 8,
      maxRays: 60,
      minRayLength: 0,
      maxRayLength: 200,
      longRayLineWidth: 1.5,
      // for long rays
      mediumRayLineWidth: 1,
      // for medium-length rays
      shortRayLineWidth: 0.5,
      // for short rays

      // PathOptions
      stroke: 'yellow'
    }, provideOptions);
    super(null);
    this.bulbRadius = bulbRadius;
    this.minRays = options.minRays;
    this.maxRays = options.maxRays;
    this.minRayLength = options.minRayLength;
    this.maxRayLength = options.maxRayLength;
    this.mediumRayLineWidth = options.mediumRayLineWidth;
    this.longRayLineWidth = options.longRayLineWidth;
    this.shortRayLineWidth = options.shortRayLineWidth;

    // Ensures there are well-defined bounds at initialization
    this.setBrightness(0);
    this.mutate(options);
  }

  /**
   * Sets the brightness, which updates the number and length of light rays.
   * @param brightness -a value in the range [0,1]
   */
  setBrightness(brightness) {
    assert && assert(brightness >= 0 && brightness <= 1);

    // number of rays is a function of brightness
    const numberOfRays = brightness === 0 ? 0 : this.minRays + Utils.roundSymmetric(brightness * (this.maxRays - this.minRays));

    // ray length is a function of brightness
    const rayLength = this.minRayLength + brightness * (this.maxRayLength - this.minRayLength);
    let angle = RAYS_START_ANGLE;
    const deltaAngle = RAYS_ARC_ANGLE / (numberOfRays - 1);

    // The ray line width is a linear function within the allowed range
    const lineWidth = Utils.linear(0.3 * this.maxRayLength, 0.6 * this.maxRayLength, this.shortRayLineWidth, this.longRayLineWidth, rayLength);
    this.lineWidth = Utils.clamp(lineWidth, this.shortRayLineWidth, this.longRayLineWidth);
    const shape = new Shape();

    // rays fill part of a circle, incrementing clockwise
    for (let i = 0, x1, x2, y1, y2, cosAngle, sinAngle; i < this.maxRays; i++) {
      if (i < numberOfRays) {
        cosAngle = Math.cos(angle);
        sinAngle = Math.sin(angle);

        // determine the end points of the ray
        x1 = cosAngle * this.bulbRadius;
        y1 = sinAngle * this.bulbRadius;
        x2 = cosAngle * (this.bulbRadius + rayLength);
        y2 = sinAngle * (this.bulbRadius + rayLength);
        shape.moveTo(x1, y1).lineTo(x2, y2);

        // increment the angle
        angle += deltaAngle;
      }
    }

    // Set shape to an invisible circle to maintain local bounds if there aren't any rays.
    this.setVisible(numberOfRays > 0);
    if (numberOfRays === 0) {
      shape.circle(0, 0, this.bulbRadius);
    }

    // Set the shape of the path to the shape created above
    this.setShape(shape);
  }
}
sceneryPhet.register('LightRaysNode', LightRaysNode);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVdGlscyIsIlNoYXBlIiwib3B0aW9uaXplIiwiUGF0aCIsInNjZW5lcnlQaGV0IiwiUkFZU19TVEFSVF9BTkdMRSIsIk1hdGgiLCJQSSIsIlJBWVNfQVJDX0FOR0xFIiwiTGlnaHRSYXlzTm9kZSIsImNvbnN0cnVjdG9yIiwiYnVsYlJhZGl1cyIsInByb3ZpZGVPcHRpb25zIiwiYXNzZXJ0Iiwib3B0aW9ucyIsIm1pblJheXMiLCJtYXhSYXlzIiwibWluUmF5TGVuZ3RoIiwibWF4UmF5TGVuZ3RoIiwibG9uZ1JheUxpbmVXaWR0aCIsIm1lZGl1bVJheUxpbmVXaWR0aCIsInNob3J0UmF5TGluZVdpZHRoIiwic3Ryb2tlIiwic2V0QnJpZ2h0bmVzcyIsIm11dGF0ZSIsImJyaWdodG5lc3MiLCJudW1iZXJPZlJheXMiLCJyb3VuZFN5bW1ldHJpYyIsInJheUxlbmd0aCIsImFuZ2xlIiwiZGVsdGFBbmdsZSIsImxpbmVXaWR0aCIsImxpbmVhciIsImNsYW1wIiwic2hhcGUiLCJpIiwieDEiLCJ4MiIsInkxIiwieTIiLCJjb3NBbmdsZSIsInNpbkFuZ2xlIiwiY29zIiwic2luIiwibW92ZVRvIiwibGluZVRvIiwic2V0VmlzaWJsZSIsImNpcmNsZSIsInNldFNoYXBlIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJMaWdodFJheXNOb2RlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE1LTIwMjQsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIExpZ2h0IHJheXMgdGhhdCBpbmRpY2F0ZSBicmlnaHRuZXNzIG9mIGEgbGlnaHQgc291cmNlIHN1Y2ggYXMgYSBidWxiLlxyXG4gKlxyXG4gKiBAYXV0aG9yIENocmlzIE1hbGxleSAoUGl4ZWxab29tLCBJbmMuKVxyXG4gKi9cclxuXHJcbmltcG9ydCBVdGlscyBmcm9tICcuLi8uLi9kb3QvanMvVXRpbHMuanMnO1xyXG5pbXBvcnQgeyBTaGFwZSB9IGZyb20gJy4uLy4uL2tpdGUvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBvcHRpb25pemUgZnJvbSAnLi4vLi4vcGhldC1jb3JlL2pzL29wdGlvbml6ZS5qcyc7XHJcbmltcG9ydCB7IFBhdGgsIFBhdGhPcHRpb25zIH0gZnJvbSAnLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IHNjZW5lcnlQaGV0IGZyb20gJy4vc2NlbmVyeVBoZXQuanMnO1xyXG5cclxuLy8gY29uc3RhbnRzLCB0aGVzZSBhcmUgc3BlY2lmaWMgdG8gYnVsYiBpbWFnZXNcclxuY29uc3QgUkFZU19TVEFSVF9BTkdMRSA9IDMgKiBNYXRoLlBJIC8gNDtcclxuY29uc3QgUkFZU19BUkNfQU5HTEUgPSAzICogTWF0aC5QSSAvIDI7XHJcblxyXG50eXBlIFNlbGZPcHRpb25zID0ge1xyXG4gIG1pblJheXM/OiBudW1iZXI7XHJcbiAgbWF4UmF5cz86IG51bWJlcjtcclxuICBtaW5SYXlMZW5ndGg/OiBudW1iZXI7XHJcbiAgbWF4UmF5TGVuZ3RoPzogbnVtYmVyO1xyXG4gIGxvbmdSYXlMaW5lV2lkdGg/OiBudW1iZXI7IC8vIGZvciBsb25nIHJheXNcclxuICBtZWRpdW1SYXlMaW5lV2lkdGg/OiBudW1iZXI7IC8vIGZvciBtZWRpdW0tbGVuZ3RoIHJheXNcclxuICBzaG9ydFJheUxpbmVXaWR0aD86IG51bWJlcjsgLy8gZm9yIHNob3J0IHJheXNcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIExpZ2h0UmF5c05vZGVPcHRpb25zID0gU2VsZk9wdGlvbnMgJiBQYXRoT3B0aW9ucztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpZ2h0UmF5c05vZGUgZXh0ZW5kcyBQYXRoIHtcclxuXHJcbiAgcHJpdmF0ZSByZWFkb25seSBidWxiUmFkaXVzOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBtaW5SYXlzOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBtYXhSYXlzOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBtaW5SYXlMZW5ndGg6IG51bWJlcjtcclxuICBwcml2YXRlIHJlYWRvbmx5IG1heFJheUxlbmd0aDogbnVtYmVyO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgbG9uZ1JheUxpbmVXaWR0aDogbnVtYmVyO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgbWVkaXVtUmF5TGluZVdpZHRoOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSByZWFkb25seSBzaG9ydFJheUxpbmVXaWR0aDogbnVtYmVyO1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIGJ1bGJSYWRpdXM6IG51bWJlciwgcHJvdmlkZU9wdGlvbnM/OiBMaWdodFJheXNOb2RlT3B0aW9ucyApIHtcclxuXHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBidWxiUmFkaXVzID4gMCApO1xyXG5cclxuICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25pemU8TGlnaHRSYXlzTm9kZU9wdGlvbnMsIFNlbGZPcHRpb25zLCBQYXRoT3B0aW9ucz4oKSgge1xyXG5cclxuICAgICAgLy8gTGlnaHRSYXlzTm9kZU9wdGlvbnNcclxuICAgICAgbWluUmF5czogOCxcclxuICAgICAgbWF4UmF5czogNjAsXHJcbiAgICAgIG1pblJheUxlbmd0aDogMCxcclxuICAgICAgbWF4UmF5TGVuZ3RoOiAyMDAsXHJcbiAgICAgIGxvbmdSYXlMaW5lV2lkdGg6IDEuNSwgLy8gZm9yIGxvbmcgcmF5c1xyXG4gICAgICBtZWRpdW1SYXlMaW5lV2lkdGg6IDEsIC8vIGZvciBtZWRpdW0tbGVuZ3RoIHJheXNcclxuICAgICAgc2hvcnRSYXlMaW5lV2lkdGg6IDAuNSwgLy8gZm9yIHNob3J0IHJheXNcclxuXHJcbiAgICAgIC8vIFBhdGhPcHRpb25zXHJcbiAgICAgIHN0cm9rZTogJ3llbGxvdydcclxuICAgIH0sIHByb3ZpZGVPcHRpb25zICk7XHJcblxyXG4gICAgc3VwZXIoIG51bGwgKTtcclxuXHJcbiAgICB0aGlzLmJ1bGJSYWRpdXMgPSBidWxiUmFkaXVzO1xyXG4gICAgdGhpcy5taW5SYXlzID0gb3B0aW9ucy5taW5SYXlzO1xyXG4gICAgdGhpcy5tYXhSYXlzID0gb3B0aW9ucy5tYXhSYXlzO1xyXG4gICAgdGhpcy5taW5SYXlMZW5ndGggPSBvcHRpb25zLm1pblJheUxlbmd0aDtcclxuICAgIHRoaXMubWF4UmF5TGVuZ3RoID0gb3B0aW9ucy5tYXhSYXlMZW5ndGg7XHJcbiAgICB0aGlzLm1lZGl1bVJheUxpbmVXaWR0aCA9IG9wdGlvbnMubWVkaXVtUmF5TGluZVdpZHRoO1xyXG4gICAgdGhpcy5sb25nUmF5TGluZVdpZHRoID0gb3B0aW9ucy5sb25nUmF5TGluZVdpZHRoO1xyXG4gICAgdGhpcy5zaG9ydFJheUxpbmVXaWR0aCA9IG9wdGlvbnMuc2hvcnRSYXlMaW5lV2lkdGg7XHJcblxyXG4gICAgLy8gRW5zdXJlcyB0aGVyZSBhcmUgd2VsbC1kZWZpbmVkIGJvdW5kcyBhdCBpbml0aWFsaXphdGlvblxyXG4gICAgdGhpcy5zZXRCcmlnaHRuZXNzKCAwICk7XHJcblxyXG4gICAgdGhpcy5tdXRhdGUoIG9wdGlvbnMgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHMgdGhlIGJyaWdodG5lc3MsIHdoaWNoIHVwZGF0ZXMgdGhlIG51bWJlciBhbmQgbGVuZ3RoIG9mIGxpZ2h0IHJheXMuXHJcbiAgICogQHBhcmFtIGJyaWdodG5lc3MgLWEgdmFsdWUgaW4gdGhlIHJhbmdlIFswLDFdXHJcbiAgICovXHJcbiAgcHVibGljIHNldEJyaWdodG5lc3MoIGJyaWdodG5lc3M6IG51bWJlciApOiB2b2lkIHtcclxuXHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBicmlnaHRuZXNzID49IDAgJiYgYnJpZ2h0bmVzcyA8PSAxICk7XHJcblxyXG4gICAgLy8gbnVtYmVyIG9mIHJheXMgaXMgYSBmdW5jdGlvbiBvZiBicmlnaHRuZXNzXHJcbiAgICBjb25zdCBudW1iZXJPZlJheXMgPSAoIGJyaWdodG5lc3MgPT09IDAgKSA/IDAgOiB0aGlzLm1pblJheXMgKyBVdGlscy5yb3VuZFN5bW1ldHJpYyggYnJpZ2h0bmVzcyAqICggdGhpcy5tYXhSYXlzIC0gdGhpcy5taW5SYXlzICkgKTtcclxuXHJcbiAgICAvLyByYXkgbGVuZ3RoIGlzIGEgZnVuY3Rpb24gb2YgYnJpZ2h0bmVzc1xyXG4gICAgY29uc3QgcmF5TGVuZ3RoID0gdGhpcy5taW5SYXlMZW5ndGggKyAoIGJyaWdodG5lc3MgKiAoIHRoaXMubWF4UmF5TGVuZ3RoIC0gdGhpcy5taW5SYXlMZW5ndGggKSApO1xyXG5cclxuICAgIGxldCBhbmdsZSA9IFJBWVNfU1RBUlRfQU5HTEU7XHJcbiAgICBjb25zdCBkZWx0YUFuZ2xlID0gUkFZU19BUkNfQU5HTEUgLyAoIG51bWJlck9mUmF5cyAtIDEgKTtcclxuXHJcbiAgICAvLyBUaGUgcmF5IGxpbmUgd2lkdGggaXMgYSBsaW5lYXIgZnVuY3Rpb24gd2l0aGluIHRoZSBhbGxvd2VkIHJhbmdlXHJcbiAgICBjb25zdCBsaW5lV2lkdGggPSBVdGlscy5saW5lYXIoXHJcbiAgICAgIDAuMyAqIHRoaXMubWF4UmF5TGVuZ3RoLFxyXG4gICAgICAwLjYgKiB0aGlzLm1heFJheUxlbmd0aCxcclxuICAgICAgdGhpcy5zaG9ydFJheUxpbmVXaWR0aCxcclxuICAgICAgdGhpcy5sb25nUmF5TGluZVdpZHRoLFxyXG4gICAgICByYXlMZW5ndGhcclxuICAgICk7XHJcbiAgICB0aGlzLmxpbmVXaWR0aCA9IFV0aWxzLmNsYW1wKCBsaW5lV2lkdGgsIHRoaXMuc2hvcnRSYXlMaW5lV2lkdGgsIHRoaXMubG9uZ1JheUxpbmVXaWR0aCApO1xyXG5cclxuICAgIGNvbnN0IHNoYXBlID0gbmV3IFNoYXBlKCk7XHJcblxyXG4gICAgLy8gcmF5cyBmaWxsIHBhcnQgb2YgYSBjaXJjbGUsIGluY3JlbWVudGluZyBjbG9ja3dpc2VcclxuICAgIGZvciAoIGxldCBpID0gMCwgeDEsIHgyLCB5MSwgeTIsIGNvc0FuZ2xlLCBzaW5BbmdsZTsgaSA8IHRoaXMubWF4UmF5czsgaSsrICkge1xyXG4gICAgICBpZiAoIGkgPCBudW1iZXJPZlJheXMgKSB7XHJcblxyXG4gICAgICAgIGNvc0FuZ2xlID0gTWF0aC5jb3MoIGFuZ2xlICk7XHJcbiAgICAgICAgc2luQW5nbGUgPSBNYXRoLnNpbiggYW5nbGUgKTtcclxuXHJcbiAgICAgICAgLy8gZGV0ZXJtaW5lIHRoZSBlbmQgcG9pbnRzIG9mIHRoZSByYXlcclxuICAgICAgICB4MSA9IGNvc0FuZ2xlICogdGhpcy5idWxiUmFkaXVzO1xyXG4gICAgICAgIHkxID0gc2luQW5nbGUgKiB0aGlzLmJ1bGJSYWRpdXM7XHJcbiAgICAgICAgeDIgPSBjb3NBbmdsZSAqICggdGhpcy5idWxiUmFkaXVzICsgcmF5TGVuZ3RoICk7XHJcbiAgICAgICAgeTIgPSBzaW5BbmdsZSAqICggdGhpcy5idWxiUmFkaXVzICsgcmF5TGVuZ3RoICk7XHJcblxyXG4gICAgICAgIHNoYXBlLm1vdmVUbyggeDEsIHkxICkubGluZVRvKCB4MiwgeTIgKTtcclxuXHJcbiAgICAgICAgLy8gaW5jcmVtZW50IHRoZSBhbmdsZVxyXG4gICAgICAgIGFuZ2xlICs9IGRlbHRhQW5nbGU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBTZXQgc2hhcGUgdG8gYW4gaW52aXNpYmxlIGNpcmNsZSB0byBtYWludGFpbiBsb2NhbCBib3VuZHMgaWYgdGhlcmUgYXJlbid0IGFueSByYXlzLlxyXG4gICAgdGhpcy5zZXRWaXNpYmxlKCBudW1iZXJPZlJheXMgPiAwICk7XHJcbiAgICBpZiAoIG51bWJlck9mUmF5cyA9PT0gMCApIHtcclxuICAgICAgc2hhcGUuY2lyY2xlKCAwLCAwLCB0aGlzLmJ1bGJSYWRpdXMgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZXQgdGhlIHNoYXBlIG9mIHRoZSBwYXRoIHRvIHRoZSBzaGFwZSBjcmVhdGVkIGFib3ZlXHJcbiAgICB0aGlzLnNldFNoYXBlKCBzaGFwZSApO1xyXG4gIH1cclxufVxyXG5cclxuc2NlbmVyeVBoZXQucmVnaXN0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LEVBQ3ZCLElBQUksQ0FBQ0csaUJBQWlCLEVBQ3RCLElBQUksQ0FBQ0YsZ0JBQWdCLEVBQ3JCUyxTQUNGLENBQUM7SUFDRCxJQUFJLENBQUNHLFNBQVMsR0FBRy9CLEtBQUssQ0FBQ2lDLEtBQUssQ0FBRUYsU0FBUyxFQUFFLElBQUksQ0FBQ1YsaUJBQWlCLEVBQUUsSUFBSSxDQUFDRixnQkFBaUIsQ0FBQztJQUV4RixNQUFNZSxLQUFLLEdBQUcsSUFBSWpDLEtBQUssQ0FBQyxDQUFDOztJQUV6QjtJQUNBLEtBQU0sSUFBSWtDLENBQUMsR0FBRyxDQUFDLEVBQUVDLEVBQUUsRUFBRUMsRUFBRSxFQUFFQyxFQUFFLEVBQUVDLEVBQUUsRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVOLENBQUMsR0FBRyxJQUFJLENBQUNuQixPQUFPLEVBQUVtQixDQUFDLEVBQUUsRUFBRztNQUMzRSxJQUFLQSxDQUFDLEdBQUdULFlBQVksRUFBRztRQUV0QmMsUUFBUSxHQUFHbEMsSUFBSSxDQUFDb0MsR0FBRyxDQUFFYixLQUFNLENBQUM7UUFDNUJZLFFBQVEsR0FBR25DLElBQUksQ0FBQ3FDLEdBQUcsQ0FBRWQsS0FBTSxDQUFDOztRQUU1QjtRQUNBTyxFQUFFLEdBQUdJLFFBQVEsR0FBRyxJQUFJLENBQUM3QixVQUFVO1FBQy9CMkIsRUFBRSxHQUFHRyxRQUFRLEdBQUcsSUFBSSxDQUFDOUIsVUFBVTtRQUMvQjBCLEVBQUUsR0FBR0csUUFBUSxJQUFLLElBQUksQ0FBQzdCLFVBQVUsR0FBR2lCLFNBQVMsQ0FBRTtRQUMvQ1csRUFBRSxHQUFHRSxRQUFRLElBQUssSUFBSSxDQUFDOUIsVUFBVSxHQUFHaUIsU0FBUyxDQUFFO1FBRS9DTSxLQUFLLENBQUNVLE1BQU0sQ0FBRVIsRUFBRSxFQUFFRSxFQUFHLENBQUMsQ0FBQ08sTUFBTSxDQUFFUixFQUFFLEVBQUVFLEVBQUcsQ0FBQzs7UUFFdkM7UUFDQVYsS0FBSyxJQUFJQyxVQUFVO01BQ3JCO0lBQ0Y7O0lBRUE7SUFDQSxJQUFJLENBQUNnQixVQUFVLENBQUVwQixZQUFZLEdBQUcsQ0FBRSxDQUFDO0lBQ25DLElBQUtBLFlBQVksS0FBSyxDQUFDLEVBQUc7TUFDeEJRLEtBQUssQ0FBQ2EsTUFBTSxDQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDcEMsVUFBVyxDQUFDO0lBQ3ZDOztJQUVBO0lBQ0EsSUFBSSxDQUFDcUMsUUFBUSxDQUFFZCxLQUFNLENBQUM7RUFDeEI7QUFDRjtBQUVBOUIsV0FBVyxDQUFDNkMsUUFBUSxDQUFFLGVBQWUsRUFBRXhDLGFBQWMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==