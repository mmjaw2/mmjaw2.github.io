// Copyright 2016-2024, University of Colorado Boulder

/**
 * A flexible keypad that looks somewhat like a calculator or keyboard keypad.
 *
 * @author Aadish Gupta
 * @author John Blanco
 */

import merge from '../../../phet-core/js/merge.js';
import optionize from '../../../phet-core/js/optionize.js';
import { KeyboardListener, Node, Text } from '../../../scenery/js/imports.js';
import RectangularPushButton from '../../../sun/js/buttons/RectangularPushButton.js';
import Tandem from '../../../tandem/js/Tandem.js';
import BackspaceIcon from '../BackspaceIcon.js';
import PhetFont from '../PhetFont.js';
import sceneryPhet from '../sceneryPhet.js';
import Key from './Key.js';
import KeyID from './KeyID.js';
import NumberAccumulator from './NumberAccumulator.js';
// constants
const DEFAULT_BUTTON_WIDTH = 35;
const DEFAULT_BUTTON_HEIGHT = 35;
const DEFAULT_BUTTON_FONT = new PhetFont({
  size: 20
});
const DEFAULT_BUTTON_COLOR = 'white';
const PLUS_CHAR = '\u002b';
const MINUS_CHAR = '\u2212';
const _0 = new Key('0', KeyID.ZERO, {
  keyboardIdentifiers: ['0']
});
const _1 = new Key('1', KeyID.ONE, {
  keyboardIdentifiers: ['1']
});
const _2 = new Key('2', KeyID.TWO, {
  keyboardIdentifiers: ['2']
});
const _3 = new Key('3', KeyID.THREE, {
  keyboardIdentifiers: ['3']
});
const _4 = new Key('4', KeyID.FOUR, {
  keyboardIdentifiers: ['4']
});
const _5 = new Key('5', KeyID.FIVE, {
  keyboardIdentifiers: ['5']
});
const _6 = new Key('6', KeyID.SIX, {
  keyboardIdentifiers: ['6']
});
const _7 = new Key('7', KeyID.SEVEN, {
  keyboardIdentifiers: ['7']
});
const _8 = new Key('8', KeyID.EIGHT, {
  keyboardIdentifiers: ['8']
});
const _9 = new Key('9', KeyID.NINE, {
  keyboardIdentifiers: ['9']
});
const WIDE_ZERO = new Key('0', KeyID.ZERO, {
  horizontalSpan: 2,
  keyboardIdentifiers: ['0']
});
const DECIMAL = new Key('.', KeyID.DECIMAL, {
  keyboardIdentifiers: ['period']
});
const BACKSPACE = new Key(new BackspaceIcon({
  scale: 1.5
}), KeyID.BACKSPACE, {
  keyboardIdentifiers: ['backspace']
});
const PLUS_MINUS = new Key(`${PLUS_CHAR}/${MINUS_CHAR}`, KeyID.PLUS_MINUS, {
  keyboardIdentifiers: ['minus', 'plus']
});
class Keypad extends Node {
  // array of the keys that have been accumulated

  // string representation of the keys that have been accumulated

  // numeric representation of the keys that have been accumulated, null if no keys have been accumulated

  /**
   * @param layout - an array that specifies the keys and the layout, see static instance below for example usage
   * @param [providedOptions]
   */
  constructor(layout, providedOptions) {
    const options = optionize()({
      buttonWidth: DEFAULT_BUTTON_WIDTH,
      buttonHeight: DEFAULT_BUTTON_HEIGHT,
      xSpacing: 10,
      ySpacing: 10,
      touchAreaXDilation: 5,
      touchAreaYDilation: 5,
      buttonColor: DEFAULT_BUTTON_COLOR,
      buttonFont: DEFAULT_BUTTON_FONT,
      accumulator: null,
      accumulatorOptions: null,
      tandem: Tandem.REQUIRED,
      tandemNameSuffix: 'Keypad',
      tagName: 'div',
      ariaLabel: 'Keypad',
      focusable: true,
      useGlobalKeyboardListener: false
    }, providedOptions);
    super();
    this.keyAccumulator = options.accumulator ? options.accumulator : new NumberAccumulator(merge({
      tandem: options.tandem.createTandem('numberAccumulator')
    }, options.accumulatorOptions));
    this.accumulatedKeysProperty = this.keyAccumulator.accumulatedKeysProperty;
    this.stringProperty = this.keyAccumulator.stringProperty;
    this.valueProperty = this.keyAccumulator.valueProperty;
    this.buttonNodes = [];

    // determine number of rows and columns from the input layout
    let numRows = layout.length;
    let numColumns = 0;
    for (let row = 0; row < numRows; row++) {
      if (layout[row].length > numColumns) {
        numColumns = layout[row].length;
      }
    }

    // check last row to see if any button has vertical span more than 1
    let maxVerticalSpan = 1;
    for (let column = 0; column < layout[numRows - 1].length; column++) {
      const key = layout[numRows - 1][column];
      if (key && key.verticalSpan > maxVerticalSpan) {
        maxVerticalSpan = key.verticalSpan;
      }
    }
    numRows += maxVerticalSpan - 1;

    // 2D grid to check for the overlap
    const occupiedLayoutGrid = [];
    for (let row = 0; row < numRows; row++) {
      occupiedLayoutGrid[row] = [];
      for (let column = 0; column < numColumns; column++) {
        occupiedLayoutGrid[row][column] = 0;
      }
    }
    const keyboardKeys = {};

    // interpret the layout specification
    for (let row = 0; row < layout.length; row++) {
      const startRow = row;
      for (let column = 0; column < layout[row].length; column++) {
        const key = layout[row][column];
        if (key) {
          for (let i = 0; i < key.keyboardIdentifiers.length; i++) {
            const keyboardIdentifier = key.keyboardIdentifiers[i];
            assert && assert(!keyboardKeys.hasOwnProperty(keyboardIdentifier), 'Keypad has already registered key for keyboard input: ' + keyboardIdentifier);
            keyboardKeys[keyboardIdentifier] = key;
          }
          const keyBefore = layout[row][column - 1];
          const startColumn = column + (column > 0 && keyBefore ? keyBefore.horizontalSpan - 1 : 0);
          const verticalSpan = key.verticalSpan;
          const horizontalSpan = key.horizontalSpan;

          // check for overlap between the buttons
          for (let x = startRow; x < startRow + verticalSpan; x++) {
            for (let y = startColumn; y < startColumn + horizontalSpan; y++) {
              assert && assert(!occupiedLayoutGrid[x][y], 'keys overlap in the layout');
              occupiedLayoutGrid[x][y] = true;
            }
          }

          // create and add the buttons
          const buttonWidth = key.horizontalSpan * options.buttonWidth + (key.horizontalSpan - 1) * options.xSpacing;
          const buttonHeight = key.verticalSpan * options.buttonHeight + (key.verticalSpan - 1) * options.ySpacing;
          const buttonNode = createKeyNode(key, this.keyAccumulator, buttonWidth, buttonHeight, options.tandem, options);
          buttonNode.left = startColumn * options.buttonWidth + startColumn * options.xSpacing;
          buttonNode.top = startRow * options.buttonHeight + startRow * options.ySpacing;
          this.buttonNodes.push(buttonNode);
          this.addChild(buttonNode);
        }
      }
    }
    const keyboardListenerOptions = {
      // @ts-expect-error - TypeScript doesn't know that keyboardKeys has keys of type OneKeyStroke. Type assertion
      // works but is incompatible with eslint.
      keys: Object.keys(keyboardKeys),
      fire: (sceneryEvent, keysPressed) => {
        const keyObject = keyboardKeys[keysPressed];
        this.keyAccumulator.handleKeyPressed(keyObject.identifier);
      }
    };
    let keyboardListener;
    if (options.useGlobalKeyboardListener) {
      keyboardListener = KeyboardListener.createGlobal(this, keyboardListenerOptions);
    } else {
      keyboardListener = new KeyboardListener(keyboardListenerOptions);
      this.addInputListener(keyboardListener);
    }
    this.disposeEmitter.addListener(() => keyboardListener.dispose());
    this.stringProperty.link(string => {
      this.innerContent = string; // show current value in the PDOM
    });
    this.mutate(options);
  }

  /**
   * Calls the clear function for the given accumulator
   */
  clear() {
    this.keyAccumulator.clear();
  }

  /**
   * Determines whether pressing a key (except for backspace) will clear the existing value.
   */
  setClearOnNextKeyPress(clearOnNextKeyPress) {
    this.keyAccumulator.setClearOnNextKeyPress(clearOnNextKeyPress);
  }

  /**
   * Will pressing a key (except for backspace) clear the existing value?
   */
  getClearOnNextKeyPress() {
    return this.keyAccumulator.getClearOnNextKeyPress();
  }
  dispose() {
    this.keyAccumulator.dispose();
    this.buttonNodes.forEach(buttonNode => buttonNode.dispose());
    super.dispose();
  }

  //------------------------------------------------------------------------------------------------------------------
  // static keypad layouts - These can be used 'as is' for common layouts or serve as examples for creating custom
  // layouts. If the vertical span is greater than 1, the column in the next row(s) has to be null.  If
  // the horizontal span is greater than 1, the next key in that row will not overlap and will be placed in the next
  // space in the grid. If a blank space is desired, null should be provided.
  //------------------------------------------------------------------------------------------------------------------

  static PositiveIntegerLayout = [[_7, _8, _9], [_4, _5, _6], [_1, _2, _3], [WIDE_ZERO, BACKSPACE]];
  static PositiveDecimalLayout = [[_7, _8, _9], [_4, _5, _6], [_1, _2, _3], [DECIMAL, _0, BACKSPACE]];
  static PositiveAndNegativeIntegerLayout = [[_7, _8, _9], [_4, _5, _6], [_1, _2, _3], [BACKSPACE, _0, PLUS_MINUS]];
  static PositiveFloatingPointLayout = [[_7, _8, _9], [_4, _5, _6], [_1, _2, _3], [DECIMAL, _0, BACKSPACE]];
  static PositiveAndNegativeFloatingPointLayout = [[_7, _8, _9], [_4, _5, _6], [_1, _2, _3], [WIDE_ZERO, PLUS_MINUS], [DECIMAL, null, BACKSPACE]];

  // Weird Layout is created for testing purposes to test the edge cases and layout capabilities
  static WeirdLayout = [[new Key('1', KeyID.ONE), new Key('2', KeyID.TWO), new Key('3', KeyID.THREE, {
    horizontalSpan: 3
  })], [null, new Key('4', KeyID.FOUR, {
    horizontalSpan: 5
  })], [new Key('5', KeyID.FIVE, {
    verticalSpan: 2
  }), new Key('6', KeyID.SIX), new Key('7', KeyID.SEVEN)], [null, new Key('8', KeyID.EIGHT), new Key('9', KeyID.NINE)], [null, new Key('0', KeyID.ZERO, {
    horizontalSpan: 2,
    verticalSpan: 2
  })]];
  static KEY_0 = _0;
  static KEY_1 = _1;
  static KEY_2 = _2;
  static KEY_3 = _3;
  static KEY_4 = _4;
  static KEY_5 = _5;
  static KEY_6 = _6;
  static KEY_7 = _7;
  static KEY_8 = _8;
  static KEY_9 = _9;
  static KEY_WIDE_ZERO = WIDE_ZERO;
  static KEY_DECIMAL = DECIMAL;
  static KEY_BACKSPACE = BACKSPACE;
  static KEY_PLUS_MINUS = PLUS_MINUS;
}

/**
 * Helper function to create the display key node for the provided key object
 */
function createKeyNode(keyObject, keyAccumulator, width, height, keyPadTandem, options) {
  // Wrapping the keyObject's label so that we're not DAG'ing this badly and causing infinite loops
  const content = keyObject.label instanceof Node ? new Node({
    children: [keyObject.label]
  }) : new Text(keyObject.label, {
    font: options.buttonFont
  });
  const keyNode = new RectangularPushButton({
    content: content,
    baseColor: options.buttonColor,
    touchAreaXDilation: options.touchAreaXDilation,
    touchAreaYDilation: options.touchAreaYDilation,
    minWidth: width,
    minHeight: height,
    xMargin: 5,
    yMargin: 5,
    listener: () => keyAccumulator.handleKeyPressed(keyObject.identifier),
    // pdom
    // alt input is handled as a whole keypad, so remove these individual keys from the keypad if covered by the KeyboardListener.
    tagName: keyObject.keyboardIdentifiers.length === 0 ? 'button' : null,
    // Duplicated tagName with `ButtonNode`

    // phet-io
    tandem: keyPadTandem.createTandem(keyObject.buttonTandemName)
  });
  keyNode.dispose = function () {
    // Release the reference to the key
    content.dispose();
    RectangularPushButton.prototype.dispose.call(this);
  };
  keyNode.scale(width / keyNode.width, height / keyNode.height);
  return keyNode;
}
sceneryPhet.register('Keypad', Keypad);
export default Keypad;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtZXJnZSIsIm9wdGlvbml6ZSIsIktleWJvYXJkTGlzdGVuZXIiLCJOb2RlIiwiVGV4dCIsIlJlY3Rhbmd1bGFyUHVzaEJ1dHRvbiIsIlRhbmRlbSIsIkJhY2tzcGFjZUljb24iLCJQaGV0Rm9udCIsInNjZW5lcnlQaGV0IiwiS2V5IiwiS2V5SUQiLCJOdW1iZXJBY2N1bXVsYXRvciIsIkRFRkFVTFRfQlVUVE9OX1dJRFRIIiwiREVGQVVMVF9CVVRUT05fSEVJR0hUIiwiREVGQVVMVF9CVVRUT05fRk9OVCIsInNpemUiLCJERUZBVUxUX0JVVFRPTl9DT0xPUiIsIlBMVVNfQ0hBUiIsIk1JTlVTX0NIQVIiLCJfMCIsIlpFUk8iLCJrZXlib2FyZElkZW50aWZpZXJzIiwiXzEiLCJPTkUiLCJfMiIsIlRXTyIsIl8zIiwiVEhSRUUiLCJfNCIsIkZPVVIiLCJfNSIsIkZJVkUiLCJfNiIsIlNJWCIsIl83IiwiU0VWRU4iLCJfOCIsIkVJR0hUIiwiXzkiLCJOSU5FIiwiV0lERV9aRVJPIiwiaG9yaXpvbnRhbFNwYW4iLCJERUNJTUFMIiwiQkFDS1NQQUNFIiwic2NhbGUiLCJQTFVTX01JTlVTIiwiS2V5cGFkIiwiY29uc3RydWN0b3IiLCJsYXlvdXQiLCJwcm92aWRlZE9wdGlvbnMiLCJvcHRpb25zIiwiYnV0dG9uV2lkdGgiLCJidXR0b25IZWlnaHQiLCJ4U3BhY2luZyIsInlTcGFjaW5nIiwidG91Y2hBcmVhWERpbGF0aW9uIiwidG91Y2hBcmVhWURpbGF0aW9uIiwiYnV0dG9uQ29sb3IiLCJidXR0b25Gb250IiwiYWNjdW11bGF0b3IiLCJhY2N1bXVsYXRvck9wdGlvbnMiLCJ0YW5kZW0iLCJSRVFVSVJFRCIsInRhbmRlbU5hbWVTdWZmaXgiLCJ0YWdOYW1lIiwiYXJpYUxhYmVsIiwiZm9jdXNhYmxlIiwidXNlR2xvYmFsS2V5Ym9hcmRMaXN0ZW5lciIsImtleUFjY3VtdWxhdG9yIiwiY3JlYXRlVGFuZGVtIiwiYWNjdW11bGF0ZWRLZXlzUHJvcGVydHkiLCJzdHJpbmdQcm9wZXJ0eSIsInZhbHVlUHJvcGVydHkiLCJidXR0b25Ob2RlcyIsIm51bVJvd3MiLCJsZW5ndGgiLCJudW1Db2x1bW5zIiwicm93IiwibWF4VmVydGljYWxTcGFuIiwiY29sdW1uIiwia2V5IiwidmVydGljYWxTcGFuIiwib2NjdXBpZWRMYXlvdXRHcmlkIiwia2V5Ym9hcmRLZXlzIiwic3RhcnRSb3ciLCJpIiwia2V5Ym9hcmRJZGVudGlmaWVyIiwiYXNzZXJ0IiwiaGFzT3duUHJvcGVydHkiLCJrZXlCZWZvcmUiLCJzdGFydENvbHVtbiIsIngiLCJ5IiwiYnV0dG9uTm9kZSIsImNyZWF0ZUtleU5vZGUiLCJsZWZ0IiwidG9wIiwicHVzaCIsImFkZENoaWxkIiwia2V5Ym9hcmRMaXN0ZW5lck9wdGlvbnMiLCJrZXlzIiwiT2JqZWN0IiwiZmlyZSIsInNjZW5lcnlFdmVudCIsImtleXNQcmVzc2VkIiwia2V5T2JqZWN0IiwiaGFuZGxlS2V5UHJlc3NlZCIsImlkZW50aWZpZXIiLCJrZXlib2FyZExpc3RlbmVyIiwiY3JlYXRlR2xvYmFsIiwiYWRkSW5wdXRMaXN0ZW5lciIsImRpc3Bvc2VFbWl0dGVyIiwiYWRkTGlzdGVuZXIiLCJkaXNwb3NlIiwibGluayIsInN0cmluZyIsImlubmVyQ29udGVudCIsIm11dGF0ZSIsImNsZWFyIiwic2V0Q2xlYXJPbk5leHRLZXlQcmVzcyIsImNsZWFyT25OZXh0S2V5UHJlc3MiLCJnZXRDbGVhck9uTmV4dEtleVByZXNzIiwiZm9yRWFjaCIsIlBvc2l0aXZlSW50ZWdlckxheW91dCIsIlBvc2l0aXZlRGVjaW1hbExheW91dCIsIlBvc2l0aXZlQW5kTmVnYXRpdmVJbnRlZ2VyTGF5b3V0IiwiUG9zaXRpdmVGbG9hdGluZ1BvaW50TGF5b3V0IiwiUG9zaXRpdmVBbmROZWdhdGl2ZUZsb2F0aW5nUG9pbnRMYXlvdXQiLCJXZWlyZExheW91dCIsIktFWV8wIiwiS0VZXzEiLCJLRVlfMiIsIktFWV8zIiwiS0VZXzQiLCJLRVlfNSIsIktFWV82IiwiS0VZXzciLCJLRVlfOCIsIktFWV85IiwiS0VZX1dJREVfWkVSTyIsIktFWV9ERUNJTUFMIiwiS0VZX0JBQ0tTUEFDRSIsIktFWV9QTFVTX01JTlVTIiwid2lkdGgiLCJoZWlnaHQiLCJrZXlQYWRUYW5kZW0iLCJjb250ZW50IiwibGFiZWwiLCJjaGlsZHJlbiIsImZvbnQiLCJrZXlOb2RlIiwiYmFzZUNvbG9yIiwibWluV2lkdGgiLCJtaW5IZWlnaHQiLCJ4TWFyZ2luIiwieU1hcmdpbiIsImxpc3RlbmVyIiwiYnV0dG9uVGFuZGVtTmFtZSIsInByb3RvdHlwZSIsImNhbGwiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIktleXBhZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxNi0yMDI0LCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBBIGZsZXhpYmxlIGtleXBhZCB0aGF0IGxvb2tzIHNvbWV3aGF0IGxpa2UgYSBjYWxjdWxhdG9yIG9yIGtleWJvYXJkIGtleXBhZC5cclxuICpcclxuICogQGF1dGhvciBBYWRpc2ggR3VwdGFcclxuICogQGF1dGhvciBKb2huIEJsYW5jb1xyXG4gKi9cclxuXHJcbmltcG9ydCBtZXJnZSBmcm9tICcuLi8uLi8uLi9waGV0LWNvcmUvanMvbWVyZ2UuanMnO1xyXG5pbXBvcnQgb3B0aW9uaXplIGZyb20gJy4uLy4uLy4uL3BoZXQtY29yZS9qcy9vcHRpb25pemUuanMnO1xyXG5pbXBvcnQgdHlwZSB7IEtleWJvYXJkTGlzdGVuZXJPcHRpb25zLCBPbmVLZXlTdHJva2UgfSBmcm9tICcuLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgeyBGb250LCBLZXlib2FyZExpc3RlbmVyLCBOb2RlLCBOb2RlT3B0aW9ucywgVGV4dCwgVFBhaW50IH0gZnJvbSAnLi4vLi4vLi4vc2NlbmVyeS9qcy9pbXBvcnRzLmpzJztcclxuaW1wb3J0IFJlY3Rhbmd1bGFyUHVzaEJ1dHRvbiBmcm9tICcuLi8uLi8uLi9zdW4vanMvYnV0dG9ucy9SZWN0YW5ndWxhclB1c2hCdXR0b24uanMnO1xyXG5pbXBvcnQgVGFuZGVtIGZyb20gJy4uLy4uLy4uL3RhbmRlbS9qcy9UYW5kZW0uanMnO1xyXG5pbXBvcnQgQmFja3NwYWNlSWNvbiBmcm9tICcuLi9CYWNrc3BhY2VJY29uLmpzJztcclxuaW1wb3J0IFBoZXRGb250IGZyb20gJy4uL1BoZXRGb250LmpzJztcclxuaW1wb3J0IHNjZW5lcnlQaGV0IGZyb20gJy4uL3NjZW5lcnlQaGV0LmpzJztcclxuaW1wb3J0IEtleSBmcm9tICcuL0tleS5qcyc7XHJcbmltcG9ydCBLZXlJRCwgeyBLZXlJRFZhbHVlIH0gZnJvbSAnLi9LZXlJRC5qcyc7XHJcbmltcG9ydCBOdW1iZXJBY2N1bXVsYXRvciwgeyBOdW1iZXJBY2N1bXVsYXRvck9wdGlvbnMgfSBmcm9tICcuL051bWJlckFjY3VtdWxhdG9yLmpzJztcclxuaW1wb3J0IEFic3RyYWN0S2V5QWNjdW11bGF0b3IgZnJvbSAnLi9BYnN0cmFjdEtleUFjY3VtdWxhdG9yLmpzJztcclxuaW1wb3J0IFJlYWRPbmx5UHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vYXhvbi9qcy9SZWFkT25seVByb3BlcnR5LmpzJztcclxuaW1wb3J0IFBpY2tSZXF1aXJlZCBmcm9tICcuLi8uLi8uLi9waGV0LWNvcmUvanMvdHlwZXMvUGlja1JlcXVpcmVkLmpzJztcclxuXHJcbi8vIGNvbnN0YW50c1xyXG5jb25zdCBERUZBVUxUX0JVVFRPTl9XSURUSCA9IDM1O1xyXG5jb25zdCBERUZBVUxUX0JVVFRPTl9IRUlHSFQgPSAzNTtcclxuY29uc3QgREVGQVVMVF9CVVRUT05fRk9OVCA9IG5ldyBQaGV0Rm9udCggeyBzaXplOiAyMCB9ICk7XHJcbmNvbnN0IERFRkFVTFRfQlVUVE9OX0NPTE9SID0gJ3doaXRlJztcclxuY29uc3QgUExVU19DSEFSID0gJ1xcdTAwMmInO1xyXG5jb25zdCBNSU5VU19DSEFSID0gJ1xcdTIyMTInO1xyXG5jb25zdCBfMCA9IG5ldyBLZXkoICcwJywgS2V5SUQuWkVSTywgeyBrZXlib2FyZElkZW50aWZpZXJzOiBbICcwJyBdIH0gKTtcclxuY29uc3QgXzEgPSBuZXcgS2V5KCAnMScsIEtleUlELk9ORSwgeyBrZXlib2FyZElkZW50aWZpZXJzOiBbICcxJyBdIH0gKTtcclxuY29uc3QgXzIgPSBuZXcgS2V5KCAnMicsIEtleUlELlRXTywgeyBrZXlib2FyZElkZW50aWZpZXJzOiBbICcyJyBdIH0gKTtcclxuY29uc3QgXzMgPSBuZXcgS2V5KCAnMycsIEtleUlELlRIUkVFLCB7IGtleWJvYXJkSWRlbnRpZmllcnM6IFsgJzMnIF0gfSApO1xyXG5jb25zdCBfNCA9IG5ldyBLZXkoICc0JywgS2V5SUQuRk9VUiwgeyBrZXlib2FyZElkZW50aWZpZXJzOiBbICc0JyBdIH0gKTtcclxuY29uc3QgXzUgPSBuZXcgS2V5KCAnNScsIEtleUlELkZJVkUsIHsga2V5Ym9hcmRJZGVudGlmaWVyczogWyAnNScgXSB9ICk7XHJcbmNvbnN0IF82ID0gbmV3IEtleSggJzYnLCBLZXlJRC5TSVgsIHsga2V5Ym9hcmRJZGVudGlmaWVyczogWyAnNicgXSB9ICk7XHJcbmNvbnN0IF83ID0gbmV3IEtleSggJzcnLCBLZXlJRC5TRVZFTiwgeyBrZXlib2FyZElkZW50aWZpZXJzOiBbICc3JyBdIH0gKTtcclxuY29uc3QgXzggPSBuZXcgS2V5KCAnOCcsIEtleUlELkVJR0hULCB7IGtleWJvYXJkSWRlbnRpZmllcnM6IFsgJzgnIF0gfSApO1xyXG5jb25zdCBfOSA9IG5ldyBLZXkoICc5JywgS2V5SUQuTklORSwgeyBrZXlib2FyZElkZW50aWZpZXJzOiBbICc5JyBdIH0gKTtcclxuY29uc3QgV0lERV9aRVJPID0gbmV3IEtleSggJzAnLCBLZXlJRC5aRVJPLCB7IGhvcml6b250YWxTcGFuOiAyLCBrZXlib2FyZElkZW50aWZpZXJzOiBbICcwJyBdIH0gKTtcclxuY29uc3QgREVDSU1BTCA9IG5ldyBLZXkoICcuJywgS2V5SUQuREVDSU1BTCwgeyBrZXlib2FyZElkZW50aWZpZXJzOiBbICdwZXJpb2QnIF0gfSApO1xyXG5jb25zdCBCQUNLU1BBQ0UgPSBuZXcgS2V5KCAoIG5ldyBCYWNrc3BhY2VJY29uKCB7IHNjYWxlOiAxLjUgfSApICksXHJcbiAgS2V5SUQuQkFDS1NQQUNFLCB7IGtleWJvYXJkSWRlbnRpZmllcnM6IFsgJ2JhY2tzcGFjZScgXSB9ICk7XHJcbmNvbnN0IFBMVVNfTUlOVVMgPSBuZXcgS2V5KCBgJHtQTFVTX0NIQVJ9LyR7TUlOVVNfQ0hBUn1gLCBLZXlJRC5QTFVTX01JTlVTLCB7XHJcbiAga2V5Ym9hcmRJZGVudGlmaWVyczogWyAnbWludXMnLCAncGx1cycgXVxyXG59ICk7XHJcblxyXG5leHBvcnQgdHlwZSBLZXlwYWRMYXlvdXQgPSAoIEtleSB8IG51bGwgKVtdW107XHJcblxyXG50eXBlIFNlbGZPcHRpb25zID0ge1xyXG4gIGJ1dHRvbldpZHRoPzogbnVtYmVyO1xyXG4gIGJ1dHRvbkhlaWdodD86IG51bWJlcjtcclxuICB4U3BhY2luZz86IG51bWJlcjtcclxuICB5U3BhY2luZz86IG51bWJlcjtcclxuICB0b3VjaEFyZWFYRGlsYXRpb24/OiBudW1iZXI7XHJcbiAgdG91Y2hBcmVhWURpbGF0aW9uPzogbnVtYmVyO1xyXG4gIGJ1dHRvbkNvbG9yPzogVFBhaW50O1xyXG4gIGJ1dHRvbkZvbnQ/OiBGb250O1xyXG5cclxuICAvLyBBY2N1bXVsYXRvciB0aGF0IGNvbGxlY3RzIGFuZCBpbnRlcnByZXRzIGtleSBwcmVzc2VzLCBzZWUgdmFyaW91cyBpbXBsZW1lbnRhdGlvbnMgZm9yIGV4YW1wbGVzLiBJZiBwcm92aWRlZCwgdGhpc1xyXG4gIC8vIHdpbGwgYmUgZGlzcG9zZWQgd2l0aCB0aGlzIEtleXBhZFxyXG4gIGFjY3VtdWxhdG9yPzogQWJzdHJhY3RLZXlBY2N1bXVsYXRvciB8IG51bGw7XHJcblxyXG4gIC8vIE9wdGlvbnMgcGFzc2VkIHRvIE51bWJlckFjY3VtdWxhdG9yLCBpZ25vcmVkIGlmIG9wdGlvbnMuYWNjdW11bGF0b3IgaXMgcHJvdmlkZWRcclxuICBhY2N1bXVsYXRvck9wdGlvbnM/OiBOdW1iZXJBY2N1bXVsYXRvck9wdGlvbnMgfCBudWxsO1xyXG5cclxuICAvLyBJZiB0cnVlLCB0aGUgS2V5Ym9hcmRMaXN0ZW5lciBmb3IgdGhpcyBLZXlQYWQgd2lsbCBiZSBcImdsb2JhbFwiIGFuZCBrZXkgcHJlc3NlcyB3aWxsIGNvbnRyb2wgdGhlIEtleXBhZCByZWdhcmRsZXNzXHJcbiAgLy8gb2Ygd2hlcmUgZm9jdXMgaXMgaW4gdGhlIGRvY3VtZW50LiBPbmx5IGhhdmUgb25lIEtleXBhZCBhdCBhIHRpbWUgdGhhdCBjYW4gcmVjZWl2ZSBnbG9iYWwga2V5Ym9hcmQgaW5wdXRcclxuICAvLyAoYW4gYXNzZXJ0aW9uIHdpbGwgYmUgdGhyb3duKS5cclxuICB1c2VHbG9iYWxLZXlib2FyZExpc3RlbmVyPzogYm9vbGVhbjtcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIEtleXBhZE9wdGlvbnMgPSBTZWxmT3B0aW9ucyAmIE5vZGVPcHRpb25zO1xyXG50eXBlIEtleWJvYXJkS2V5cyA9IHtcclxuICBbSyBpbiBPbmVLZXlTdHJva2VdPzogS2V5O1xyXG59O1xyXG5cclxuY2xhc3MgS2V5cGFkIGV4dGVuZHMgTm9kZSB7XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkga2V5QWNjdW11bGF0b3I6IEFic3RyYWN0S2V5QWNjdW11bGF0b3I7XHJcblxyXG4gIC8vIGFycmF5IG9mIHRoZSBrZXlzIHRoYXQgaGF2ZSBiZWVuIGFjY3VtdWxhdGVkXHJcbiAgcHVibGljIHJlYWRvbmx5IGFjY3VtdWxhdGVkS2V5c1Byb3BlcnR5OiBSZWFkT25seVByb3BlcnR5PEtleUlEVmFsdWVbXT47XHJcblxyXG4gIC8vIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUga2V5cyB0aGF0IGhhdmUgYmVlbiBhY2N1bXVsYXRlZFxyXG4gIHB1YmxpYyByZWFkb25seSBzdHJpbmdQcm9wZXJ0eTogUmVhZE9ubHlQcm9wZXJ0eTxzdHJpbmc+O1xyXG5cclxuICAvLyBudW1lcmljIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBrZXlzIHRoYXQgaGF2ZSBiZWVuIGFjY3VtdWxhdGVkLCBudWxsIGlmIG5vIGtleXMgaGF2ZSBiZWVuIGFjY3VtdWxhdGVkXHJcbiAgcHVibGljIHJlYWRvbmx5IHZhbHVlUHJvcGVydHk6IFJlYWRPbmx5UHJvcGVydHk8bnVtYmVyIHwgbnVsbD47XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkgYnV0dG9uTm9kZXM6IFJlY3Rhbmd1bGFyUHVzaEJ1dHRvbltdO1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0gbGF5b3V0IC0gYW4gYXJyYXkgdGhhdCBzcGVjaWZpZXMgdGhlIGtleXMgYW5kIHRoZSBsYXlvdXQsIHNlZSBzdGF0aWMgaW5zdGFuY2UgYmVsb3cgZm9yIGV4YW1wbGUgdXNhZ2VcclxuICAgKiBAcGFyYW0gW3Byb3ZpZGVkT3B0aW9uc11cclxuICAgKi9cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIGxheW91dDogKCBLZXkgfCBudWxsIClbXVtdLCBwcm92aWRlZE9wdGlvbnM/OiBLZXlwYWRPcHRpb25zICkge1xyXG5cclxuICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25pemU8S2V5cGFkT3B0aW9ucywgU2VsZk9wdGlvbnMsIE5vZGVPcHRpb25zPigpKCB7XHJcbiAgICAgIGJ1dHRvbldpZHRoOiBERUZBVUxUX0JVVFRPTl9XSURUSCxcclxuICAgICAgYnV0dG9uSGVpZ2h0OiBERUZBVUxUX0JVVFRPTl9IRUlHSFQsXHJcbiAgICAgIHhTcGFjaW5nOiAxMCxcclxuICAgICAgeVNwYWNpbmc6IDEwLFxyXG4gICAgICB0b3VjaEFyZWFYRGlsYXRpb246IDUsXHJcbiAgICAgIHRvdWNoQXJlYVlEaWxhdGlvbjogNSxcclxuICAgICAgYnV0dG9uQ29sb3I6IERFRkFVTFRfQlVUVE9OX0NPTE9SLFxyXG4gICAgICBidXR0b25Gb250OiBERUZBVUxUX0JVVFRPTl9GT05ULFxyXG4gICAgICBhY2N1bXVsYXRvcjogbnVsbCxcclxuICAgICAgYWNjdW11bGF0b3JPcHRpb25zOiBudWxsLFxyXG4gICAgICB0YW5kZW06IFRhbmRlbS5SRVFVSVJFRCxcclxuICAgICAgdGFuZGVtTmFtZVN1ZmZpeDogJ0tleXBhZCcsXHJcbiAgICAgIHRhZ05hbWU6ICdkaXYnLFxyXG4gICAgICBhcmlhTGFiZWw6ICdLZXlwYWQnLFxyXG4gICAgICBmb2N1c2FibGU6IHRydWUsXHJcbiAgICAgIHVzZUdsb2JhbEtleWJvYXJkTGlzdGVuZXI6IGZhbHNlXHJcbiAgICB9LCBwcm92aWRlZE9wdGlvbnMgKTtcclxuXHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMua2V5QWNjdW11bGF0b3IgPSBvcHRpb25zLmFjY3VtdWxhdG9yID8gb3B0aW9ucy5hY2N1bXVsYXRvciA6IG5ldyBOdW1iZXJBY2N1bXVsYXRvciggbWVyZ2UoIHtcclxuICAgICAgdGFuZGVtOiBvcHRpb25zLnRhbmRlbS5jcmVhdGVUYW5kZW0oICdudW1iZXJBY2N1bXVsYXRvcicgKVxyXG4gICAgfSwgb3B0aW9ucy5hY2N1bXVsYXRvck9wdGlvbnMgKSApO1xyXG5cclxuICAgIHRoaXMuYWNjdW11bGF0ZWRLZXlzUHJvcGVydHkgPSB0aGlzLmtleUFjY3VtdWxhdG9yLmFjY3VtdWxhdGVkS2V5c1Byb3BlcnR5O1xyXG4gICAgdGhpcy5zdHJpbmdQcm9wZXJ0eSA9IHRoaXMua2V5QWNjdW11bGF0b3Iuc3RyaW5nUHJvcGVydHk7XHJcbiAgICB0aGlzLnZhbHVlUHJvcGVydHkgPSB0aGlzLmtleUFjY3VtdWxhdG9yLnZhbHVlUHJvcGVydHk7XHJcblxyXG4gICAgdGhpcy5idXR0b25Ob2RlcyA9IFtdO1xyXG5cclxuICAgIC8vIGRldGVybWluZSBudW1iZXIgb2Ygcm93cyBhbmQgY29sdW1ucyBmcm9tIHRoZSBpbnB1dCBsYXlvdXRcclxuICAgIGxldCBudW1Sb3dzID0gbGF5b3V0Lmxlbmd0aDtcclxuICAgIGxldCBudW1Db2x1bW5zID0gMDtcclxuXHJcbiAgICBmb3IgKCBsZXQgcm93ID0gMDsgcm93IDwgbnVtUm93czsgcm93KysgKSB7XHJcbiAgICAgIGlmICggbGF5b3V0WyByb3cgXS5sZW5ndGggPiBudW1Db2x1bW5zICkge1xyXG4gICAgICAgIG51bUNvbHVtbnMgPSBsYXlvdXRbIHJvdyBdLmxlbmd0aDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNoZWNrIGxhc3Qgcm93IHRvIHNlZSBpZiBhbnkgYnV0dG9uIGhhcyB2ZXJ0aWNhbCBzcGFuIG1vcmUgdGhhbiAxXHJcbiAgICBsZXQgbWF4VmVydGljYWxTcGFuID0gMTtcclxuICAgIGZvciAoIGxldCBjb2x1bW4gPSAwOyBjb2x1bW4gPCBsYXlvdXRbIG51bVJvd3MgLSAxIF0ubGVuZ3RoOyBjb2x1bW4rKyApIHtcclxuICAgICAgY29uc3Qga2V5ID0gbGF5b3V0WyBudW1Sb3dzIC0gMSBdWyBjb2x1bW4gXTtcclxuXHJcbiAgICAgIGlmICgga2V5ICYmIGtleS52ZXJ0aWNhbFNwYW4gPiBtYXhWZXJ0aWNhbFNwYW4gKSB7XHJcbiAgICAgICAgbWF4VmVydGljYWxTcGFuID0ga2V5LnZlcnRpY2FsU3BhbjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgbnVtUm93cyArPSBtYXhWZXJ0aWNhbFNwYW4gLSAxO1xyXG5cclxuICAgIC8vIDJEIGdyaWQgdG8gY2hlY2sgZm9yIHRoZSBvdmVybGFwXHJcbiAgICBjb25zdCBvY2N1cGllZExheW91dEdyaWQ6ICggYm9vbGVhbiB8IG51bWJlciApW11bXSA9IFtdO1xyXG5cclxuICAgIGZvciAoIGxldCByb3cgPSAwOyByb3cgPCBudW1Sb3dzOyByb3crKyApIHtcclxuICAgICAgb2NjdXBpZWRMYXlvdXRHcmlkWyByb3cgXSA9IFtdO1xyXG4gICAgICBmb3IgKCBsZXQgY29sdW1uID0gMDsgY29sdW1uIDwgbnVtQ29sdW1uczsgY29sdW1uKysgKSB7XHJcbiAgICAgICAgb2NjdXBpZWRMYXlvdXRHcmlkWyByb3cgXVsgY29sdW1uIF0gPSAwO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qga2V5Ym9hcmRLZXlzOiBLZXlib2FyZEtleXMgPSB7fTtcclxuXHJcbiAgICAvLyBpbnRlcnByZXQgdGhlIGxheW91dCBzcGVjaWZpY2F0aW9uXHJcbiAgICBmb3IgKCBsZXQgcm93ID0gMDsgcm93IDwgbGF5b3V0Lmxlbmd0aDsgcm93KysgKSB7XHJcbiAgICAgIGNvbnN0IHN0YXJ0Um93ID0gcm93O1xyXG4gICAgICBmb3IgKCBsZXQgY29sdW1uID0gMDsgY29sdW1uIDwgbGF5b3V0WyByb3cgXS5sZW5ndGg7IGNvbHVtbisrICkge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IGxheW91dFsgcm93IF1bIGNvbHVtbiBdO1xyXG4gICAgICAgIGlmICgga2V5ICkge1xyXG4gICAgICAgICAgZm9yICggbGV0IGkgPSAwOyBpIDwga2V5LmtleWJvYXJkSWRlbnRpZmllcnMubGVuZ3RoOyBpKysgKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleWJvYXJkSWRlbnRpZmllciA9IGtleS5rZXlib2FyZElkZW50aWZpZXJzWyBpIF07XHJcbiAgICAgICAgICAgIGFzc2VydCAmJiBhc3NlcnQoICFrZXlib2FyZEtleXMuaGFzT3duUHJvcGVydHkoIGtleWJvYXJkSWRlbnRpZmllciApLCAnS2V5cGFkIGhhcyBhbHJlYWR5IHJlZ2lzdGVyZWQga2V5IGZvciBrZXlib2FyZCBpbnB1dDogJyArIGtleWJvYXJkSWRlbnRpZmllciApO1xyXG4gICAgICAgICAgICBrZXlib2FyZEtleXNbIGtleWJvYXJkSWRlbnRpZmllciBdID0ga2V5O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IGtleUJlZm9yZSA9IGxheW91dFsgcm93IF1bIGNvbHVtbiAtIDEgXTtcclxuICAgICAgICAgIGNvbnN0IHN0YXJ0Q29sdW1uID0gY29sdW1uICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCBjb2x1bW4gPiAwICYmIGtleUJlZm9yZSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5QmVmb3JlLmhvcml6b250YWxTcGFuIC0gMSA6IDAgKTtcclxuICAgICAgICAgIGNvbnN0IHZlcnRpY2FsU3BhbiA9IGtleS52ZXJ0aWNhbFNwYW47XHJcbiAgICAgICAgICBjb25zdCBob3Jpem9udGFsU3BhbiA9IGtleS5ob3Jpem9udGFsU3BhbjtcclxuXHJcbiAgICAgICAgICAvLyBjaGVjayBmb3Igb3ZlcmxhcCBiZXR3ZWVuIHRoZSBidXR0b25zXHJcbiAgICAgICAgICBmb3IgKCBsZXQgeCA9IHN0YXJ0Um93OyB4IDwgKCBzdGFydFJvdyArIHZlcnRpY2FsU3BhbiApOyB4KysgKSB7XHJcbiAgICAgICAgICAgIGZvciAoIGxldCB5ID0gc3RhcnRDb2x1bW47IHkgPCAoIHN0YXJ0Q29sdW1uICsgaG9yaXpvbnRhbFNwYW4gKTsgeSsrICkge1xyXG4gICAgICAgICAgICAgIGFzc2VydCAmJiBhc3NlcnQoICFvY2N1cGllZExheW91dEdyaWRbIHggXVsgeSBdLCAna2V5cyBvdmVybGFwIGluIHRoZSBsYXlvdXQnICk7XHJcbiAgICAgICAgICAgICAgb2NjdXBpZWRMYXlvdXRHcmlkWyB4IF1bIHkgXSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBjcmVhdGUgYW5kIGFkZCB0aGUgYnV0dG9uc1xyXG4gICAgICAgICAgY29uc3QgYnV0dG9uV2lkdGggPSBrZXkuaG9yaXpvbnRhbFNwYW4gKiBvcHRpb25zLmJ1dHRvbldpZHRoICsgKCBrZXkuaG9yaXpvbnRhbFNwYW4gLSAxICkgKiBvcHRpb25zLnhTcGFjaW5nO1xyXG4gICAgICAgICAgY29uc3QgYnV0dG9uSGVpZ2h0ID0ga2V5LnZlcnRpY2FsU3BhbiAqIG9wdGlvbnMuYnV0dG9uSGVpZ2h0ICsgKCBrZXkudmVydGljYWxTcGFuIC0gMSApICogb3B0aW9ucy55U3BhY2luZztcclxuICAgICAgICAgIGNvbnN0IGJ1dHRvbk5vZGUgPSBjcmVhdGVLZXlOb2RlKCBrZXksIHRoaXMua2V5QWNjdW11bGF0b3IsIGJ1dHRvbldpZHRoLCBidXR0b25IZWlnaHQsIG9wdGlvbnMudGFuZGVtLCBvcHRpb25zICk7XHJcbiAgICAgICAgICBidXR0b25Ob2RlLmxlZnQgPSBzdGFydENvbHVtbiAqIG9wdGlvbnMuYnV0dG9uV2lkdGggKyBzdGFydENvbHVtbiAqIG9wdGlvbnMueFNwYWNpbmc7XHJcbiAgICAgICAgICBidXR0b25Ob2RlLnRvcCA9IHN0YXJ0Um93ICogb3B0aW9ucy5idXR0b25IZWlnaHQgKyBzdGFydFJvdyAqIG9wdGlvbnMueVNwYWNpbmc7XHJcbiAgICAgICAgICB0aGlzLmJ1dHRvbk5vZGVzLnB1c2goIGJ1dHRvbk5vZGUgKTtcclxuICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoIGJ1dHRvbk5vZGUgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBrZXlib2FyZExpc3RlbmVyT3B0aW9uczogS2V5Ym9hcmRMaXN0ZW5lck9wdGlvbnM8T25lS2V5U3Ryb2tlW10+ID0ge1xyXG5cclxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFR5cGVTY3JpcHQgZG9lc24ndCBrbm93IHRoYXQga2V5Ym9hcmRLZXlzIGhhcyBrZXlzIG9mIHR5cGUgT25lS2V5U3Ryb2tlLiBUeXBlIGFzc2VydGlvblxyXG4gICAgICAvLyB3b3JrcyBidXQgaXMgaW5jb21wYXRpYmxlIHdpdGggZXNsaW50LlxyXG4gICAgICBrZXlzOiBPYmplY3Qua2V5cygga2V5Ym9hcmRLZXlzICksXHJcbiAgICAgIGZpcmU6ICggc2NlbmVyeUV2ZW50LCBrZXlzUHJlc3NlZCApID0+IHtcclxuICAgICAgICBjb25zdCBrZXlPYmplY3QgPSBrZXlib2FyZEtleXNbIGtleXNQcmVzc2VkIF07XHJcbiAgICAgICAgdGhpcy5rZXlBY2N1bXVsYXRvci5oYW5kbGVLZXlQcmVzc2VkKCBrZXlPYmplY3QhLmlkZW50aWZpZXIgKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBsZXQga2V5Ym9hcmRMaXN0ZW5lcjogS2V5Ym9hcmRMaXN0ZW5lcjxPbmVLZXlTdHJva2VbXT47XHJcbiAgICBpZiAoIG9wdGlvbnMudXNlR2xvYmFsS2V5Ym9hcmRMaXN0ZW5lciApIHtcclxuICAgICAga2V5Ym9hcmRMaXN0ZW5lciA9IEtleWJvYXJkTGlzdGVuZXIuY3JlYXRlR2xvYmFsKCB0aGlzLCBrZXlib2FyZExpc3RlbmVyT3B0aW9ucyApO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGtleWJvYXJkTGlzdGVuZXIgPSBuZXcgS2V5Ym9hcmRMaXN0ZW5lcigga2V5Ym9hcmRMaXN0ZW5lck9wdGlvbnMgKTtcclxuICAgICAgdGhpcy5hZGRJbnB1dExpc3RlbmVyKCBrZXlib2FyZExpc3RlbmVyICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5kaXNwb3NlRW1pdHRlci5hZGRMaXN0ZW5lciggKCkgPT4ga2V5Ym9hcmRMaXN0ZW5lci5kaXNwb3NlKCkgKTtcclxuXHJcbiAgICB0aGlzLnN0cmluZ1Byb3BlcnR5LmxpbmsoIHN0cmluZyA9PiB7XHJcbiAgICAgIHRoaXMuaW5uZXJDb250ZW50ID0gc3RyaW5nOyAvLyBzaG93IGN1cnJlbnQgdmFsdWUgaW4gdGhlIFBET01cclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLm11dGF0ZSggb3B0aW9ucyApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsbHMgdGhlIGNsZWFyIGZ1bmN0aW9uIGZvciB0aGUgZ2l2ZW4gYWNjdW11bGF0b3JcclxuICAgKi9cclxuICBwdWJsaWMgY2xlYXIoKTogdm9pZCB7XHJcbiAgICB0aGlzLmtleUFjY3VtdWxhdG9yLmNsZWFyKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgcHJlc3NpbmcgYSBrZXkgKGV4Y2VwdCBmb3IgYmFja3NwYWNlKSB3aWxsIGNsZWFyIHRoZSBleGlzdGluZyB2YWx1ZS5cclxuICAgKi9cclxuICBwdWJsaWMgc2V0Q2xlYXJPbk5leHRLZXlQcmVzcyggY2xlYXJPbk5leHRLZXlQcmVzczogYm9vbGVhbiApOiB2b2lkIHtcclxuICAgIHRoaXMua2V5QWNjdW11bGF0b3Iuc2V0Q2xlYXJPbk5leHRLZXlQcmVzcyggY2xlYXJPbk5leHRLZXlQcmVzcyApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogV2lsbCBwcmVzc2luZyBhIGtleSAoZXhjZXB0IGZvciBiYWNrc3BhY2UpIGNsZWFyIHRoZSBleGlzdGluZyB2YWx1ZT9cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0Q2xlYXJPbk5leHRLZXlQcmVzcygpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmtleUFjY3VtdWxhdG9yLmdldENsZWFyT25OZXh0S2V5UHJlc3MoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBvdmVycmlkZSBkaXNwb3NlKCk6IHZvaWQge1xyXG4gICAgdGhpcy5rZXlBY2N1bXVsYXRvci5kaXNwb3NlKCk7XHJcbiAgICB0aGlzLmJ1dHRvbk5vZGVzLmZvckVhY2goIGJ1dHRvbk5vZGUgPT4gYnV0dG9uTm9kZS5kaXNwb3NlKCkgKTtcclxuICAgIHN1cGVyLmRpc3Bvc2UoKTtcclxuICB9XHJcblxyXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgLy8gc3RhdGljIGtleXBhZCBsYXlvdXRzIC0gVGhlc2UgY2FuIGJlIHVzZWQgJ2FzIGlzJyBmb3IgY29tbW9uIGxheW91dHMgb3Igc2VydmUgYXMgZXhhbXBsZXMgZm9yIGNyZWF0aW5nIGN1c3RvbVxyXG4gIC8vIGxheW91dHMuIElmIHRoZSB2ZXJ0aWNhbCBzcGFuIGlzIGdyZWF0ZXIgdGhhbiAxLCB0aGUgY29sdW1uIGluIHRoZSBuZXh0IHJvdyhzKSBoYXMgdG8gYmUgbnVsbC4gIElmXHJcbiAgLy8gdGhlIGhvcml6b250YWwgc3BhbiBpcyBncmVhdGVyIHRoYW4gMSwgdGhlIG5leHQga2V5IGluIHRoYXQgcm93IHdpbGwgbm90IG92ZXJsYXAgYW5kIHdpbGwgYmUgcGxhY2VkIGluIHRoZSBuZXh0XHJcbiAgLy8gc3BhY2UgaW4gdGhlIGdyaWQuIElmIGEgYmxhbmsgc3BhY2UgaXMgZGVzaXJlZCwgbnVsbCBzaG91bGQgYmUgcHJvdmlkZWQuXHJcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBQb3NpdGl2ZUludGVnZXJMYXlvdXQ6IEtleXBhZExheW91dCA9IFtcclxuICAgIFsgXzcsIF84LCBfOSBdLFxyXG4gICAgWyBfNCwgXzUsIF82IF0sXHJcbiAgICBbIF8xLCBfMiwgXzMgXSxcclxuICAgIFsgV0lERV9aRVJPLCBCQUNLU1BBQ0UgXVxyXG4gIF07XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUG9zaXRpdmVEZWNpbWFsTGF5b3V0OiBLZXlwYWRMYXlvdXQgPSBbXHJcbiAgICBbIF83LCBfOCwgXzkgXSxcclxuICAgIFsgXzQsIF81LCBfNiBdLFxyXG4gICAgWyBfMSwgXzIsIF8zIF0sXHJcbiAgICBbIERFQ0lNQUwsIF8wLCBCQUNLU1BBQ0UgXVxyXG4gIF07XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUG9zaXRpdmVBbmROZWdhdGl2ZUludGVnZXJMYXlvdXQ6IEtleXBhZExheW91dCA9IFtcclxuICAgIFsgXzcsIF84LCBfOSBdLFxyXG4gICAgWyBfNCwgXzUsIF82IF0sXHJcbiAgICBbIF8xLCBfMiwgXzMgXSxcclxuICAgIFsgQkFDS1NQQUNFLCBfMCwgUExVU19NSU5VUyBdXHJcbiAgXTtcclxuXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBQb3NpdGl2ZUZsb2F0aW5nUG9pbnRMYXlvdXQ6IEtleXBhZExheW91dCA9IFtcclxuICAgIFsgXzcsIF84LCBfOSBdLFxyXG4gICAgWyBfNCwgXzUsIF82IF0sXHJcbiAgICBbIF8xLCBfMiwgXzMgXSxcclxuICAgIFsgREVDSU1BTCwgXzAsIEJBQ0tTUEFDRSBdXHJcbiAgXTtcclxuXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBQb3NpdGl2ZUFuZE5lZ2F0aXZlRmxvYXRpbmdQb2ludExheW91dDogS2V5cGFkTGF5b3V0ID0gW1xyXG4gICAgWyBfNywgXzgsIF85IF0sXHJcbiAgICBbIF80LCBfNSwgXzYgXSxcclxuICAgIFsgXzEsIF8yLCBfMyBdLFxyXG4gICAgWyBXSURFX1pFUk8sIFBMVVNfTUlOVVMgXSxcclxuICAgIFsgREVDSU1BTCwgbnVsbCwgQkFDS1NQQUNFIF1cclxuICBdO1xyXG5cclxuICAvLyBXZWlyZCBMYXlvdXQgaXMgY3JlYXRlZCBmb3IgdGVzdGluZyBwdXJwb3NlcyB0byB0ZXN0IHRoZSBlZGdlIGNhc2VzIGFuZCBsYXlvdXQgY2FwYWJpbGl0aWVzXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBXZWlyZExheW91dDogS2V5cGFkTGF5b3V0ID0gW1xyXG4gICAgWyBuZXcgS2V5KCAnMScsIEtleUlELk9ORSApLCBuZXcgS2V5KCAnMicsIEtleUlELlRXTyApLCBuZXcgS2V5KCAnMycsIEtleUlELlRIUkVFLCB7IGhvcml6b250YWxTcGFuOiAzIH0gKSBdLFxyXG4gICAgWyBudWxsLCBuZXcgS2V5KCAnNCcsIEtleUlELkZPVVIsIHsgaG9yaXpvbnRhbFNwYW46IDUgfSApIF0sXHJcbiAgICBbIG5ldyBLZXkoICc1JywgS2V5SUQuRklWRSwgeyB2ZXJ0aWNhbFNwYW46IDIgfSApLCBuZXcgS2V5KCAnNicsIEtleUlELlNJWCApLCBuZXcgS2V5KCAnNycsIEtleUlELlNFVkVOICkgXSxcclxuICAgIFsgbnVsbCwgbmV3IEtleSggJzgnLCBLZXlJRC5FSUdIVCApLCBuZXcgS2V5KCAnOScsIEtleUlELk5JTkUgKSBdLFxyXG4gICAgWyBudWxsLCBuZXcgS2V5KCAnMCcsIEtleUlELlpFUk8sIHsgaG9yaXpvbnRhbFNwYW46IDIsIHZlcnRpY2FsU3BhbjogMiB9ICkgXVxyXG4gIF07XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZXzAgPSBfMDtcclxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWV8xID0gXzE7XHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlfMiA9IF8yO1xyXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZXzMgPSBfMztcclxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWV80ID0gXzQ7XHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlfNSA9IF81O1xyXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZXzYgPSBfNjtcclxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWV83ID0gXzc7XHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlfOCA9IF84O1xyXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZXzkgPSBfOTtcclxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEtFWV9XSURFX1pFUk8gPSBXSURFX1pFUk87XHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlfREVDSU1BTCA9IERFQ0lNQUw7XHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBLRVlfQkFDS1NQQUNFID0gQkFDS1NQQUNFO1xyXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgS0VZX1BMVVNfTUlOVVMgPSBQTFVTX01JTlVTO1xyXG59XHJcblxyXG4vKipcclxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgZGlzcGxheSBrZXkgbm9kZSBmb3IgdGhlIHByb3ZpZGVkIGtleSBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUtleU5vZGUoXHJcbiAga2V5T2JqZWN0OiBLZXksXHJcbiAga2V5QWNjdW11bGF0b3I6IEFic3RyYWN0S2V5QWNjdW11bGF0b3IsXHJcbiAgd2lkdGg6IG51bWJlcixcclxuICBoZWlnaHQ6IG51bWJlcixcclxuICBrZXlQYWRUYW5kZW06IFRhbmRlbSxcclxuICBvcHRpb25zOiBQaWNrUmVxdWlyZWQ8U2VsZk9wdGlvbnMsICdidXR0b25Db2xvcicgfCAnYnV0dG9uRm9udCcgfCAndG91Y2hBcmVhWERpbGF0aW9uJyB8ICd0b3VjaEFyZWFZRGlsYXRpb24nPlxyXG4pOiBSZWN0YW5ndWxhclB1c2hCdXR0b24ge1xyXG5cclxuICAvLyBXcmFwcGluZyB0aGUga2V5T2JqZWN0J3MgbGFiZWwgc28gdGhhdCB3ZSdyZSBub3QgREFHJ2luZyB0aGlzIGJhZGx5IGFuZCBjYXVzaW5nIGluZmluaXRlIGxvb3BzXHJcbiAgY29uc3QgY29udGVudCA9ICgga2V5T2JqZWN0LmxhYmVsIGluc3RhbmNlb2YgTm9kZSApID8gbmV3IE5vZGUoIHsgY2hpbGRyZW46IFsga2V5T2JqZWN0LmxhYmVsIF0gfSApIDpcclxuICAgICAgICAgICAgICAgICAgbmV3IFRleHQoIGtleU9iamVjdC5sYWJlbCwgeyBmb250OiBvcHRpb25zLmJ1dHRvbkZvbnQgfSApO1xyXG5cclxuICBjb25zdCBrZXlOb2RlID0gbmV3IFJlY3Rhbmd1bGFyUHVzaEJ1dHRvbigge1xyXG4gICAgY29udGVudDogY29udGVudCxcclxuICAgIGJhc2VDb2xvcjogb3B0aW9ucy5idXR0b25Db2xvcixcclxuICAgIHRvdWNoQXJlYVhEaWxhdGlvbjogb3B0aW9ucy50b3VjaEFyZWFYRGlsYXRpb24sXHJcbiAgICB0b3VjaEFyZWFZRGlsYXRpb246IG9wdGlvbnMudG91Y2hBcmVhWURpbGF0aW9uLFxyXG4gICAgbWluV2lkdGg6IHdpZHRoLFxyXG4gICAgbWluSGVpZ2h0OiBoZWlnaHQsXHJcbiAgICB4TWFyZ2luOiA1LFxyXG4gICAgeU1hcmdpbjogNSxcclxuICAgIGxpc3RlbmVyOiAoKSA9PiBrZXlBY2N1bXVsYXRvci5oYW5kbGVLZXlQcmVzc2VkKCBrZXlPYmplY3QuaWRlbnRpZmllciApLFxyXG5cclxuICAgIC8vIHBkb21cclxuICAgIC8vIGFsdCBpbnB1dCBpcyBoYW5kbGVkIGFzIGEgd2hvbGUga2V5cGFkLCBzbyByZW1vdmUgdGhlc2UgaW5kaXZpZHVhbCBrZXlzIGZyb20gdGhlIGtleXBhZCBpZiBjb3ZlcmVkIGJ5IHRoZSBLZXlib2FyZExpc3RlbmVyLlxyXG4gICAgdGFnTmFtZToga2V5T2JqZWN0LmtleWJvYXJkSWRlbnRpZmllcnMubGVuZ3RoID09PSAwID8gJ2J1dHRvbicgOiBudWxsLCAvLyBEdXBsaWNhdGVkIHRhZ05hbWUgd2l0aCBgQnV0dG9uTm9kZWBcclxuXHJcbiAgICAvLyBwaGV0LWlvXHJcbiAgICB0YW5kZW06IGtleVBhZFRhbmRlbS5jcmVhdGVUYW5kZW0oIGtleU9iamVjdC5idXR0b25UYW5kZW1OYW1lIClcclxuICB9ICk7XHJcbiAga2V5Tm9kZS5kaXNwb3NlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAvLyBSZWxlYXNlIHRoZSByZWZlcmVuY2UgdG8gdGhlIGtleVxyXG4gICAgY29udGVudC5kaXNwb3NlKCk7XHJcblxyXG4gICAgUmVjdGFuZ3VsYXJQdXNoQnV0dG9uLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwoIHRoaXMgKTtcclxuICB9O1xyXG4gIGtleU5vZGUuc2NhbGUoIHdpZHRoIC8ga2V5Tm9kZS53aWR0aCwgaGVpZ2h0IC8ga2V5Tm9kZS5oZWlnaHQgKTtcclxuICByZXR1cm4ga2V5Tm9kZTtcclxufVxyXG5cclxuc2NlbmVyeVBoZXQucmVnaXN0ZXIoICdLZXlwYWQnLCBLZXlwYWQgKTtcclxuZXhwb3J0IGRlZmF1bHQgS2V5cGFkOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLEtBQUssTUFBTSxnQ0FB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