// Copyright 2017-2024, University of Colorado Boulder

/**
 * Content for a KeyboardHelpDialog that describes how to use sliders.
 *
 * @author Jesse Greenberg
 */

import PatternStringProperty from '../../../../axon/js/PatternStringProperty.js';
import Enumeration from '../../../../phet-core/js/Enumeration.js';
import EnumerationValue from '../../../../phet-core/js/EnumerationValue.js';
import optionize from '../../../../phet-core/js/optionize.js';
import { HBox } from '../../../../scenery/js/imports.js';
import sceneryPhet from '../../sceneryPhet.js';
import SceneryPhetStrings from '../../SceneryPhetStrings.js';
import TextKeyNode from '../TextKeyNode.js';
import KeyboardHelpIconFactory from './KeyboardHelpIconFactory.js';
import KeyboardHelpSection from './KeyboardHelpSection.js';
import KeyboardHelpSectionRow from './KeyboardHelpSectionRow.js';
import Tandem from '../../../../tandem/js/Tandem.js';
import assertMutuallyExclusiveOptions from '../../../../phet-core/js/assertMutuallyExclusiveOptions.js';

// Configurations of arrow keys that can be displayed for 'Move between items in a group'
class ArrowKeyIconDisplay extends EnumerationValue {
  static UP_DOWN = new ArrowKeyIconDisplay();
  static LEFT_RIGHT = new ArrowKeyIconDisplay();
  static BOTH = new ArrowKeyIconDisplay();
  static enumeration = new Enumeration(ArrowKeyIconDisplay);
}
export default class SliderControlsKeyboardHelpSection extends KeyboardHelpSection {
  static ArrowKeyIconDisplay = ArrowKeyIconDisplay;
  constructor(providedOptions) {
    // If you provide a string for the verb or slider, it will be filled into the default pattern
    // for all rows so you cannot customize each row individually.
    assert && assertMutuallyExclusiveOptions(providedOptions, ['verbStringProperty', 'sliderStringProperty'], ['adjustSliderStringProperty', 'adjustInSmallerStepsStringProperty', 'adjustInLargerStepsStringProperty']);
    const options = optionize()({
      arrowKeyIconDisplay: ArrowKeyIconDisplay.BOTH,
      headingStringProperty: SceneryPhetStrings.keyboardHelpDialog.sliderControlsStringProperty,
      verbStringProperty: SceneryPhetStrings.keyboardHelpDialog.adjustStringProperty,
      sliderStringProperty: SceneryPhetStrings.keyboardHelpDialog.sliderStringProperty,
      maximumStringProperty: SceneryPhetStrings.keyboardHelpDialog.maximumStringProperty,
      minimumStringProperty: SceneryPhetStrings.keyboardHelpDialog.minimumStringProperty,
      adjustSliderStringProperty: SceneryPhetStrings.keyboardHelpDialog.adjustSliderStringProperty,
      adjustInSmallerStepsStringProperty: SceneryPhetStrings.keyboardHelpDialog.adjustInSmallerStepsStringProperty,
      adjustInLargerStepsStringProperty: SceneryPhetStrings.keyboardHelpDialog.adjustInLargerStepsStringProperty,
      includeSmallerStepsRow: true,
      includeLargerStepsRow: true
    }, providedOptions);
    let adjustSliderStringProperty = options.adjustSliderStringProperty;
    let adjustInSmallerStepsStringProperty = options.adjustInSmallerStepsStringProperty;
    let adjustInLargerStepsStringProperty = options.adjustInLargerStepsStringProperty;
    if (options.verbStringProperty !== SceneryPhetStrings.keyboardHelpDialog.adjustStringProperty || options.sliderStringProperty !== SceneryPhetStrings.keyboardHelpDialog.sliderStringProperty) {
      // we are filling in the verb and name
      adjustSliderStringProperty = new PatternStringProperty(SceneryPhetStrings.keyboardHelpDialog.verbSliderPatternStringProperty, {
        verb: options.verbStringProperty,
        slider: options.sliderStringProperty
      }, {
        tandem: Tandem.OPT_OUT
      });
      adjustInSmallerStepsStringProperty = new PatternStringProperty(SceneryPhetStrings.keyboardHelpDialog.verbInSmallerStepsPatternStringProperty, {
        verb: options.verbStringProperty
      }, {
        tandem: Tandem.OPT_OUT
      });
      adjustInLargerStepsStringProperty = new PatternStringProperty(SceneryPhetStrings.keyboardHelpDialog.verbInLargerStepsPatternStringProperty, {
        verb: options.verbStringProperty
      }, {
        tandem: Tandem.OPT_OUT
      });
    }
    const keysStringProperty = options.arrowKeyIconDisplay === ArrowKeyIconDisplay.LEFT_RIGHT ? SceneryPhetStrings.a11y.keyboardHelpDialog.slider.leftRightArrowKeysStringProperty : options.arrowKeyIconDisplay === ArrowKeyIconDisplay.UP_DOWN ? SceneryPhetStrings.a11y.keyboardHelpDialog.slider.upDownArrowKeysStringProperty : options.arrowKeyIconDisplay === ArrowKeyIconDisplay.BOTH ? new PatternStringProperty(SceneryPhetStrings.a11y.keyboardHelpDialog.slider.orKeysPatternStringProperty, {
      leftRight: SceneryPhetStrings.a11y.keyboardHelpDialog.slider.leftRightArrowKeysStringProperty,
      upDown: SceneryPhetStrings.a11y.keyboardHelpDialog.slider.upDownArrowKeysStringProperty
    }, {
      tandem: Tandem.OPT_OUT
    }) : null;
    assert && assert(keysStringProperty);
    const keyboardHelpDialogDefaultStepsStringProperty = new PatternStringProperty(SceneryPhetStrings.a11y.keyboardHelpDialog.slider.defaultStepsDescriptionPatternStringProperty, {
      verb: options.verbStringProperty,
      slider: options.sliderStringProperty,
      keys: keysStringProperty
    }, {
      tandem: Tandem.OPT_OUT
    });
    const shiftKeysStringProperty = options.arrowKeyIconDisplay === ArrowKeyIconDisplay.LEFT_RIGHT ? SceneryPhetStrings.a11y.keyboardHelpDialog.slider.shiftLeftRightArrowKeysStringProperty : options.arrowKeyIconDisplay === ArrowKeyIconDisplay.UP_DOWN ? SceneryPhetStrings.a11y.keyboardHelpDialog.slider.shiftUpDownArrowKeysStringProperty : options.arrowKeyIconDisplay === ArrowKeyIconDisplay.BOTH ? new PatternStringProperty(SceneryPhetStrings.a11y.keyboardHelpDialog.slider.orKeysPatternStringProperty, {
      leftRight: SceneryPhetStrings.a11y.keyboardHelpDialog.slider.shiftLeftRightArrowKeysStringProperty,
      upDown: SceneryPhetStrings.a11y.keyboardHelpDialog.slider.shiftUpDownArrowKeysStringProperty
    }, {
      tandem: Tandem.OPT_OUT
    }) : null;
    assert && assert(shiftKeysStringProperty);
    const keyboardHelpDialogSmallerStepsStringProperty = new PatternStringProperty(SceneryPhetStrings.a11y.keyboardHelpDialog.slider.smallerStepsDescriptionPatternStringProperty, {
      verb: options.verbStringProperty,
      keys: shiftKeysStringProperty
    }, {
      tandem: Tandem.OPT_OUT
    });
    const keyboardHelpDialogLargerStepsStringProperty = new PatternStringProperty(SceneryPhetStrings.a11y.keyboardHelpDialog.slider.largerStepsDescriptionPatternStringProperty, {
      verb: options.verbStringProperty
    }, {
      tandem: Tandem.OPT_OUT
    });
    const jumpToMinimumStringProperty = new PatternStringProperty(SceneryPhetStrings.keyboardHelpDialog.jumpToMinimumPatternStringProperty, {
      minimum: options.minimumStringProperty
    }, {
      tandem: Tandem.OPT_OUT
    });
    const jumpToMaximumStringProperty = new PatternStringProperty(SceneryPhetStrings.keyboardHelpDialog.jumpToMaximumPatternStringProperty, {
      maximum: options.maximumStringProperty
    }, {
      tandem: Tandem.OPT_OUT
    });
    const jumpToMinimumDescriptionStringProperty = new PatternStringProperty(SceneryPhetStrings.a11y.keyboardHelpDialog.slider.jumpToMinimumDescriptionPatternStringProperty, {
      minimum: options.minimumStringProperty
    }, {
      tandem: Tandem.OPT_OUT
    });
    const jumpToMaximumDescriptionStringProperty = new PatternStringProperty(SceneryPhetStrings.a11y.keyboardHelpDialog.slider.jumpToMaximumDescriptionPatternStringProperty, {
      maximum: options.maximumStringProperty
    }, {
      tandem: Tandem.OPT_OUT
    });

    // 'Move sliders' content

    const leftRightArrowKeysRowIcon = KeyboardHelpIconFactory.leftRightArrowKeysRowIcon();
    const shiftPlusLeftRightIcon = KeyboardHelpIconFactory.shiftPlusIcon(leftRightArrowKeysRowIcon);
    const upDownArrowKeysRowIcon = KeyboardHelpIconFactory.upDownArrowKeysRowIcon();
    const shiftPlusUpDownIcon = KeyboardHelpIconFactory.shiftPlusIcon(upDownArrowKeysRowIcon);
    const leftRightOrUpDownIcon = KeyboardHelpIconFactory.iconOrIcon(leftRightArrowKeysRowIcon, upDownArrowKeysRowIcon);
    let adjustSliderIcon = null;
    let adjustSliderSmallerStepsIcons = null;
    switch (options.arrowKeyIconDisplay) {
      case ArrowKeyIconDisplay.LEFT_RIGHT:
        adjustSliderIcon = leftRightArrowKeysRowIcon;
        adjustSliderSmallerStepsIcons = [shiftPlusLeftRightIcon];
        break;
      case ArrowKeyIconDisplay.UP_DOWN:
        adjustSliderIcon = upDownArrowKeysRowIcon;
        adjustSliderSmallerStepsIcons = [shiftPlusUpDownIcon];
        break;
      default:
        assert && assert(options.arrowKeyIconDisplay === ArrowKeyIconDisplay.BOTH, 'unsupported arrowKeyIconDisplay');
        adjustSliderIcon = leftRightOrUpDownIcon;
        adjustSliderSmallerStepsIcons = [shiftPlusLeftRightIcon, shiftPlusUpDownIcon];
    }
    const adjustSliderRow = KeyboardHelpSectionRow.labelWithIcon(adjustSliderStringProperty, adjustSliderIcon, {
      labelInnerContent: keyboardHelpDialogDefaultStepsStringProperty
    });
    const adjustSliderInSmallerStepsRow = KeyboardHelpSectionRow.labelWithIconList(adjustInSmallerStepsStringProperty, adjustSliderSmallerStepsIcons, {
      labelInnerContent: keyboardHelpDialogSmallerStepsStringProperty
    });

    // 'move in larger steps' content
    const pageUpKeyNode = TextKeyNode.pageUp();
    const pageDownKeyNode = TextKeyNode.pageDown();
    const pageUpPageDownIcon = new HBox({
      children: [pageUpKeyNode, pageDownKeyNode],
      spacing: KeyboardHelpIconFactory.DEFAULT_ICON_SPACING
    });
    const adjustInLargerStepsRow = KeyboardHelpSectionRow.labelWithIcon(adjustInLargerStepsStringProperty, pageUpPageDownIcon, {
      labelInnerContent: keyboardHelpDialogLargerStepsStringProperty
    });

    // 'move to minimum value' content
    const homeKeyNode = TextKeyNode.home();
    const jumpToMinimumRow = KeyboardHelpSectionRow.labelWithIcon(jumpToMinimumStringProperty, homeKeyNode, {
      labelInnerContent: jumpToMinimumDescriptionStringProperty
    });

    // 'move to maximum value' content
    const endKeyNode = TextKeyNode.end();
    const jumpToMaximumRow = KeyboardHelpSectionRow.labelWithIcon(jumpToMaximumStringProperty, endKeyNode, {
      labelInnerContent: jumpToMaximumDescriptionStringProperty
    });

    // assemble final content for KeyboardHelpSection
    const content = [adjustSliderRow, ...(options.includeSmallerStepsRow ? [adjustSliderInSmallerStepsRow] : []), ...(options.includeLargerStepsRow ? [adjustInLargerStepsRow] : []), jumpToMinimumRow, jumpToMaximumRow];
    super(options.headingStringProperty, content, options);
  }
}
sceneryPhet.register('SliderControlsKeyboardHelpSection', SliderControlsKeyboardHelpSection);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJFbnVtZXJhdGlvbiIsIkVudW1lcmF0aW9uVmFsdWUiLCJvcHRpb25pemUiLCJIQm94Iiwic2NlbmVyeVBoZXQiLCJTY2VuZXJ5UGhldFN0cmluZ3MiLCJUZXh0S2V5Tm9kZSIsIktleWJvYXJkSGVscEljb25GYWN0b3J5IiwiS2V5Ym9hcmRIZWxwU2VjdGlvbiIsIktleWJvYXJkSGVscFNlY3Rpb25Sb3ciLCJUYW5kZW0iLCJhc3NlcnRNdXR1YWxseUV4Y2x1c2l2ZU9wdGlvbnMiLCJBcnJvd0tleUljb25EaXNwbGF5IiwiVVBfRE9XTiIsIkxFRlRfUklHSFQiLCJCT1RIIiwiZW51bWVyYXRpb24iLCJTbGlkZXJDb250cm9sc0tleWJvYXJkSGVscFNlY3Rpb24iLCJjb25zdHJ1Y3RvciIsInByb3ZpZGVkT3B0aW9ucyIsImFzc2VydCIsIm9wdGlvbnMiLCJhcnJvd0tleUljb25EaXNwbGF5IiwiaGVhZGluZ1N0cmluZ1Byb3BlcnR5Iiwia2V5Ym9hcmRIZWxwRGlhbG9nIiwic2xpZGVyQ29udHJvbHNTdHJpbmdQcm9wZXJ0eSIsInZlcmJTdHJpbmdQcm9wZXJ0eSIsImFkanVzdFN0cmluZ1Byb3BlcnR5Iiwic2xpZGVyU3RyaW5nUHJvcGVydHkiLCJtYXhpbXVtU3RyaW5nUHJvcGVydHkiLCJtaW5pbXVtU3RyaW5nUHJvcGVydHkiLCJhZGp1c3RTbGlkZXJTdHJpbmdQcm9wZXJ0eSIsImFkanVzdEluU21hbGxlclN0ZXBzU3RyaW5nUHJvcGVydHkiLCJhZGp1c3RJbkxhcmdlclN0ZXBzU3RyaW5nUHJvcGVydHkiLCJpbmNsdWRlU21hbGxlclN0ZXBzUm93IiwiaW5jbHVkZUxhcmdlclN0ZXBzUm93IiwidmVyYlNsaWRlclBhdHRlcm5TdHJpbmdQcm9wZXJ0eSIsInZlcmIiLCJzbGlkZXIiLCJ0YW5kZW0iLCJPUFRfT1VUIiwidmVyYkluU21hbGxlclN0ZXBzUGF0dGVyblN0cmluZ1Byb3BlcnR5IiwidmVyYkluTGFyZ2VyU3RlcHNQYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJrZXlzU3RyaW5nUHJvcGVydHkiLCJhMTF5IiwibGVmdFJpZ2h0QXJyb3dLZXlzU3RyaW5nUHJvcGVydHkiLCJ1cERvd25BcnJvd0tleXNTdHJpbmdQcm9wZXJ0eSIsIm9yS2V5c1BhdHRlcm5TdHJpbmdQcm9wZXJ0eSIsImxlZnRSaWdodCIsInVwRG93biIsImtleWJvYXJkSGVscERpYWxvZ0RlZmF1bHRTdGVwc1N0cmluZ1Byb3BlcnR5IiwiZGVmYXVsdFN0ZXBzRGVzY3JpcHRpb25QYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJrZXlzIiwic2hpZnRLZXlzU3RyaW5nUHJvcGVydHkiLCJzaGlmdExlZnRSaWdodEFycm93S2V5c1N0cmluZ1Byb3BlcnR5Iiwic2hpZnRVcERvd25BcnJvd0tleXNTdHJpbmdQcm9wZXJ0eSIsImtleWJvYXJkSGVscERpYWxvZ1NtYWxsZXJTdGVwc1N0cmluZ1Byb3BlcnR5Iiwic21hbGxlclN0ZXBzRGVzY3JpcHRpb25QYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJrZXlib2FyZEhlbHBEaWFsb2dMYXJnZXJTdGVwc1N0cmluZ1Byb3BlcnR5IiwibGFyZ2VyU3RlcHNEZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eSIsImp1bXBUb01pbmltdW1TdHJpbmdQcm9wZXJ0eSIsImp1bXBUb01pbmltdW1QYXR0ZXJuU3RyaW5nUHJvcGVydHkiLCJtaW5pbXVtIiwianVtcFRvTWF4aW11bVN0cmluZ1Byb3BlcnR5IiwianVtcFRvTWF4aW11bVBhdHRlcm5TdHJpbmdQcm9wZXJ0eSIsIm1heGltdW0iLCJqdW1wVG9NaW5pbXVtRGVzY3JpcHRpb25TdHJpbmdQcm9wZXJ0eSIsImp1bXBUb01pbmltdW1EZXNjcmlwdGlvblBhdHRlcm5TdHJpbmdQcm9wZXJ0eSIsImp1bXBUb01heGltdW1EZXNjcmlwdGlvblN0cmluZ1Byb3BlcnR5IiwianVtcFRvTWF4aW11bURlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5IiwibGVmdFJpZ2h0QXJyb3dLZXlzUm93SWNvbiIsInNoaWZ0UGx1c0xlZnRSaWdodEljb24iLCJzaGlmdFBsdXNJY29uIiwidXBEb3duQXJyb3dLZXlzUm93SWNvbiIsInNoaWZ0UGx1c1VwRG93bkljb24iLCJsZWZ0UmlnaHRPclVwRG93bkljb24iLCJpY29uT3JJY29uIiwiYWRqdXN0U2xpZGVySWNvbiIsImFkanVzdFNsaWRlclNtYWxsZXJTdGVwc0ljb25zIiwiYWRqdXN0U2xpZGVyUm93IiwibGFiZWxXaXRoSWNvbiIsImxhYmVsSW5uZXJDb250ZW50IiwiYWRqdXN0U2xpZGVySW5TbWFsbGVyU3RlcHNSb3ciLCJsYWJlbFdpdGhJY29uTGlzdCIsInBhZ2VVcEtleU5vZGUiLCJwYWdlVXAiLCJwYWdlRG93bktleU5vZGUiLCJwYWdlRG93biIsInBhZ2VVcFBhZ2VEb3duSWNvbiIsImNoaWxkcmVuIiwic3BhY2luZyIsIkRFRkFVTFRfSUNPTl9TUEFDSU5HIiwiYWRqdXN0SW5MYXJnZXJTdGVwc1JvdyIsImhvbWVLZXlOb2RlIiwiaG9tZSIsImp1bXBUb01pbmltdW1Sb3ciLCJlbmRLZXlOb2RlIiwiZW5kIiwianVtcFRvTWF4aW11bVJvdyIsImNvbnRlbnQiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbIlNsaWRlckNvbnRyb2xzS2V5Ym9hcmRIZWxwU2VjdGlvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxNy0yMDI0LCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBDb250ZW50IGZvciBhIEtleWJvYXJkSGVscERpYWxvZyB0aGF0IGRlc2NyaWJlcyBob3cgdG8gdXNlIHNsaWRlcnMuXHJcbiAqXHJcbiAqIEBhdXRob3IgSmVzc2UgR3JlZW5iZXJnXHJcbiAqL1xyXG5cclxuaW1wb3J0IFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1BhdHRlcm5TdHJpbmdQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBUUmVhZE9ubHlQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi8uLi9heG9uL2pzL1RSZWFkT25seVByb3BlcnR5LmpzJztcclxuaW1wb3J0IEVudW1lcmF0aW9uIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9FbnVtZXJhdGlvbi5qcyc7XHJcbmltcG9ydCBFbnVtZXJhdGlvblZhbHVlIGZyb20gJy4uLy4uLy4uLy4uL3BoZXQtY29yZS9qcy9FbnVtZXJhdGlvblZhbHVlLmpzJztcclxuaW1wb3J0IG9wdGlvbml6ZSBmcm9tICcuLi8uLi8uLi8uLi9waGV0LWNvcmUvanMvb3B0aW9uaXplLmpzJztcclxuaW1wb3J0IHsgSEJveCB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBzY2VuZXJ5UGhldCBmcm9tICcuLi8uLi9zY2VuZXJ5UGhldC5qcyc7XHJcbmltcG9ydCBTY2VuZXJ5UGhldFN0cmluZ3MgZnJvbSAnLi4vLi4vU2NlbmVyeVBoZXRTdHJpbmdzLmpzJztcclxuaW1wb3J0IFRleHRLZXlOb2RlIGZyb20gJy4uL1RleHRLZXlOb2RlLmpzJztcclxuaW1wb3J0IEtleWJvYXJkSGVscEljb25GYWN0b3J5IGZyb20gJy4vS2V5Ym9hcmRIZWxwSWNvbkZhY3RvcnkuanMnO1xyXG5pbXBvcnQgS2V5Ym9hcmRIZWxwU2VjdGlvbiwgeyBLZXlib2FyZEhlbHBTZWN0aW9uT3B0aW9ucyB9IGZyb20gJy4vS2V5Ym9hcmRIZWxwU2VjdGlvbi5qcyc7XHJcbmltcG9ydCBLZXlib2FyZEhlbHBTZWN0aW9uUm93IGZyb20gJy4vS2V5Ym9hcmRIZWxwU2VjdGlvblJvdy5qcyc7XHJcbmltcG9ydCBUYW5kZW0gZnJvbSAnLi4vLi4vLi4vLi4vdGFuZGVtL2pzL1RhbmRlbS5qcyc7XHJcbmltcG9ydCBhc3NlcnRNdXR1YWxseUV4Y2x1c2l2ZU9wdGlvbnMgZnJvbSAnLi4vLi4vLi4vLi4vcGhldC1jb3JlL2pzL2Fzc2VydE11dHVhbGx5RXhjbHVzaXZlT3B0aW9ucy5qcyc7XHJcblxyXG4vLyBDb25maWd1cmF0aW9ucyBvZiBhcnJvdyBrZXlzIHRoYXQgY2FuIGJlIGRpc3BsYXllZCBmb3IgJ01vdmUgYmV0d2VlbiBpdGVtcyBpbiBhIGdyb3VwJ1xyXG5jbGFzcyBBcnJvd0tleUljb25EaXNwbGF5IGV4dGVuZHMgRW51bWVyYXRpb25WYWx1ZSB7XHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBVUF9ET1dOID0gbmV3IEFycm93S2V5SWNvbkRpc3BsYXkoKTtcclxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IExFRlRfUklHSFQgPSBuZXcgQXJyb3dLZXlJY29uRGlzcGxheSgpO1xyXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQk9USCA9IG5ldyBBcnJvd0tleUljb25EaXNwbGF5KCk7XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgZW51bWVyYXRpb24gPSBuZXcgRW51bWVyYXRpb24oIEFycm93S2V5SWNvbkRpc3BsYXkgKTtcclxufVxyXG5cclxudHlwZSBTZWxmT3B0aW9ucyA9IHtcclxuXHJcbiAgLy8gV2hldGhlciB0byBzaG93IHVwL2Rvd24sIGxlZnQvcmlnaHQgb3IgYm90aCBzZXRzIG9mIGtleWJvYXJkIGhlbHAgaWNvbnMgdG8gY3VlIHRoZSBzbGlkZXIgaW50ZXJhY3Rpb24uXHJcbiAgYXJyb3dLZXlJY29uRGlzcGxheT86IEFycm93S2V5SWNvbkRpc3BsYXk7XHJcblxyXG4gIC8vIGhlYWRpbmcgc3RyaW5nIGZvciB0aGlzIGNvbnRlbnRcclxuICBoZWFkaW5nU3RyaW5nUHJvcGVydHk/OiBUUmVhZE9ubHlQcm9wZXJ0eTxzdHJpbmc+O1xyXG5cclxuICAvLyBjdXN0b20gc3RyaW5nIGZvciB0aGUgXCJBZGp1c3QgU2xpZGVyXCIgcm93XHJcbiAgYWRqdXN0U2xpZGVyU3RyaW5nUHJvcGVydHk/OiBUUmVhZE9ubHlQcm9wZXJ0eTxzdHJpbmc+O1xyXG5cclxuICAvLyBjdXN0b20gc3RyaW5nIGZvciB0aGUgXCJBZGp1c3QgaW4gU21hbGxlciBTdGVwc1wiIHJvd1xyXG4gIGFkanVzdEluU21hbGxlclN0ZXBzU3RyaW5nUHJvcGVydHk/OiBUUmVhZE9ubHlQcm9wZXJ0eTxzdHJpbmc+O1xyXG5cclxuICAvLyBjdXN0b20gc3RyaW5nIGZvciB0aGUgXCJBZGp1c3QgaW4gTGFyZ2VyIFN0ZXBzXCIgcm93XHJcbiAgYWRqdXN0SW5MYXJnZXJTdGVwc1N0cmluZ1Byb3BlcnR5PzogVFJlYWRPbmx5UHJvcGVydHk8c3RyaW5nPjtcclxuXHJcbiAgLy8gdmVyYiB1c2VkIHRvIGRlc2NyaWJlIHRoZSBtb3ZlbWVudCBvZiB0aGUgc2xpZGVyIC0gdGhpcyB3aWxsIGJlIGZpbGxlZCBpbnRvIHRoZSBkZWZhdWx0IHBhdHRlcm4gZm9yXHJcbiAgLy8gZWFjaCByb3cgc28geW91IGNhbm5vdCB1c2UgdGhpcyBhbmQgdGhlIG90aGVyIHN0cmluZyBvcHRpb25zIGF0IHRoZSBzYW1lIHRpbWVcclxuICB2ZXJiU3RyaW5nUHJvcGVydHk/OiBUUmVhZE9ubHlQcm9wZXJ0eTxzdHJpbmc+O1xyXG5cclxuICAvLyBuYW1lIHRvIGNhbGwgdGhlIHNsaWRlciAobG93ZXJjYXNlKSwgZGVmYXVsdCB0byBcInNsaWRlclwiIC0gdGhpcyB3aWxsIGJlIGZpbGxlZCBpbnRvIHRoZSBkZWZhdWx0IHBhdHRlcm4gZm9yXHJcbiAgLy8gZWFjaCByb3cgc28geW91IGNhbm5vdCB1c2UgdGhpcyBhbmQgdGhlIG90aGVyIHN0cmluZyBvcHRpb25zIGF0IHRoZSBzYW1lIHRpbWVcclxuICBzbGlkZXJTdHJpbmdQcm9wZXJ0eT86IFRSZWFkT25seVByb3BlcnR5PHN0cmluZz47XHJcblxyXG4gIC8vIFN0cmluZ3MgZm9yIGV4dHJlbWl0aWVzIHRvIHN1cHBvcnQgc2hvcnRjdXRzIGxpa2UgXCJqdW1wIHRvIG1heGltdW1cIiAocmVuYW1pbmcgXCJtYXhpbXVtXCIgaWYgZGVzaXJlZC5cclxuICBtYXhpbXVtU3RyaW5nUHJvcGVydHk/OiBUUmVhZE9ubHlQcm9wZXJ0eTxzdHJpbmc+O1xyXG4gIG1pbmltdW1TdHJpbmdQcm9wZXJ0eT86IFRSZWFkT25seVByb3BlcnR5PHN0cmluZz47XHJcblxyXG4gIC8vIERldGVybWluZXMgd2hldGhlciB0aGlzIGtleWJvYXJkIGhlbHAgc2VjdGlvbiB3aWxsIGhhdmUgdGhlIFwiQWRqdXN0IGluIFNtYWxsZXIgU3RlcHNcIiByb3cuXHJcbiAgaW5jbHVkZVNtYWxsZXJTdGVwc1Jvdz86IGJvb2xlYW47XHJcblxyXG4gIC8vIERldGVybWluZXMgd2hldGhlciB0aGlzIGtleWJvYXJkIGhlbHAgc2VjdGlvbiB3aWxsIGhhdmUgdGhlIFwiQWRqdXN0IGluIExhcmdlciBTdGVwc1wiIHJvdy5cclxuICBpbmNsdWRlTGFyZ2VyU3RlcHNSb3c/OiBib29sZWFuO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgU2xpZGVyQ29udHJvbHNLZXlib2FyZEhlbHBTZWN0aW9uT3B0aW9ucyA9IFNlbGZPcHRpb25zICYgS2V5Ym9hcmRIZWxwU2VjdGlvbk9wdGlvbnM7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTbGlkZXJDb250cm9sc0tleWJvYXJkSGVscFNlY3Rpb24gZXh0ZW5kcyBLZXlib2FyZEhlbHBTZWN0aW9uIHtcclxuXHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBBcnJvd0tleUljb25EaXNwbGF5ID0gQXJyb3dLZXlJY29uRGlzcGxheTtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCBwcm92aWRlZE9wdGlvbnM/OiBTbGlkZXJDb250cm9sc0tleWJvYXJkSGVscFNlY3Rpb25PcHRpb25zICkge1xyXG5cclxuICAgIC8vIElmIHlvdSBwcm92aWRlIGEgc3RyaW5nIGZvciB0aGUgdmVyYiBvciBzbGlkZXIsIGl0IHdpbGwgYmUgZmlsbGVkIGludG8gdGhlIGRlZmF1bHQgcGF0dGVyblxyXG4gICAgLy8gZm9yIGFsbCByb3dzIHNvIHlvdSBjYW5ub3QgY3VzdG9taXplIGVhY2ggcm93IGluZGl2aWR1YWxseS5cclxuICAgIGFzc2VydCAmJiBhc3NlcnRNdXR1YWxseUV4Y2x1c2l2ZU9wdGlvbnMoIHByb3ZpZGVkT3B0aW9ucyxcclxuICAgICAgWyAndmVyYlN0cmluZ1Byb3BlcnR5JywgJ3NsaWRlclN0cmluZ1Byb3BlcnR5JyBdLFxyXG4gICAgICBbICdhZGp1c3RTbGlkZXJTdHJpbmdQcm9wZXJ0eScsICdhZGp1c3RJblNtYWxsZXJTdGVwc1N0cmluZ1Byb3BlcnR5JywgJ2FkanVzdEluTGFyZ2VyU3RlcHNTdHJpbmdQcm9wZXJ0eScgXSApO1xyXG5cclxuICAgIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25pemU8U2xpZGVyQ29udHJvbHNLZXlib2FyZEhlbHBTZWN0aW9uT3B0aW9ucywgU2VsZk9wdGlvbnMsIEtleWJvYXJkSGVscFNlY3Rpb25PcHRpb25zPigpKCB7XHJcbiAgICAgIGFycm93S2V5SWNvbkRpc3BsYXk6IEFycm93S2V5SWNvbkRpc3BsYXkuQk9USCxcclxuICAgICAgaGVhZGluZ1N0cmluZ1Byb3BlcnR5OiBTY2VuZXJ5UGhldFN0cmluZ3Mua2V5Ym9hcmRIZWxwRGlhbG9nLnNsaWRlckNvbnRyb2xzU3RyaW5nUHJvcGVydHksXHJcblxyXG4gICAgICB2ZXJiU3RyaW5nUHJvcGVydHk6IFNjZW5lcnlQaGV0U3RyaW5ncy5rZXlib2FyZEhlbHBEaWFsb2cuYWRqdXN0U3RyaW5nUHJvcGVydHksXHJcbiAgICAgIHNsaWRlclN0cmluZ1Byb3BlcnR5OiBTY2VuZXJ5UGhldFN0cmluZ3Mua2V5Ym9hcmRIZWxwRGlhbG9nLnNsaWRlclN0cmluZ1Byb3BlcnR5LFxyXG4gICAgICBtYXhpbXVtU3RyaW5nUHJvcGVydHk6IFNjZW5lcnlQaGV0U3RyaW5ncy5rZXlib2FyZEhlbHBEaWFsb2cubWF4aW11bVN0cmluZ1Byb3BlcnR5LFxyXG4gICAgICBtaW5pbXVtU3RyaW5nUHJvcGVydHk6IFNjZW5lcnlQaGV0U3RyaW5ncy5rZXlib2FyZEhlbHBEaWFsb2cubWluaW11bVN0cmluZ1Byb3BlcnR5LFxyXG5cclxuICAgICAgYWRqdXN0U2xpZGVyU3RyaW5nUHJvcGVydHk6IFNjZW5lcnlQaGV0U3RyaW5ncy5rZXlib2FyZEhlbHBEaWFsb2cuYWRqdXN0U2xpZGVyU3RyaW5nUHJvcGVydHksXHJcbiAgICAgIGFkanVzdEluU21hbGxlclN0ZXBzU3RyaW5nUHJvcGVydHk6IFNjZW5lcnlQaGV0U3RyaW5ncy5rZXlib2FyZEhlbHBEaWFsb2cuYWRqdXN0SW5TbWFsbGVyU3RlcHNTdHJpbmdQcm9wZXJ0eSxcclxuICAgICAgYWRqdXN0SW5MYXJnZXJTdGVwc1N0cmluZ1Byb3BlcnR5OiBTY2VuZXJ5UGhldFN0cmluZ3Mua2V5Ym9hcmRIZWxwRGlhbG9nLmFkanVzdEluTGFyZ2VyU3RlcHNTdHJpbmdQcm9wZXJ0eSxcclxuXHJcbiAgICAgIGluY2x1ZGVTbWFsbGVyU3RlcHNSb3c6IHRydWUsXHJcbiAgICAgIGluY2x1ZGVMYXJnZXJTdGVwc1JvdzogdHJ1ZVxyXG4gICAgfSwgcHJvdmlkZWRPcHRpb25zICk7XHJcblxyXG4gICAgbGV0IGFkanVzdFNsaWRlclN0cmluZ1Byb3BlcnR5ID0gb3B0aW9ucy5hZGp1c3RTbGlkZXJTdHJpbmdQcm9wZXJ0eTtcclxuICAgIGxldCBhZGp1c3RJblNtYWxsZXJTdGVwc1N0cmluZ1Byb3BlcnR5ID0gb3B0aW9ucy5hZGp1c3RJblNtYWxsZXJTdGVwc1N0cmluZ1Byb3BlcnR5O1xyXG4gICAgbGV0IGFkanVzdEluTGFyZ2VyU3RlcHNTdHJpbmdQcm9wZXJ0eSA9IG9wdGlvbnMuYWRqdXN0SW5MYXJnZXJTdGVwc1N0cmluZ1Byb3BlcnR5O1xyXG4gICAgaWYgKCBvcHRpb25zLnZlcmJTdHJpbmdQcm9wZXJ0eSAhPT0gU2NlbmVyeVBoZXRTdHJpbmdzLmtleWJvYXJkSGVscERpYWxvZy5hZGp1c3RTdHJpbmdQcm9wZXJ0eSB8fFxyXG4gICAgICAgICBvcHRpb25zLnNsaWRlclN0cmluZ1Byb3BlcnR5ICE9PSBTY2VuZXJ5UGhldFN0cmluZ3Mua2V5Ym9hcmRIZWxwRGlhbG9nLnNsaWRlclN0cmluZ1Byb3BlcnR5XHJcbiAgICApIHtcclxuXHJcbiAgICAgIC8vIHdlIGFyZSBmaWxsaW5nIGluIHRoZSB2ZXJiIGFuZCBuYW1lXHJcbiAgICAgIGFkanVzdFNsaWRlclN0cmluZ1Byb3BlcnR5ID0gbmV3IFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSggU2NlbmVyeVBoZXRTdHJpbmdzLmtleWJvYXJkSGVscERpYWxvZy52ZXJiU2xpZGVyUGF0dGVyblN0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgICAgdmVyYjogb3B0aW9ucy52ZXJiU3RyaW5nUHJvcGVydHksXHJcbiAgICAgICAgc2xpZGVyOiBvcHRpb25zLnNsaWRlclN0cmluZ1Byb3BlcnR5XHJcbiAgICAgIH0sIHsgdGFuZGVtOiBUYW5kZW0uT1BUX09VVCB9ICk7XHJcbiAgICAgIGFkanVzdEluU21hbGxlclN0ZXBzU3RyaW5nUHJvcGVydHkgPSBuZXcgUGF0dGVyblN0cmluZ1Byb3BlcnR5KCBTY2VuZXJ5UGhldFN0cmluZ3Mua2V5Ym9hcmRIZWxwRGlhbG9nLnZlcmJJblNtYWxsZXJTdGVwc1BhdHRlcm5TdHJpbmdQcm9wZXJ0eSwge1xyXG4gICAgICAgIHZlcmI6IG9wdGlvbnMudmVyYlN0cmluZ1Byb3BlcnR5XHJcbiAgICAgIH0sIHsgdGFuZGVtOiBUYW5kZW0uT1BUX09VVCB9ICk7XHJcbiAgICAgIGFkanVzdEluTGFyZ2VyU3RlcHNTdHJpbmdQcm9wZXJ0eSA9IG5ldyBQYXR0ZXJuU3RyaW5nUHJvcGVydHkoIFNjZW5lcnlQaGV0U3RyaW5ncy5rZXlib2FyZEhlbHBEaWFsb2cudmVyYkluTGFyZ2VyU3RlcHNQYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcclxuICAgICAgICB2ZXJiOiBvcHRpb25zLnZlcmJTdHJpbmdQcm9wZXJ0eVxyXG4gICAgICB9LCB7IHRhbmRlbTogVGFuZGVtLk9QVF9PVVQgfSApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGtleXNTdHJpbmdQcm9wZXJ0eSA9XHJcbiAgICAgICggb3B0aW9ucy5hcnJvd0tleUljb25EaXNwbGF5ID09PSBBcnJvd0tleUljb25EaXNwbGF5LkxFRlRfUklHSFQgKSA/IFNjZW5lcnlQaGV0U3RyaW5ncy5hMTF5LmtleWJvYXJkSGVscERpYWxvZy5zbGlkZXIubGVmdFJpZ2h0QXJyb3dLZXlzU3RyaW5nUHJvcGVydHkgOlxyXG4gICAgICAoIG9wdGlvbnMuYXJyb3dLZXlJY29uRGlzcGxheSA9PT0gQXJyb3dLZXlJY29uRGlzcGxheS5VUF9ET1dOICkgPyBTY2VuZXJ5UGhldFN0cmluZ3MuYTExeS5rZXlib2FyZEhlbHBEaWFsb2cuc2xpZGVyLnVwRG93bkFycm93S2V5c1N0cmluZ1Byb3BlcnR5IDpcclxuICAgICAgKCBvcHRpb25zLmFycm93S2V5SWNvbkRpc3BsYXkgPT09IEFycm93S2V5SWNvbkRpc3BsYXkuQk9USCApID9cclxuICAgICAgbmV3IFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSggU2NlbmVyeVBoZXRTdHJpbmdzLmExMXkua2V5Ym9hcmRIZWxwRGlhbG9nLnNsaWRlci5vcktleXNQYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcclxuICAgICAgICBsZWZ0UmlnaHQ6IFNjZW5lcnlQaGV0U3RyaW5ncy5hMTF5LmtleWJvYXJkSGVscERpYWxvZy5zbGlkZXIubGVmdFJpZ2h0QXJyb3dLZXlzU3RyaW5nUHJvcGVydHksXHJcbiAgICAgICAgdXBEb3duOiBTY2VuZXJ5UGhldFN0cmluZ3MuYTExeS5rZXlib2FyZEhlbHBEaWFsb2cuc2xpZGVyLnVwRG93bkFycm93S2V5c1N0cmluZ1Byb3BlcnR5XHJcbiAgICAgIH0sIHsgdGFuZGVtOiBUYW5kZW0uT1BUX09VVCB9ICkgOiBudWxsO1xyXG4gICAgYXNzZXJ0ICYmIGFzc2VydCgga2V5c1N0cmluZ1Byb3BlcnR5ICk7XHJcbiAgICBjb25zdCBrZXlib2FyZEhlbHBEaWFsb2dEZWZhdWx0U3RlcHNTdHJpbmdQcm9wZXJ0eSA9IG5ldyBQYXR0ZXJuU3RyaW5nUHJvcGVydHkoIFNjZW5lcnlQaGV0U3RyaW5ncy5hMTF5LmtleWJvYXJkSGVscERpYWxvZy5zbGlkZXIuZGVmYXVsdFN0ZXBzRGVzY3JpcHRpb25QYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcclxuICAgICAgdmVyYjogb3B0aW9ucy52ZXJiU3RyaW5nUHJvcGVydHksXHJcbiAgICAgIHNsaWRlcjogb3B0aW9ucy5zbGlkZXJTdHJpbmdQcm9wZXJ0eSxcclxuICAgICAga2V5czoga2V5c1N0cmluZ1Byb3BlcnR5IVxyXG4gICAgfSwgeyB0YW5kZW06IFRhbmRlbS5PUFRfT1VUIH0gKTtcclxuXHJcbiAgICBjb25zdCBzaGlmdEtleXNTdHJpbmdQcm9wZXJ0eSA9XHJcbiAgICAgICggb3B0aW9ucy5hcnJvd0tleUljb25EaXNwbGF5ID09PSBBcnJvd0tleUljb25EaXNwbGF5LkxFRlRfUklHSFQgKSA/IFNjZW5lcnlQaGV0U3RyaW5ncy5hMTF5LmtleWJvYXJkSGVscERpYWxvZy5zbGlkZXIuc2hpZnRMZWZ0UmlnaHRBcnJvd0tleXNTdHJpbmdQcm9wZXJ0eSA6XHJcbiAgICAgICggb3B0aW9ucy5hcnJvd0tleUljb25EaXNwbGF5ID09PSBBcnJvd0tleUljb25EaXNwbGF5LlVQX0RPV04gKSA/IFNjZW5lcnlQaGV0U3RyaW5ncy5hMTF5LmtleWJvYXJkSGVscERpYWxvZy5zbGlkZXIuc2hpZnRVcERvd25BcnJvd0tleXNTdHJpbmdQcm9wZXJ0eSA6XHJcbiAgICAgICggb3B0aW9ucy5hcnJvd0tleUljb25EaXNwbGF5ID09PSBBcnJvd0tleUljb25EaXNwbGF5LkJPVEggKSA/IG5ldyBQYXR0ZXJuU3RyaW5nUHJvcGVydHkoIFNjZW5lcnlQaGV0U3RyaW5ncy5hMTF5LmtleWJvYXJkSGVscERpYWxvZy5zbGlkZXIub3JLZXlzUGF0dGVyblN0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgICAgbGVmdFJpZ2h0OiBTY2VuZXJ5UGhldFN0cmluZ3MuYTExeS5rZXlib2FyZEhlbHBEaWFsb2cuc2xpZGVyLnNoaWZ0TGVmdFJpZ2h0QXJyb3dLZXlzU3RyaW5nUHJvcGVydHksXHJcbiAgICAgICAgdXBEb3duOiBTY2VuZXJ5UGhldFN0cmluZ3MuYTExeS5rZXlib2FyZEhlbHBEaWFsb2cuc2xpZGVyLnNoaWZ0VXBEb3duQXJyb3dLZXlzU3RyaW5nUHJvcGVydHlcclxuICAgICAgfSwgeyB0YW5kZW06IFRhbmRlbS5PUFRfT1VUIH0gKSA6IG51bGw7XHJcbiAgICBhc3NlcnQgJiYgYXNzZXJ0KCBzaGlmdEtleXNTdHJpbmdQcm9wZXJ0eSApO1xyXG4gICAgY29uc3Qga2V5Ym9hcmRIZWxwRGlhbG9nU21hbGxlclN0ZXBzU3RyaW5nUHJvcGVydHkgPSBuZXcgUGF0dGVyblN0cmluZ1Byb3BlcnR5KCBTY2VuZXJ5UGhldFN0cmluZ3MuYTExeS5rZXlib2FyZEhlbHBEaWFsb2cuc2xpZGVyLnNtYWxsZXJTdGVwc0Rlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgIHZlcmI6IG9wdGlvbnMudmVyYlN0cmluZ1Byb3BlcnR5LFxyXG4gICAgICBrZXlzOiBzaGlmdEtleXNTdHJpbmdQcm9wZXJ0eSFcclxuICAgIH0sIHsgdGFuZGVtOiBUYW5kZW0uT1BUX09VVCB9ICk7XHJcbiAgICBjb25zdCBrZXlib2FyZEhlbHBEaWFsb2dMYXJnZXJTdGVwc1N0cmluZ1Byb3BlcnR5ID0gbmV3IFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSggU2NlbmVyeVBoZXRTdHJpbmdzLmExMXkua2V5Ym9hcmRIZWxwRGlhbG9nLnNsaWRlci5sYXJnZXJTdGVwc0Rlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgIHZlcmI6IG9wdGlvbnMudmVyYlN0cmluZ1Byb3BlcnR5XHJcbiAgICB9LCB7IHRhbmRlbTogVGFuZGVtLk9QVF9PVVQgfSApO1xyXG5cclxuICAgIGNvbnN0IGp1bXBUb01pbmltdW1TdHJpbmdQcm9wZXJ0eSA9IG5ldyBQYXR0ZXJuU3RyaW5nUHJvcGVydHkoIFNjZW5lcnlQaGV0U3RyaW5ncy5rZXlib2FyZEhlbHBEaWFsb2cuanVtcFRvTWluaW11bVBhdHRlcm5TdHJpbmdQcm9wZXJ0eSwge1xyXG4gICAgICBtaW5pbXVtOiBvcHRpb25zLm1pbmltdW1TdHJpbmdQcm9wZXJ0eVxyXG4gICAgfSwgeyB0YW5kZW06IFRhbmRlbS5PUFRfT1VUIH0gKTtcclxuICAgIGNvbnN0IGp1bXBUb01heGltdW1TdHJpbmdQcm9wZXJ0eSA9IG5ldyBQYXR0ZXJuU3RyaW5nUHJvcGVydHkoIFNjZW5lcnlQaGV0U3RyaW5ncy5rZXlib2FyZEhlbHBEaWFsb2cuanVtcFRvTWF4aW11bVBhdHRlcm5TdHJpbmdQcm9wZXJ0eSwge1xyXG4gICAgICBtYXhpbXVtOiBvcHRpb25zLm1heGltdW1TdHJpbmdQcm9wZXJ0eVxyXG4gICAgfSwgeyB0YW5kZW06IFRhbmRlbS5PUFRfT1VUIH0gKTtcclxuICAgIGNvbnN0IGp1bXBUb01pbmltdW1EZXNjcmlwdGlvblN0cmluZ1Byb3BlcnR5ID0gbmV3IFBhdHRlcm5TdHJpbmdQcm9wZXJ0eSggU2NlbmVyeVBoZXRTdHJpbmdzLmExMXkua2V5Ym9hcmRIZWxwRGlhbG9nLnNsaWRlci5qdW1wVG9NaW5pbXVtRGVzY3JpcHRpb25QYXR0ZXJuU3RyaW5nUHJvcGVydHksIHtcclxuICAgICAgbWluaW11bTogb3B0aW9ucy5taW5pbXVtU3RyaW5nUHJvcGVydHlcclxuICAgIH0sIHsgdGFuZGVtOiBUYW5kZW0uT1BUX09VVCB9ICk7XHJcbiAgICBjb25zdCBqdW1wVG9NYXhpbXVtRGVzY3JpcHRpb25TdHJpbmdQcm9wZXJ0eSA9IG5ldyBQYXR0ZXJuU3RyaW5nUHJvcGVydHkoIFNjZW5lcnlQaGV0U3RyaW5ncy5hMTF5LmtleWJvYXJkSGVscERpYWxvZy5zbGlkZXIuanVtcFRvTWF4aW11bURlc2NyaXB0aW9uUGF0dGVyblN0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgIG1heGltdW06IG9wdGlvbnMubWF4aW11bVN0cmluZ1Byb3BlcnR5XHJcbiAgICB9LCB7IHRhbmRlbTogVGFuZGVtLk9QVF9PVVQgfSApO1xyXG5cclxuICAgIC8vICdNb3ZlIHNsaWRlcnMnIGNvbnRlbnRcclxuXHJcbiAgICBjb25zdCBsZWZ0UmlnaHRBcnJvd0tleXNSb3dJY29uID0gS2V5Ym9hcmRIZWxwSWNvbkZhY3RvcnkubGVmdFJpZ2h0QXJyb3dLZXlzUm93SWNvbigpO1xyXG4gICAgY29uc3Qgc2hpZnRQbHVzTGVmdFJpZ2h0SWNvbiA9IEtleWJvYXJkSGVscEljb25GYWN0b3J5LnNoaWZ0UGx1c0ljb24oIGxlZnRSaWdodEFycm93S2V5c1Jvd0ljb24gKTtcclxuICAgIGNvbnN0IHVwRG93bkFycm93S2V5c1Jvd0ljb24gPSBLZXlib2FyZEhlbHBJY29uRmFjdG9yeS51cERvd25BcnJvd0tleXNSb3dJY29uKCk7XHJcbiAgICBjb25zdCBzaGlmdFBsdXNVcERvd25JY29uID0gS2V5Ym9hcmRIZWxwSWNvbkZhY3Rvcnkuc2hpZnRQbHVzSWNvbiggdXBEb3duQXJyb3dLZXlzUm93SWNvbiApO1xyXG4gICAgY29uc3QgbGVmdFJpZ2h0T3JVcERvd25JY29uID0gS2V5Ym9hcmRIZWxwSWNvbkZhY3RvcnkuaWNvbk9ySWNvbiggbGVmdFJpZ2h0QXJyb3dLZXlzUm93SWNvbiwgdXBEb3duQXJyb3dLZXlzUm93SWNvbiApO1xyXG5cclxuICAgIGxldCBhZGp1c3RTbGlkZXJJY29uID0gbnVsbDtcclxuICAgIGxldCBhZGp1c3RTbGlkZXJTbWFsbGVyU3RlcHNJY29ucyA9IG51bGw7XHJcblxyXG4gICAgc3dpdGNoKCBvcHRpb25zLmFycm93S2V5SWNvbkRpc3BsYXkgKSB7XHJcbiAgICAgIGNhc2UgQXJyb3dLZXlJY29uRGlzcGxheS5MRUZUX1JJR0hUOlxyXG4gICAgICAgIGFkanVzdFNsaWRlckljb24gPSBsZWZ0UmlnaHRBcnJvd0tleXNSb3dJY29uO1xyXG4gICAgICAgIGFkanVzdFNsaWRlclNtYWxsZXJTdGVwc0ljb25zID0gWyBzaGlmdFBsdXNMZWZ0UmlnaHRJY29uIF07XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgQXJyb3dLZXlJY29uRGlzcGxheS5VUF9ET1dOOlxyXG4gICAgICAgIGFkanVzdFNsaWRlckljb24gPSB1cERvd25BcnJvd0tleXNSb3dJY29uO1xyXG4gICAgICAgIGFkanVzdFNsaWRlclNtYWxsZXJTdGVwc0ljb25zID0gWyBzaGlmdFBsdXNVcERvd25JY29uIF07XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgYXNzZXJ0ICYmIGFzc2VydCggb3B0aW9ucy5hcnJvd0tleUljb25EaXNwbGF5ID09PSBBcnJvd0tleUljb25EaXNwbGF5LkJPVEgsICd1bnN1cHBvcnRlZCBhcnJvd0tleUljb25EaXNwbGF5JyApO1xyXG4gICAgICAgIGFkanVzdFNsaWRlckljb24gPSBsZWZ0UmlnaHRPclVwRG93bkljb247XHJcbiAgICAgICAgYWRqdXN0U2xpZGVyU21hbGxlclN0ZXBzSWNvbnMgPSBbIHNoaWZ0UGx1c0xlZnRSaWdodEljb24sIHNoaWZ0UGx1c1VwRG93bkljb24gXTtcclxuICAgIH1cclxuICAgIGNvbnN0IGFkanVzdFNsaWRlclJvdyA9IEtleWJvYXJkSGVscFNlY3Rpb25Sb3cubGFiZWxXaXRoSWNvbiggYWRqdXN0U2xpZGVyU3RyaW5nUHJvcGVydHksIGFkanVzdFNsaWRlckljb24sIHtcclxuICAgICAgbGFiZWxJbm5lckNvbnRlbnQ6IGtleWJvYXJkSGVscERpYWxvZ0RlZmF1bHRTdGVwc1N0cmluZ1Byb3BlcnR5XHJcbiAgICB9ICk7XHJcblxyXG4gICAgY29uc3QgYWRqdXN0U2xpZGVySW5TbWFsbGVyU3RlcHNSb3cgPSBLZXlib2FyZEhlbHBTZWN0aW9uUm93LmxhYmVsV2l0aEljb25MaXN0KCBhZGp1c3RJblNtYWxsZXJTdGVwc1N0cmluZ1Byb3BlcnR5LFxyXG4gICAgICBhZGp1c3RTbGlkZXJTbWFsbGVyU3RlcHNJY29ucywge1xyXG4gICAgICAgIGxhYmVsSW5uZXJDb250ZW50OiBrZXlib2FyZEhlbHBEaWFsb2dTbWFsbGVyU3RlcHNTdHJpbmdQcm9wZXJ0eVxyXG4gICAgICB9ICk7XHJcblxyXG4gICAgLy8gJ21vdmUgaW4gbGFyZ2VyIHN0ZXBzJyBjb250ZW50XHJcbiAgICBjb25zdCBwYWdlVXBLZXlOb2RlID0gVGV4dEtleU5vZGUucGFnZVVwKCk7XHJcbiAgICBjb25zdCBwYWdlRG93bktleU5vZGUgPSBUZXh0S2V5Tm9kZS5wYWdlRG93bigpO1xyXG4gICAgY29uc3QgcGFnZVVwUGFnZURvd25JY29uID0gbmV3IEhCb3goIHtcclxuICAgICAgY2hpbGRyZW46IFsgcGFnZVVwS2V5Tm9kZSwgcGFnZURvd25LZXlOb2RlIF0sXHJcbiAgICAgIHNwYWNpbmc6IEtleWJvYXJkSGVscEljb25GYWN0b3J5LkRFRkFVTFRfSUNPTl9TUEFDSU5HXHJcbiAgICB9ICk7XHJcbiAgICBjb25zdCBhZGp1c3RJbkxhcmdlclN0ZXBzUm93ID0gS2V5Ym9hcmRIZWxwU2VjdGlvblJvdy5sYWJlbFdpdGhJY29uKCBhZGp1c3RJbkxhcmdlclN0ZXBzU3RyaW5nUHJvcGVydHksIHBhZ2VVcFBhZ2VEb3duSWNvbiwge1xyXG4gICAgICBsYWJlbElubmVyQ29udGVudDoga2V5Ym9hcmRIZWxwRGlhbG9nTGFyZ2VyU3RlcHNTdHJpbmdQcm9wZXJ0eVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vICdtb3ZlIHRvIG1pbmltdW0gdmFsdWUnIGNvbnRlbnRcclxuICAgIGNvbnN0IGhvbWVLZXlOb2RlID0gVGV4dEtleU5vZGUuaG9tZSgpO1xyXG4gICAgY29uc3QganVtcFRvTWluaW11bVJvdyA9IEtleWJvYXJkSGVscFNlY3Rpb25Sb3cubGFiZWxXaXRoSWNvbigganVtcFRvTWluaW11bVN0cmluZ1Byb3BlcnR5LCBob21lS2V5Tm9kZSwge1xyXG4gICAgICBsYWJlbElubmVyQ29udGVudDoganVtcFRvTWluaW11bURlc2NyaXB0aW9uU3RyaW5nUHJvcGVydHlcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyAnbW92ZSB0byBtYXhpbXVtIHZhbHVlJyBjb250ZW50XHJcbiAgICBjb25zdCBlbmRLZXlOb2RlID0gVGV4dEtleU5vZGUuZW5kKCk7XHJcbiAgICBjb25zdCBqdW1wVG9NYXhpbXVtUm93ID0gS2V5Ym9hcmRIZWxwU2VjdGlvblJvdy5sYWJlbFdpdGhJY29uKCBqdW1wVG9NYXhpbXVtU3RyaW5nUHJvcGVydHksIGVuZEtleU5vZGUsIHtcclxuICAgICAgbGFiZWxJbm5lckNvbnRlbnQ6IGp1bXBUb01heGltdW1EZXNjcmlwdGlvblN0cmluZ1Byb3BlcnR5XHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gYXNzZW1ibGUgZmluYWwgY29udGVudCBmb3IgS2V5Ym9hcmRIZWxwU2VjdGlvblxyXG4gICAgY29uc3QgY29udGVudCA9IFtcclxuICAgICAgYWRqdXN0U2xpZGVyUm93LFxyXG4gICAgICAuLi4oIG9wdGlvbnMuaW5jbHVkZVNtYWxsZXJTdGVwc1JvdyA/IFsgYWRqdXN0U2xpZGVySW5TbWFsbGVyU3RlcHNSb3cgXSA6IFtdICksXHJcbiAgICAgIC4uLiggb3B0aW9ucy5pbmNsdWRlTGFyZ2VyU3RlcHNSb3cgPyBbIGFkanVzdEluTGFyZ2VyU3RlcHNSb3cgXSA6IFtdICksXHJcbiAgICAgIGp1bXBUb01pbmltdW1Sb3csXHJcbiAgICAgIGp1bXBUb01heGltdW1Sb3dcclxuICAgIF07XHJcblxyXG4gICAgc3VwZXIoIG9wdGlvbnMuaGVhZGluZ1N0cmluZ1Byb3BlcnR5LCBjb250ZW50LCBvcHRpb25zICk7XHJcbiAgfVxyXG59XHJcblxyXG5zY2VuZXJ5UGhldC5yZWdpc3RlciggJ1NsaWRlckNvbnRyb2xzS2V5Ym9hcmRIZWxwU2VjdGlvbicsIFNsaWRlckNvbnRyb2xzS2V5Ym9hcmRIZWxwU2VjdGlvbiApOyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxxQkFBcUIsTUFBTSw4Q0FBOEM7QUFFaEYsT0FBT0MsV0FBVyxNQUFNLHlDQUF5QztBQUNqRSxPQUFPQyxnQkFBZ0IsTUFBTSw4Q0FBOEM7QUFDM0Us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